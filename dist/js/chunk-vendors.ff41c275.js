(self["webpackChunktraveller"]=self["webpackChunktraveller"]||[]).push([[998],{9662:function(t,e,n){var r=n(7854),i=n(614),s=n(6330),o=r.TypeError;t.exports=function(t){if(i(t))return t;throw o(s(t)+" is not a function")}},6077:function(t,e,n){var r=n(7854),i=n(614),s=r.String,o=r.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw o("Can't set "+s(t)+" as a prototype")}},1223:function(t,e,n){var r=n(5112),i=n(30),s=n(3070),o=r("unscopables"),a=Array.prototype;void 0==a[o]&&s.f(a,o,{configurable:!0,value:i(null)}),t.exports=function(t){a[o][t]=!0}},5787:function(t,e,n){var r=n(7854),i=n(7976),s=r.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw s("Incorrect invocation")}},9670:function(t,e,n){var r=n(7854),i=n(111),s=r.String,o=r.TypeError;t.exports=function(t){if(i(t))return t;throw o(s(t)+" is not an object")}},4019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,n){"use strict";var r,i,s,o=n(4019),a=n(9781),c=n(7854),u=n(614),l=n(111),h=n(2597),d=n(648),f=n(6330),p=n(8880),g=n(8052),m=n(3070).f,y=n(7976),v=n(9518),b=n(7674),w=n(5112),_=n(9711),x=c.Int8Array,I=x&&x.prototype,E=c.Uint8ClampedArray,T=E&&E.prototype,S=x&&v(x),k=I&&v(I),C=Object.prototype,A=c.TypeError,O=w("toStringTag"),D=_("TYPED_ARRAY_TAG"),R=_("TYPED_ARRAY_CONSTRUCTOR"),P=o&&!!b&&"Opera"!==d(c.opera),N=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},F=function(t){if(!l(t))return!1;var e=d(t);return"DataView"===e||h(M,e)||h(L,e)},j=function(t){if(!l(t))return!1;var e=d(t);return h(M,e)||h(L,e)},B=function(t){if(j(t))return t;throw A("Target is not a typed array")},V=function(t){if(u(t)&&(!b||y(S,t)))return t;throw A(f(t)+" is not a typed array constructor")},U=function(t,e,n,r){if(a){if(n)for(var i in M){var s=c[i];if(s&&h(s.prototype,t))try{delete s.prototype[t]}catch(o){try{s.prototype[t]=e}catch(u){}}}k[t]&&!n||g(k,t,n?e:P&&I[t]||e,r)}},$=function(t,e,n){var r,i;if(a){if(b){if(n)for(r in M)if(i=c[r],i&&h(i,t))try{delete i[t]}catch(s){}if(S[t]&&!n)return;try{return g(S,t,n?e:P&&S[t]||e)}catch(s){}}for(r in M)i=c[r],!i||i[t]&&!n||g(i,t,e)}};for(r in M)i=c[r],s=i&&i.prototype,s?p(s,R,i):P=!1;for(r in L)i=c[r],s=i&&i.prototype,s&&p(s,R,i);if((!P||!u(S)||S===Function.prototype)&&(S=function(){throw A("Incorrect invocation")},P))for(r in M)c[r]&&b(c[r],S);if((!P||!k||k===C)&&(k=S.prototype,P))for(r in M)c[r]&&b(c[r].prototype,k);if(P&&v(T)!==k&&b(T,k),a&&!h(k,O))for(r in N=!0,m(k,O,{get:function(){return l(this)?this[D]:void 0}}),M)c[r]&&p(c[r],D,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_CONSTRUCTOR:R,TYPED_ARRAY_TAG:N&&D,aTypedArray:B,aTypedArrayConstructor:V,exportTypedArrayMethod:U,exportTypedArrayStaticMethod:$,isView:F,isTypedArray:j,TypedArray:S,TypedArrayPrototype:k}},1318:function(t,e,n){var r=n(5656),i=n(1400),s=n(6244),o=function(t){return function(e,n,o){var a,c=r(e),u=s(c),l=i(o,u);if(t&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},4326:function(t,e,n){var r=n(1702),i=r({}.toString),s=r("".slice);t.exports=function(t){return s(i(t),8,-1)}},648:function(t,e,n){var r=n(7854),i=n(1694),s=n(614),o=n(4326),a=n(5112),c=a("toStringTag"),u=r.Object,l="Arguments"==o(function(){return arguments}()),h=function(t,e){try{return t[e]}catch(n){}};t.exports=i?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=h(e=u(t),c))?n:l?o(e):"Object"==(r=o(e))&&s(e.callee)?"Arguments":r}},7741:function(t,e,n){var r=n(1702),i=Error,s=r("".replace),o=function(t){return String(i(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(o);t.exports=function(t,e){if(c&&"string"==typeof t&&!i.prepareStackTrace)while(e--)t=s(t,a,"");return t}},9920:function(t,e,n){var r=n(2597),i=n(3887),s=n(1236),o=n(3070);t.exports=function(t,e,n){for(var a=i(e),c=o.f,u=s.f,l=0;l<a.length;l++){var h=a[l];r(t,h)||n&&r(n,h)||c(t,h,u(e,h))}}},8544:function(t,e,n){var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},8880:function(t,e,n){var r=n(9781),i=n(3070),s=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8052:function(t,e,n){var r=n(7854),i=n(614),s=n(8880),o=n(6339),a=n(3505);t.exports=function(t,e,n,c){var u=!!c&&!!c.unsafe,l=!!c&&!!c.enumerable,h=!!c&&!!c.noTargetGet,d=c&&void 0!==c.name?c.name:e;return i(n)&&o(n,d,c),t===r?(l?t[e]=n:a(e,n),t):(u?!h&&t[e]&&(l=!0):delete t[e],l?t[e]=n:s(t,e,n),t)}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var r=n(7854),i=n(111),s=r.document,o=i(s)&&i(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},3678:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:function(t,e,n){var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:function(t,e,n){var r,i,s=n(7854),o=n(8113),a=s.process,c=s.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(r=l.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(t,e,n){var r=n(7293),i=n(9114);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},2109:function(t,e,n){var r=n(7854),i=n(1236).f,s=n(8880),o=n(8052),a=n(3505),c=n(9920),u=n(4705);t.exports=function(t,e){var n,l,h,d,f,p,g=t.target,m=t.global,y=t.stat;if(l=m?r:y?r[g]||a(g,{}):(r[g]||{}).prototype,l)for(h in e){if(f=e[h],t.noTargetGet?(p=i(l,h),d=p&&p.value):d=l[h],n=u(m?h:g+(y?".":"#")+h,t.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(t.sham||d&&d.sham)&&s(f,"sham",!0),o(l,h,f,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},2104:function(t,e,n){var r=n(4374),i=Function.prototype,s=i.apply,o=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(s):function(){return o.apply(s,arguments)})},4374:function(t,e,n){var r=n(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var r=n(4374),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(t,e,n){var r=n(9781),i=n(2597),s=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,a=i(s,"name"),c=a&&"something"===function(){}.name,u=a&&(!r||r&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},1702:function(t,e,n){var r=n(4374),i=Function.prototype,s=i.bind,o=i.call,a=r&&s.bind(o,o);t.exports=r?function(t){return t&&a(t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},5005:function(t,e,n){var r=n(7854),i=n(614),s=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(r[t]):r[t]&&r[t][e]}},8173:function(t,e,n){var r=n(9662);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var r=n(1702),i=n(7908),s=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(i(t),e)}},3501:function(t){t.exports={}},490:function(t,e,n){var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){var r=n(9781),i=n(7293),s=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var r=n(7854),i=n(1702),s=n(7293),o=n(4326),a=r.Object,c=i("".split);t.exports=s((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?c(t,""):a(t)}:a},9587:function(t,e,n){var r=n(614),i=n(111),s=n(7674);t.exports=function(t,e,n){var o,a;return s&&r(o=e.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&s(t,a),t}},2788:function(t,e,n){var r=n(1702),i=n(614),s=n(5465),o=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},8340:function(t,e,n){var r=n(111),i=n(8880);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},9909:function(t,e,n){var r,i,s,o=n(8536),a=n(7854),c=n(1702),u=n(111),l=n(8880),h=n(2597),d=n(5465),f=n(6200),p=n(3501),g="Object already initialized",m=a.TypeError,y=a.WeakMap,v=function(t){return s(t)?i(t):r(t,{})},b=function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return n}};if(o||d.state){var w=d.state||(d.state=new y),_=c(w.get),x=c(w.has),I=c(w.set);r=function(t,e){if(x(w,t))throw new m(g);return e.facade=t,I(w,t,e),e},i=function(t){return _(w,t)||{}},s=function(t){return x(w,t)}}else{var E=f("state");p[E]=!0,r=function(t,e){if(h(t,E))throw new m(g);return e.facade=t,l(t,E,e),e},i=function(t){return h(t,E)?t[E]:{}},s=function(t){return h(t,E)}}t.exports={set:r,get:i,has:s,enforce:v,getterFor:b}},614:function(t){t.exports=function(t){return"function"==typeof t}},4705:function(t,e,n){var r=n(7293),i=n(614),s=/#|\.prototype\./,o=function(t,e){var n=c[a(t)];return n==l||n!=u&&(i(e)?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},c=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},111:function(t,e,n){var r=n(614);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){t.exports=!1},2190:function(t,e,n){var r=n(7854),i=n(5005),s=n(614),o=n(7976),a=n(3307),c=r.Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return s(e)&&o(e.prototype,c(t))}},6244:function(t,e,n){var r=n(7466);t.exports=function(t){return r(t.length)}},6339:function(t,e,n){var r=n(7293),i=n(614),s=n(2597),o=n(3070).f,a=n(6530).CONFIGURABLE,c=n(2788),u=n(9909),l=u.enforce,h=u.get,d=!r((function(){return 8!==o((function(){}),"length",{value:8}).length})),f=String(String).split("String"),p=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||a&&t.name!==e)&&o(t,"name",{value:e,configurable:!0}),d&&n&&s(n,"arity")&&t.length!==n.arity&&o(t,"length",{value:n.arity});var r=l(t);return s(r,"source")||(r.source=f.join("string"==typeof e?e:"")),t};Function.prototype.toString=p((function(){return i(this)&&h(this).source||c(this)}),"toString")},133:function(t,e,n){var r=n(7392),i=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:function(t,e,n){var r=n(7854),i=n(614),s=n(2788),o=r.WeakMap;t.exports=i(o)&&/native code/.test(s(o))},6277:function(t,e,n){var r=n(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},30:function(t,e,n){var r,i=n(9670),s=n(6048),o=n(748),a=n(3501),c=n(490),u=n(317),l=n(6200),h=">",d="<",f="prototype",p="script",g=l("IE_PROTO"),m=function(){},y=function(t){return d+p+h+t+d+"/"+p+h},v=function(t){t.write(y("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=u("iframe"),n="java"+p+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(y("document.F=Object")),t.close(),t.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}w="undefined"!=typeof document?document.domain&&r?v(r):b():v(r);var t=o.length;while(t--)delete w[f][o[t]];return w()};a[g]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(m[f]=i(t),n=new m,m[f]=null,n[g]=t):n=w(),void 0===e?n:s.f(n,e)}},6048:function(t,e,n){var r=n(9781),i=n(3353),s=n(3070),o=n(9670),a=n(5656),c=n(1956);e.f=r&&!i?Object.defineProperties:function(t,e){o(t);var n,r=a(e),i=c(e),u=i.length,l=0;while(u>l)s.f(t,n=i[l++],r[n]);return t}},3070:function(t,e,n){var r=n(7854),i=n(9781),s=n(4664),o=n(3353),a=n(9670),c=n(4948),u=r.TypeError,l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";e.f=i?o?function(t,e,n){if(a(t),e=c(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var r=h(t,e);r&&r[p]&&(t[e]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(a(t),e=c(e),a(n),s)try{return l(t,e,n)}catch(r){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),i=n(6916),s=n(5296),o=n(9114),a=n(5656),c=n(4948),u=n(2597),l=n(4664),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=a(t),e=c(e),l)try{return h(t,e)}catch(n){}if(u(t,e))return o(!i(s.f,t,e),t[e])}},8006:function(t,e,n){var r=n(6324),i=n(748),s=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,s)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var r=n(7854),i=n(2597),s=n(614),o=n(7908),a=n(6200),c=n(8544),u=a("IE_PROTO"),l=r.Object,h=l.prototype;t.exports=c?l.getPrototypeOf:function(t){var e=o(t);if(i(e,u))return e[u];var n=e.constructor;return s(n)&&e instanceof n?n.prototype:e instanceof l?h:null}},7976:function(t,e,n){var r=n(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,e,n){var r=n(1702),i=n(2597),s=n(5656),o=n(1318).indexOf,a=n(3501),c=r([].push);t.exports=function(t,e){var n,r=s(t),u=0,l=[];for(n in r)!i(a,n)&&i(r,n)&&c(l,n);while(e.length>u)i(r,n=e[u++])&&(~o(l,n)||c(l,n));return l}},1956:function(t,e,n){var r=n(6324),i=n(748);t.exports=Object.keys||function(t){return r(t,i)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var r=n(1702),i=n(9670),s=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(o){}return function(n,r){return i(n),s(r),e?t(n,r):n.__proto__=r,n}}():void 0)},2140:function(t,e,n){var r=n(7854),i=n(6916),s=n(614),o=n(111),a=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&s(n=t.toString)&&!o(r=i(n,t)))return r;if(s(n=t.valueOf)&&!o(r=i(n,t)))return r;if("string"!==e&&s(n=t.toString)&&!o(r=i(n,t)))return r;throw a("Can't convert object to primitive value")}},3887:function(t,e,n){var r=n(5005),i=n(1702),s=n(8006),o=n(5181),a=n(9670),c=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=s.f(a(t)),n=o.f;return n?c(e,n(t)):e}},2626:function(t,e,n){var r=n(3070).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},4488:function(t,e,n){var r=n(7854),i=r.TypeError;t.exports=function(t){if(void 0==t)throw i("Can't call method on "+t);return t}},3505:function(t,e,n){var r=n(7854),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},6200:function(t,e,n){var r=n(2309),i=n(9711),s=r("keys");t.exports=function(t){return s[t]||(s[t]=i(t))}},5465:function(t,e,n){var r=n(7854),i=n(3505),s="__core-js_shared__",o=r[s]||i(s,{});t.exports=o},2309:function(t,e,n){var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.4",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.4/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:function(t,e,n){var r=n(9303),i=Math.max,s=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):s(n,e)}},5656:function(t,e,n){var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9303:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){var r=+t;return r!==r||0===r?0:(r>0?n:e)(r)}},7466:function(t,e,n){var r=n(9303),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(7854),i=n(4488),s=r.Object;t.exports=function(t){return s(i(t))}},4590:function(t,e,n){var r=n(7854),i=n(3002),s=r.RangeError;t.exports=function(t,e){var n=i(t);if(n%e)throw s("Wrong offset");return n}},3002:function(t,e,n){var r=n(7854),i=n(9303),s=r.RangeError;t.exports=function(t){var e=i(t);if(e<0)throw s("The argument can't be less than 0");return e}},7593:function(t,e,n){var r=n(7854),i=n(6916),s=n(111),o=n(2190),a=n(8173),c=n(2140),u=n(5112),l=r.TypeError,h=u("toPrimitive");t.exports=function(t,e){if(!s(t)||o(t))return t;var n,r=a(t,h);if(r){if(void 0===e&&(e="default"),n=i(r,t,e),!s(n)||o(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},4948:function(t,e,n){var r=n(7593),i=n(2190);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},1694:function(t,e,n){var r=n(5112),i=r("toStringTag"),s={};s[i]="z",t.exports="[object z]"===String(s)},1340:function(t,e,n){var r=n(7854),i=n(648),s=r.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return s(t)}},6330:function(t,e,n){var r=n(7854),i=r.String;t.exports=function(t){try{return i(t)}catch(e){return"Object"}}},9711:function(t,e,n){var r=n(1702),i=0,s=Math.random(),o=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++i+s,36)}},3307:function(t,e,n){var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var r=n(9781),i=n(7293);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:function(t,e,n){var r=n(7854),i=n(2309),s=n(2597),o=n(9711),a=n(133),c=n(3307),u=i("wks"),l=r.Symbol,h=l&&l["for"],d=c?l:l&&l.withoutSetter||o;t.exports=function(t){if(!s(u,t)||!a&&"string"!=typeof u[t]){var e="Symbol."+t;a&&s(l,t)?u[t]=l[t]:u[t]=c&&h?h(e):d(e)}return u[t]}},9191:function(t,e,n){"use strict";var r=n(5005),i=n(2597),s=n(8880),o=n(7976),a=n(7674),c=n(9920),u=n(2626),l=n(9587),h=n(6277),d=n(8340),f=n(7741),p=n(2914),g=n(9781),m=n(1913);t.exports=function(t,e,n,y){var v="stackTraceLimit",b=y?2:1,w=t.split("."),_=w[w.length-1],x=r.apply(null,w);if(x){var I=x.prototype;if(!m&&i(I,"cause")&&delete I.cause,!n)return x;var E=r("Error"),T=e((function(t,e){var n=h(y?e:t,void 0),r=y?new x(t):new x;return void 0!==n&&s(r,"message",n),p&&s(r,"stack",f(r.stack,2)),this&&o(I,this)&&l(r,this,T),arguments.length>b&&d(r,arguments[b]),r}));if(T.prototype=I,"Error"!==_?a?a(T,E):c(T,E,{name:!0}):g&&v in x&&(u(T,x,v),u(T,x,"prepareStackTrace")),c(T,x),!m)try{I.name!==_&&s(I,"name",_),I.constructor=T}catch(S){}return T}}},2262:function(t,e,n){"use strict";var r=n(2109),i=n(7908),s=n(6244),o=n(9303),a=n(1223);r({target:"Array",proto:!0},{at:function(t){var e=i(this),n=s(e),r=o(t),a=r>=0?r:n+r;return a<0||a>=n?void 0:e[a]}}),a("at")},6699:function(t,e,n){"use strict";var r=n(2109),i=n(1318).includes,s=n(7293),o=n(1223),a=s((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:a},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},1703:function(t,e,n){var r=n(2109),i=n(7854),s=n(2104),o=n(9191),a="WebAssembly",c=i[a],u=7!==Error("e",{cause:7}).cause,l=function(t,e){var n={};n[t]=o(t,e,u),r({global:!0,arity:1,forced:u},n)},h=function(t,e){if(c&&c[t]){var n={};n[t]=o(a+"."+t,e,u),r({target:a,stat:!0,arity:1,forced:u},n)}};l("Error",(function(t){return function(e){return s(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return s(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return s(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return s(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return s(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return s(t,this,arguments)}})),l("URIError",(function(t){return function(e){return s(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return s(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return s(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return s(t,this,arguments)}}))},4506:function(t,e,n){"use strict";var r=n(2109),i=n(1702),s=n(4488),o=n(9303),a=n(1340),c=n(7293),u=i("".charAt),l=c((function(){return"\ud842"!=="𠮷".at(-2)}));r({target:"String",proto:!0,forced:l},{at:function(t){var e=a(s(this)),n=e.length,r=o(t),i=r>=0?r:n+r;return i<0||i>=n?void 0:u(e,i)}})},8675:function(t,e,n){"use strict";var r=n(260),i=n(6244),s=n(9303),o=r.aTypedArray,a=r.exportTypedArrayMethod;a("at",(function(t){var e=o(this),n=i(e),r=s(t),a=r>=0?r:n+r;return a<0||a>=n?void 0:e[a]}))},3462:function(t,e,n){"use strict";var r=n(7854),i=n(6916),s=n(260),o=n(6244),a=n(4590),c=n(7908),u=n(7293),l=r.RangeError,h=r.Int8Array,d=h&&h.prototype,f=d&&d.set,p=s.aTypedArray,g=s.exportTypedArrayMethod,m=!u((function(){var t=new Uint8ClampedArray(2);return i(f,t,{length:1,0:3},1),3!==t[1]})),y=m&&s.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));g("set",(function(t){p(this);var e=a(arguments.length>1?arguments[1]:void 0,1),n=c(t);if(m)return i(f,this,n,e);var r=this.length,s=o(n),u=0;if(s+e>r)throw l("Wrong length");while(u<s)this[e+u]=n[u++]}),!m||y)},2801:function(t,e,n){"use strict";var r=n(2109),i=n(5005),s=n(9114),o=n(3070).f,a=n(2597),c=n(5787),u=n(9587),l=n(6277),h=n(3678),d=n(7741),f=n(1913),p="DOMException",g=i("Error"),m=i(p),y=function(){c(this,v);var t=arguments.length,e=l(t<1?void 0:arguments[0]),n=l(t<2?void 0:arguments[1],"Error"),r=new m(e,n),i=g(e);return i.name=p,o(r,"stack",s(1,d(i.stack,1))),u(r,this,y),r},v=y.prototype=m.prototype,b="stack"in g(p),w="stack"in new m(1,2),_=b&&!w;r({global:!0,forced:f||_},{DOMException:_?y:m});var x=i(p),I=x.prototype;if(I.constructor!==x)for(var E in f||o(I,"constructor",s(1,x)),h)if(a(h,E)){var T=h[E],S=T.s;a(x,S)||o(x,S,s(6,T.c))}},343:function(){},9907:function(t,e,n){n(1703),function(e,r){t.exports=r(n(6866))}(window,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(e,n){e.exports=t},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(2))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),s=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},o=n(1),a="object"==typeof self&&self&&self.Object===Object&&self,c=o.a||a||Function("return this")(),u=function(){return c.Date.now()},l=/\s/,h=function(t){for(var e=t.length;e--&&l.test(t.charAt(e)););return e},d=/^\s+/,f=function(t){return t?t.slice(0,h(t)+1).replace(d,""):t},p=c.Symbol,g=Object.prototype,m=g.hasOwnProperty,y=g.toString,v=p?p.toStringTag:void 0,b=function(t){var e=m.call(t,v),n=t[v];try{t[v]=void 0;var r=!0}catch(t){}var i=y.call(t);return r&&(e?t[v]=n:delete t[v]),i},w=Object.prototype.toString,_=function(t){return w.call(t)},x=p?p.toStringTag:void 0,I=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":x&&x in Object(t)?b(t):_(t)},E=function(t){return null!=t&&"object"==typeof t},T=function(t){return"symbol"==typeof t||E(t)&&"[object Symbol]"==I(t)},S=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,C=/^0o[0-7]+$/i,A=parseInt,O=function(t){if("number"==typeof t)return t;if(T(t))return NaN;if(s(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=s(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=f(t);var n=k.test(t);return n||C.test(t)?A(t.slice(2),n?2:8):S.test(t)?NaN:+t},D=Math.max,R=Math.min,P=function(t,e,n){var r,i,o,a,c,l,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var n=r,s=i;return r=i=void 0,h=e,a=t.apply(s,n)}function m(t){return h=t,c=setTimeout(v,e),d?g(t):a}function y(t){var n=t-l;return void 0===l||n>=e||n<0||f&&t-h>=o}function v(){var t=u();if(y(t))return b(t);c=setTimeout(v,function(t){var n=e-(t-l);return f?R(n,o-(t-h)):n}(t))}function b(t){return c=void 0,p&&r?g(t):(r=i=void 0,a)}function w(){var t=u(),n=y(t);if(r=arguments,i=this,l=t,n){if(void 0===c)return m(l);if(f)return clearTimeout(c),c=setTimeout(v,e),g(l)}return void 0===c&&(c=setTimeout(v,e)),a}return e=O(e)||0,s(n)&&(d=!!n.leading,o=(f="maxWait"in n)?D(O(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),w.cancel=function(){void 0!==c&&clearTimeout(c),h=0,r=l=i=c=void 0},w.flush=function(){return void 0===c?a:b(u())},w},N={name:"ckeditor",created(){const{CKEDITOR_VERSION:t}=window;if(t){const[e]=t.split(".").map(Number);e<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')},render(){return Object(r.h)(this.tagName)},model:{prop:"modelValue",event:"update:modelValue"},props:{editor:{type:Function,default:null},modelValue:{type:String,default:""},config:{type:Object,default:()=>({})},tagName:{type:String,default:"div"},disabled:{type:Boolean,default:!1}},data:()=>({instance:null,lastEditorData:{type:String,default:""}}),mounted(){const t=Object.assign({},this.config);this.modelValue&&(t.initialData=this.modelValue),this.editor.create(this.$el,t).then((e=>{this.instance=Object(r.markRaw)(e),this.setUpEditorEvents(),this.modelValue!==t.initialData&&e.setData(this.modelValue),this.disabled&&e.enableReadOnlyMode("Integration Sample"),this.$emit("ready",e)})).catch((t=>{console.error(t)}))},beforeUnmount(){this.instance&&(this.instance.destroy(),this.instance=null),this.$emit("destroy",this.instance)},watch:{modelValue(t){this.instance&&t!==this.lastEditorData&&this.instance.setData(t)},disabled(t){t?this.instance.enableReadOnlyMode("Integration Sample"):this.instance.disableReadOnlyMode("Integration Sample")}},methods:{setUpEditorEvents(){const t=this.instance,e=P((e=>{const n=this.lastEditorData=t.getData();this.$emit("update:modelValue",n,e,t),this.$emit("input",n,e,t)}),300,{leading:!0});t.model.document.on("change:data",e),t.editing.view.document.on("focus",(e=>{this.$emit("focus",e,t)})),t.editing.view.document.on("blur",(e=>{this.$emit("blur",e,t)}))}}};const M=i.a?i.a.version:r.version,[L]=M.split(".").map((t=>parseInt(t,10)));if(L<3)throw new Error("The CKEditor plugin works only with Vue 3+. For more information, please refer to https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v3.html");const F={install(t){t.component("ckeditor",N)},component:N};e.default=F}]).default}))},223:function(t,e,n){"use strict";n.d(e,{$s:function(){return q},BH:function(){return h},G6:function(){return w},L:function(){return a},LL:function(){return S},Sg:function(){return d},UG:function(){return g},ZB:function(){return u},ZR:function(){return T},b$:function(){return v},eu:function(){return x},hl:function(){return _},jU:function(){return m},m9:function(){return H},ne:function(){return L},pd:function(){return M},r3:function(){return A},ru:function(){return y},tV:function(){return c},uI:function(){return p},vZ:function(){return D},w1:function(){return b},xO:function(){return P},xb:function(){return O},z$:function(){return f},zI:function(){return I},zd:function(){return N}});n(1703),n(2801),n(6699);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},i=function(t){const e=[];let n=0,r=0;while(n<t.length){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((7&i)<<18|(63&s)<<12|(63&o)<<6|63&a)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,o=s?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=e>>2,l=(3&e)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):i(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length,o=s?n[t.charAt(i)]:0;++i;const a=i<t.length,c=a?n[t.charAt(i)]:64;++i;const u=i<t.length,l=u?n[t.charAt(i)]:64;if(++i,null==e||null==o||null==c||null==l)throw Error();const h=e<<2|o>>4;if(r.push(h),64!==c){const t=o<<4&240|c>>2;if(r.push(t),64!==l){const t=c<<6&192|l;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},o=function(t){const e=r(t);return s.encodeByteArray(e,!0)},a=function(t){return o(t).replace(/\./g,"")},c=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)e.hasOwnProperty(n)&&l(n)&&(t[n]=u(t[n],e[n]));return t}function l(t){return"__proto__"!==t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[a(JSON.stringify(n)),a(JSON.stringify(o)),c].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function p(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function g(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function m(){return"object"===typeof self&&self.self===self}function y(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function v(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function b(){const t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return!g()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _(){return"object"===typeof indexedDB}function x(){return new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))}function I(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const E="FirebaseError";class T extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=E,Object.setPrototypeOf(this,T.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?k(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`,a=new T(r,o,n);return a}}function k(t,e){return t.replace(C,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}const C=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function O(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function D(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(R(n)&&R(s)){if(!D(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function R(t){return null!==t&&"object"===typeof t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function P(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function N(t){const e={},n=t.replace(/^\?/,"").split("&");return n.forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function M(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(t,e){const n=new F(t,e);return n.subscribe.bind(n)}class F{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=j(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function j(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}function B(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const V=1e3,U=2,$=144e5,z=.5;function q(t,e=V,n=U){const r=e*Math.pow(n,t),i=Math.round(z*r*(Math.random()-.5)*2);return Math.min($,r+i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function H(t){return t&&t._delegate?t._delegate:t}},4870:function(t,e,n){"use strict";n.d(e,{$y:function(){return Pt},B:function(){return o},BK:function(){return Zt},Bj:function(){return s},EB:function(){return u},Fl:function(){return re},IU:function(){return Lt},Jd:function(){return C},OT:function(){return At},PG:function(){return Rt},SU:function(){return Kt},Um:function(){return Ct},Vh:function(){return ee},WL:function(){return Qt},X$:function(){return R},X3:function(){return Mt},XI:function(){return qt},Xl:function(){return Ft},YS:function(){return Ot},ZM:function(){return Xt},cE:function(){return E},dq:function(){return $t},iH:function(){return zt},j:function(){return O},lk:function(){return A},nZ:function(){return c},oR:function(){return Gt},qj:function(){return kt},qq:function(){return x},sT:function(){return T},yT:function(){return Nt}});var r=n(7139);let i;class s{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&i&&(this.parent=i,this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(t){if(this.active){const e=i;try{return i=this,t()}finally{i=e}}else 0}on(){i=this}off(){i=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.active=!1}}}function o(t){return new s(t)}function a(t,e=i){e&&e.active&&e.effects.push(t)}function c(){return i}function u(t){i&&i.cleanups.push(t)}const l=t=>{const e=new Set(t);return e.w=0,e.n=0,e},h=t=>(t.w&y)>0,d=t=>(t.n&y)>0,f=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=y},p=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];h(i)&&!d(i)?i.delete(t):e[n++]=i,i.w&=~y,i.n&=~y}e.length=n}},g=new WeakMap;let m=0,y=1;const v=30;let b;const w=Symbol(""),_=Symbol("");class x{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,a(this,n)}run(){if(!this.active)return this.fn();let t=b,e=S;while(t){if(t===this)return;t=t.parent}try{return this.parent=b,b=this,S=!0,y=1<<++m,m<=v?f(this):I(this),this.fn()}finally{m<=v&&p(this),y=1<<--m,b=this.parent,S=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){b===this?this.deferStop=!0:this.active&&(I(this),this.onStop&&this.onStop(),this.active=!1)}}function I(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function E(t,e){t.effect&&(t=t.effect.fn);const n=new x(t);e&&((0,r.l7)(n,e),e.scope&&a(n,e.scope)),e&&e.lazy||n.run();const i=n.run.bind(n);return i.effect=n,i}function T(t){t.effect.stop()}let S=!0;const k=[];function C(){k.push(S),S=!1}function A(){const t=k.pop();S=void 0===t||t}function O(t,e,n){if(S&&b){let e=g.get(t);e||g.set(t,e=new Map);let r=e.get(n);r||e.set(n,r=l());const i=void 0;D(r,i)}}function D(t,e){let n=!1;m<=v?d(t)||(t.n|=y,n=!h(t)):n=!t.has(b),n&&(t.add(b),b.deps.push(t))}function R(t,e,n,i,s,o){const a=g.get(t);if(!a)return;let c=[];if("clear"===e)c=[...a.values()];else if("length"===n&&(0,r.kJ)(t))a.forEach(((t,e)=>{("length"===e||e>=i)&&c.push(t)}));else switch(void 0!==n&&c.push(a.get(n)),e){case"add":(0,r.kJ)(t)?(0,r.S0)(n)&&c.push(a.get("length")):(c.push(a.get(w)),(0,r._N)(t)&&c.push(a.get(_)));break;case"delete":(0,r.kJ)(t)||(c.push(a.get(w)),(0,r._N)(t)&&c.push(a.get(_)));break;case"set":(0,r._N)(t)&&c.push(a.get(w));break}if(1===c.length)c[0]&&P(c[0]);else{const t=[];for(const e of c)e&&t.push(...e);P(l(t))}}function P(t,e){for(const n of(0,r.kJ)(t)?t:[...t])(n!==b||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const N=(0,r.fY)("__proto__,__v_isRef,__isVue"),M=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(r.yk)),L=$(),F=$(!1,!0),j=$(!0),B=$(!0,!0),V=U();function U(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=Lt(this);for(let e=0,i=this.length;e<i;e++)O(n,"get",e+"");const r=n[e](...t);return-1===r||!1===r?n[e](...t.map(Lt)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){C();const n=Lt(this)[e].apply(this,t);return A(),n}})),t}function $(t=!1,e=!1){return function(n,i,s){if("__v_isReactive"===i)return!t;if("__v_isReadonly"===i)return t;if("__v_isShallow"===i)return e;if("__v_raw"===i&&s===(t?e?Et:It:e?xt:_t).get(n))return n;const o=(0,r.kJ)(n);if(!t&&o&&(0,r.RI)(V,i))return Reflect.get(V,i,s);const a=Reflect.get(n,i,s);if((0,r.yk)(i)?M.has(i):N(i))return a;if(t||O(n,"get",i),e)return a;if($t(a)){const t=!o||!(0,r.S0)(i);return t?a.value:a}return(0,r.Kn)(a)?t?At(a):kt(a):a}}const z=H(),q=H(!0);function H(t=!1){return function(e,n,i,s){let o=e[n];if(Pt(o)&&$t(o)&&!$t(i))return!1;if(!t&&!Pt(i)&&(Nt(i)||(i=Lt(i),o=Lt(o)),!(0,r.kJ)(e)&&$t(o)&&!$t(i)))return o.value=i,!0;const a=(0,r.kJ)(e)&&(0,r.S0)(n)?Number(n)<e.length:(0,r.RI)(e,n),c=Reflect.set(e,n,i,s);return e===Lt(s)&&(a?(0,r.aU)(i,o)&&R(e,"set",n,i,o):R(e,"add",n,i)),c}}function W(t,e){const n=(0,r.RI)(t,e),i=t[e],s=Reflect.deleteProperty(t,e);return s&&n&&R(t,"delete",e,void 0,i),s}function G(t,e){const n=Reflect.has(t,e);return(0,r.yk)(e)&&M.has(e)||O(t,"has",e),n}function K(t){return O(t,"iterate",(0,r.kJ)(t)?"length":w),Reflect.ownKeys(t)}const Y={get:L,set:z,deleteProperty:W,has:G,ownKeys:K},Q={get:j,set(t,e){return!0},deleteProperty(t,e){return!0}},J=(0,r.l7)({},Y,{get:F,set:q}),X=(0,r.l7)({},Q,{get:B}),Z=t=>t,tt=t=>Reflect.getPrototypeOf(t);function et(t,e,n=!1,r=!1){t=t["__v_raw"];const i=Lt(t),s=Lt(e);e!==s&&!n&&O(i,"get",e),!n&&O(i,"get",s);const{has:o}=tt(i),a=r?Z:n?Bt:jt;return o.call(i,e)?a(t.get(e)):o.call(i,s)?a(t.get(s)):void(t!==i&&t.get(e))}function nt(t,e=!1){const n=this["__v_raw"],r=Lt(n),i=Lt(t);return t!==i&&!e&&O(r,"has",t),!e&&O(r,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function rt(t,e=!1){return t=t["__v_raw"],!e&&O(Lt(t),"iterate",w),Reflect.get(t,"size",t)}function it(t){t=Lt(t);const e=Lt(this),n=tt(e),r=n.has.call(e,t);return r||(e.add(t),R(e,"add",t,t)),this}function st(t,e){e=Lt(e);const n=Lt(this),{has:i,get:s}=tt(n);let o=i.call(n,t);o||(t=Lt(t),o=i.call(n,t));const a=s.call(n,t);return n.set(t,e),o?(0,r.aU)(e,a)&&R(n,"set",t,e,a):R(n,"add",t,e),this}function ot(t){const e=Lt(this),{has:n,get:r}=tt(e);let i=n.call(e,t);i||(t=Lt(t),i=n.call(e,t));const s=r?r.call(e,t):void 0,o=e.delete(t);return i&&R(e,"delete",t,void 0,s),o}function at(){const t=Lt(this),e=0!==t.size,n=void 0,r=t.clear();return e&&R(t,"clear",void 0,void 0,n),r}function ct(t,e){return function(n,r){const i=this,s=i["__v_raw"],o=Lt(s),a=e?Z:t?Bt:jt;return!t&&O(o,"iterate",w),s.forEach(((t,e)=>n.call(r,a(t),a(e),i)))}}function ut(t,e,n){return function(...i){const s=this["__v_raw"],o=Lt(s),a=(0,r._N)(o),c="entries"===t||t===Symbol.iterator&&a,u="keys"===t&&a,l=s[t](...i),h=n?Z:e?Bt:jt;return!e&&O(o,"iterate",u?_:w),{next(){const{value:t,done:e}=l.next();return e?{value:t,done:e}:{value:c?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function lt(t){return function(...e){return"delete"!==t&&this}}function ht(){const t={get(t){return et(this,t)},get size(){return rt(this)},has:nt,add:it,set:st,delete:ot,clear:at,forEach:ct(!1,!1)},e={get(t){return et(this,t,!1,!0)},get size(){return rt(this)},has:nt,add:it,set:st,delete:ot,clear:at,forEach:ct(!1,!0)},n={get(t){return et(this,t,!0)},get size(){return rt(this,!0)},has(t){return nt.call(this,t,!0)},add:lt("add"),set:lt("set"),delete:lt("delete"),clear:lt("clear"),forEach:ct(!0,!1)},r={get(t){return et(this,t,!0,!0)},get size(){return rt(this,!0)},has(t){return nt.call(this,t,!0)},add:lt("add"),set:lt("set"),delete:lt("delete"),clear:lt("clear"),forEach:ct(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{t[i]=ut(i,!1,!1),n[i]=ut(i,!0,!1),e[i]=ut(i,!1,!0),r[i]=ut(i,!0,!0)})),[t,n,e,r]}const[dt,ft,pt,gt]=ht();function mt(t,e){const n=e?t?gt:pt:t?ft:dt;return(e,i,s)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get((0,r.RI)(n,i)&&i in e?n:e,i,s)}const yt={get:mt(!1,!1)},vt={get:mt(!1,!0)},bt={get:mt(!0,!1)},wt={get:mt(!0,!0)};const _t=new WeakMap,xt=new WeakMap,It=new WeakMap,Et=new WeakMap;function Tt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function St(t){return t["__v_skip"]||!Object.isExtensible(t)?0:Tt((0,r.W7)(t))}function kt(t){return Pt(t)?t:Dt(t,!1,Y,yt,_t)}function Ct(t){return Dt(t,!1,J,vt,xt)}function At(t){return Dt(t,!0,Q,bt,It)}function Ot(t){return Dt(t,!0,X,wt,Et)}function Dt(t,e,n,i,s){if(!(0,r.Kn)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const o=s.get(t);if(o)return o;const a=St(t);if(0===a)return t;const c=new Proxy(t,2===a?i:n);return s.set(t,c),c}function Rt(t){return Pt(t)?Rt(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function Pt(t){return!(!t||!t["__v_isReadonly"])}function Nt(t){return!(!t||!t["__v_isShallow"])}function Mt(t){return Rt(t)||Pt(t)}function Lt(t){const e=t&&t["__v_raw"];return e?Lt(e):t}function Ft(t){return(0,r.Nj)(t,"__v_skip",!0),t}const jt=t=>(0,r.Kn)(t)?kt(t):t,Bt=t=>(0,r.Kn)(t)?At(t):t;function Vt(t){S&&b&&(t=Lt(t),D(t.dep||(t.dep=l())))}function Ut(t,e){t=Lt(t),t.dep&&P(t.dep)}function $t(t){return!(!t||!0!==t.__v_isRef)}function zt(t){return Ht(t,!1)}function qt(t){return Ht(t,!0)}function Ht(t,e){return $t(t)?t:new Wt(t,e)}class Wt{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Lt(t),this._value=e?t:jt(t)}get value(){return Vt(this),this._value}set value(t){t=this.__v_isShallow?t:Lt(t),(0,r.aU)(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:jt(t),Ut(this,t))}}function Gt(t){Ut(t,void 0)}function Kt(t){return $t(t)?t.value:t}const Yt={get:(t,e,n)=>Kt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return $t(i)&&!$t(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Qt(t){return Rt(t)?t:new Proxy(t,Yt)}class Jt{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:e,set:n}=t((()=>Vt(this)),(()=>Ut(this)));this._get=e,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function Xt(t){return new Jt(t)}function Zt(t){const e=(0,r.kJ)(t)?new Array(t.length):{};for(const n in t)e[n]=ee(t,n);return e}class te{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return void 0===t?this._defaultValue:t}set value(t){this._object[this._key]=t}}function ee(t,e,n){const r=t[e];return $t(r)?r:new te(t,e,n)}class ne{constructor(t,e,n,r){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new x(t,(()=>{this._dirty||(this._dirty=!0,Ut(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const t=Lt(this);return Vt(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function re(t,e,n=!1){let i,s;const o=(0,r.mf)(t);o?(i=t,s=r.dG):(i=t.get,s=t.set);const a=new ne(i,s,o||!s,n);return a}},3396:function(t,e,n){"use strict";n.d(e,{$d:function(){return f},$y:function(){return r.$y},Ah:function(){return ce},B:function(){return r.B},BK:function(){return r.BK},Bj:function(){return r.Bj},Bz:function(){return Br},C3:function(){return Vn},C_:function(){return i.C_},Cn:function(){return X},EB:function(){return r.EB},Eo:function(){return nn},F4:function(){return Gn},FN:function(){return mr},Fl:function(){return Fr},G:function(){return ni},HX:function(){return Z},HY:function(){return En},Ho:function(){return Kn},IU:function(){return r.IU},JJ:function(){return wt},Jd:function(){return ae},KU:function(){return d},Ko:function(){return rr},LL:function(){return wn},MW:function(){return jr},MX:function(){return Xr},Mr:function(){return Jr},Nv:function(){return ir},OT:function(){return r.OT},Ob:function(){return Gt},P$:function(){return Nt},PG:function(){return r.PG},Q2:function(){return _n},Q6:function(){return Vt},RC:function(){return zt},Rh:function(){return It},Rr:function(){return $r},S3:function(){return p},SU:function(){return r.SU},U2:function(){return Lt},Uc:function(){return Yr},Uk:function(){return Yn},Um:function(){return r.Um},Us:function(){return en},Vh:function(){return r.Vh},WI:function(){return sr},WL:function(){return r.WL},WY:function(){return Vr},Wm:function(){return Hn},X3:function(){return r.X3},XI:function(){return r.XI},Xl:function(){return r.Xl},Xn:function(){return se},Y1:function(){return Sr},Y3:function(){return A},Y8:function(){return Dt},YP:function(){return St},YS:function(){return r.YS},Yq:function(){return le},ZK:function(){return o},ZM:function(){return r.ZM},Zq:function(){return Qr},_:function(){return qn},_A:function(){return i._A},aZ:function(){return Ut},b9:function(){return Ur},bT:function(){return he},bv:function(){return ie},cE:function(){return r.cE},d1:function(){return de},dD:function(){return J},dG:function(){return er},dl:function(){return Yt},dq:function(){return r.dq},ec:function(){return q},eq:function(){return ri},f3:function(){return _t},h:function(){return Kr},hR:function(){return i.hR},i8:function(){return ti},iD:function(){return Ln},iH:function(){return r.iH},ic:function(){return oe},j4:function(){return Fn},j5:function(){return i.j5},kC:function(){return i.kC},kq:function(){return Jn},l1:function(){return zr},lA:function(){return jn},lR:function(){return gn},m0:function(){return xt},mW:function(){return U},mv:function(){return Gr},mx:function(){return ar},n4:function(){return lt},nK:function(){return Bt},nQ:function(){return Zr},nZ:function(){return r.nZ},oR:function(){return r.oR},of:function(){return kr},p1:function(){return Wr},qG:function(){return kn},qZ:function(){return Nn},qb:function(){return L},qj:function(){return r.qj},qq:function(){return r.qq},ry:function(){return ii},sT:function(){return r.sT},se:function(){return Qt},sv:function(){return Sn},uE:function(){return Qn},u_:function(){return Hr},up:function(){return vn},vl:function(){return ue},vs:function(){return i.vs},w5:function(){return tt},wF:function(){return re},wg:function(){return On},wy:function(){return ze},xv:function(){return Tn},yT:function(){return r.yT},yX:function(){return Et},zw:function(){return i.zw}});n(6699),n(1703);var r=n(4870),i=n(7139);const s=[];function o(t,...e){(0,r.Jd)();const n=s.length?s[s.length-1].component:null,i=n&&n.appContext.config.warnHandler,o=a();if(i)d(i,n,11,[t+e.join(""),n&&n.proxy,o.map((({vnode:t})=>`at <${Mr(n,t.type)}>`)).join("\n"),o]);else{const n=[`[Vue warn]: ${t}`,...e];o.length&&n.push("\n",...c(o)),console.warn(...n)}(0,r.lk)()}function a(){let t=s[s.length-1];if(!t)return[];const e=[];while(t){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function c(t){const e=[];return t.forEach(((t,n)=>{e.push(...0===n?[]:["\n"],...u(t))})),e}function u({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=!!t.component&&null==t.component.parent,i=` at <${Mr(t.component,t.type,r)}`,s=">"+n;return t.props?[i,...l(t.props),s]:[i+s]}function l(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach((n=>{e.push(...h(n,t[n]))})),n.length>3&&e.push(" ..."),e}function h(t,e,n){return(0,i.HD)(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):"number"===typeof e||"boolean"===typeof e||null==e?n?e:[`${t}=${e}`]:(0,r.dq)(e)?(e=h(t,(0,r.IU)(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):(0,i.mf)(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=(0,r.IU)(e),n?e:[`${t}=`,e])}function d(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){p(s,e,n)}return i}function f(t,e,n,r){if((0,i.mf)(t)){const s=d(t,e,n,r);return s&&(0,i.tI)(s)&&s.catch((t=>{p(t,e,n)})),s}const s=[];for(let i=0;i<t.length;i++)s.push(f(t[i],e,n,r));return s}function p(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const i=e.proxy,s=n;while(r){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,s))return;r=r.parent}const o=e.appContext.config.errorHandler;if(o)return void d(o,null,10,[t,i,s])}g(t,n,i,r)}function g(t,e,n,r=!0){console.error(t)}let m=!1,y=!1;const v=[];let b=0;const w=[];let _=null,x=0;const I=[];let E=null,T=0;const S=Promise.resolve();let k=null,C=null;function A(t){const e=k||S;return t?e.then(this?t.bind(this):t):e}function O(t){let e=b+1,n=v.length;while(e<n){const r=e+n>>>1,i=B(v[r]);i<t?e=r+1:n=r}return e}function D(t){v.length&&v.includes(t,m&&t.allowRecurse?b+1:b)||t===C||(null==t.id?v.push(t):v.splice(O(t.id),0,t),R())}function R(){m||y||(y=!0,k=S.then(V))}function P(t){const e=v.indexOf(t);e>b&&v.splice(e,1)}function N(t,e,n,r){(0,i.kJ)(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),R()}function M(t){N(t,_,w,x)}function L(t){N(t,E,I,T)}function F(t,e=null){if(w.length){for(C=e,_=[...new Set(w)],w.length=0,x=0;x<_.length;x++)_[x]();_=null,x=0,C=null,F(t,e)}}function j(t){if(I.length){const t=[...new Set(I)];if(I.length=0,E)return void E.push(...t);for(E=t,E.sort(((t,e)=>B(t)-B(e))),T=0;T<E.length;T++)E[T]();E=null,T=0}}const B=t=>null==t.id?1/0:t.id;function V(t){y=!1,m=!0,F(t),v.sort(((t,e)=>B(t)-B(e)));i.dG;try{for(b=0;b<v.length;b++){const t=v[b];t&&!1!==t.active&&d(t,null,14)}}finally{b=0,v.length=0,j(t),m=!1,k=null,(v.length||w.length||I.length)&&V(t)}}new Set;new Map;let U,$=[],z=!1;function q(t,e){var n,r;if(U=t,U)U.enabled=!0,$.forEach((({event:t,args:e})=>U.emit(t,...e))),$=[];else if("undefined"!==typeof window&&window.HTMLElement&&!(null===(r=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===r?void 0:r.includes("jsdom"))){const t=e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[];t.push((t=>{q(t,e)})),setTimeout((()=>{U||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,z=!0,$=[])}),3e3)}else z=!0,$=[]}function H(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||i.kT;let s=n;const o=e.startsWith("update:"),a=o&&e.slice(7);if(a&&a in r){const t=`${"modelValue"===a?"model":a}Modifiers`,{number:e,trim:o}=r[t]||i.kT;o?s=n.map((t=>t.trim())):e&&(s=n.map(i.He))}let c;let u=r[c=(0,i.hR)(e)]||r[c=(0,i.hR)((0,i._A)(e))];!u&&o&&(u=r[c=(0,i.hR)((0,i.rs)(e))]),u&&f(u,t,6,s);const l=r[c+"Once"];if(l){if(t.emitted){if(t.emitted[c])return}else t.emitted={};t.emitted[c]=!0,f(l,t,6,s)}}function W(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(void 0!==s)return s;const o=t.emits;let a={},c=!1;if(!(0,i.mf)(t)){const r=t=>{const n=W(t,e,!0);n&&(c=!0,(0,i.l7)(a,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return o||c?((0,i.kJ)(o)?o.forEach((t=>a[t]=null)):(0,i.l7)(a,o),r.set(t,a),a):(r.set(t,null),null)}function G(t,e){return!(!t||!(0,i.F7)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,i.RI)(t,e[0].toLowerCase()+e.slice(1))||(0,i.RI)(t,(0,i.rs)(e))||(0,i.RI)(t,e))}let K=null,Y=null;function Q(t){const e=K;return K=t,Y=t&&t.type.__scopeId||null,e}function J(t){Y=t}function X(){Y=null}const Z=t=>tt;function tt(t,e=K,n){if(!e)return t;if(t._n)return t;const r=(...n)=>{r._d&&Nn(-1);const i=Q(e),s=t(...n);return Q(i),r._d&&Nn(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function et(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[a],slots:c,attrs:u,emit:l,render:h,renderCache:d,data:f,setupState:g,ctx:m,inheritAttrs:y}=t;let v,b;const w=Q(t);try{if(4&n.shapeFlag){const t=s||r;v=Xn(h.call(t,t,d,o,g,f,m)),b=u}else{const t=e;0,v=Xn(t.length>1?t(o,{attrs:u,slots:c,emit:l}):t(o,null)),b=e.props?u:rt(u)}}catch(x){Cn.length=0,p(x,t,1),v=Hn(Sn)}let _=v;if(b&&!1!==y){const t=Object.keys(b),{shapeFlag:e}=_;t.length&&7&e&&(a&&t.some(i.tR)&&(b=it(b,a)),_=Kn(_,b))}return n.dirs&&(_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),v=_,Q(w),v}function nt(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(!jn(r))return;if(r.type!==Sn||"v-if"===r.children){if(e)return;e=r}}return e}const rt=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,i.F7)(n))&&((e||(e={}))[n]=t[n]);return e},it=(t,e)=>{const n={};for(const r in t)(0,i.tR)(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function st(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&c>=0))return!(!i&&!a||a&&a.$stable)||r!==o&&(r?!o||ot(r,o,u):!!o);if(1024&c)return!0;if(16&c)return r?ot(r,o,u):!!o;if(8&c){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(o[n]!==r[n]&&!G(u,n))return!0}}return!1}function ot(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!G(n,s))return!0}return!1}function at({vnode:t,parent:e},n){while(e&&e.subTree===t)(t=e.vnode).el=n,e=e.parent}const ct=t=>t.__isSuspense,ut={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,c,u){null==t?dt(e,n,r,i,s,o,a,c,u):ft(t,e,n,r,i,o,a,c,u)},hydrate:gt,create:pt,normalize:mt},lt=ut;function ht(t,e){const n=t.props&&t.props[e];(0,i.mf)(n)&&n()}function dt(t,e,n,r,i,s,o,a,c){const{p:u,o:{createElement:l}}=c,h=l("div"),d=t.suspense=pt(t,i,r,e,h,n,s,o,a,c);u(null,d.pendingBranch=t.ssContent,h,null,r,d,s,o),d.deps>0?(ht(t,"onPending"),ht(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),bt(d,t.ssFallback)):d.resolve()}function ft(t,e,n,r,i,s,o,a,{p:c,um:u,o:{createElement:l}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const d=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:y}=h;if(g)h.pendingBranch=d,Bn(d,g)?(c(g,d,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():m&&(c(p,f,n,r,i,null,s,o,a),bt(h,f))):(h.pendingId++,y?(h.isHydrating=!1,h.activeBranch=g):u(g,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=l("div"),m?(c(null,d,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():(c(p,f,n,r,i,null,s,o,a),bt(h,f))):p&&Bn(d,p)?(c(p,d,n,r,i,h,s,o,a),h.resolve(!0)):(c(null,d,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0&&h.resolve()));else if(p&&Bn(d,p))c(p,d,n,r,i,h,s,o,a),bt(h,d);else if(ht(e,"onPending"),h.pendingBranch=d,h.pendingId++,c(null,d,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0)h.resolve();else{const{timeout:t,pendingId:e}=h;t>0?setTimeout((()=>{h.pendingId===e&&h.fallback(f)}),t):0===t&&h.fallback(f)}}function pt(t,e,n,r,s,o,a,c,u,l,h=!1){const{p:d,m:f,um:g,n:m,o:{parentNode:y,remove:v}}=l,b=(0,i.He)(t.props&&t.props.timeout),w={vnode:t,parent:e,parentComponent:n,isSVG:a,container:r,hiddenContainer:s,anchor:o,deps:0,pendingId:0,timeout:"number"===typeof b?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(t=!1){const{vnode:e,activeBranch:n,pendingBranch:r,pendingId:i,effects:s,parentComponent:o,container:a}=w;if(w.isHydrating)w.isHydrating=!1;else if(!t){const t=n&&r.transition&&"out-in"===r.transition.mode;t&&(n.transition.afterLeave=()=>{i===w.pendingId&&f(r,a,e,0)});let{anchor:e}=w;n&&(e=m(n),g(n,o,w,!0)),t||f(r,a,e,0)}bt(w,r),w.pendingBranch=null,w.isInFallback=!1;let c=w.parent,u=!1;while(c){if(c.pendingBranch){c.effects.push(...s),u=!0;break}c=c.parent}u||L(s),w.effects=[],ht(e,"onResolve")},fallback(t){if(!w.pendingBranch)return;const{vnode:e,activeBranch:n,parentComponent:r,container:i,isSVG:s}=w;ht(e,"onFallback");const o=m(n),a=()=>{w.isInFallback&&(d(null,t,i,o,r,null,s,c,u),bt(w,t))},l=t.transition&&"out-in"===t.transition.mode;l&&(n.transition.afterLeave=a),w.isInFallback=!0,g(n,r,null,!0),l||a()},move(t,e,n){w.activeBranch&&f(w.activeBranch,t,e,n),w.container=t},next(){return w.activeBranch&&m(w.activeBranch)},registerDep(t,e){const n=!!w.pendingBranch;n&&w.deps++;const r=t.vnode.el;t.asyncDep.catch((e=>{p(e,t,0)})).then((i=>{if(t.isUnmounted||w.isUnmounted||w.pendingId!==t.suspenseId)return;t.asyncResolved=!0;const{vnode:s}=t;Tr(t,i,!1),r&&(s.el=r);const o=!r&&t.subTree.el;e(t,s,y(r||t.subTree.el),r?null:m(t.subTree),w,a,u),o&&v(o),at(t,s.el),n&&0===--w.deps&&w.resolve()}))},unmount(t,e){w.isUnmounted=!0,w.activeBranch&&g(w.activeBranch,n,t,e),w.pendingBranch&&g(w.pendingBranch,n,t,e)}};return w}function gt(t,e,n,r,i,s,o,a,c){const u=e.suspense=pt(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),l=c(t,u.pendingBranch=e.ssContent,n,u,s,o);return 0===u.deps&&u.resolve(),l}function mt(t){const{shapeFlag:e,children:n}=t,r=32&e;t.ssContent=yt(r?n.default:n),t.ssFallback=r?yt(n.fallback):Hn(Sn)}function yt(t){let e;if((0,i.mf)(t)){const n=Pn&&t._c;n&&(t._d=!1,On()),t=t(),n&&(t._d=!0,e=An,Dn())}if((0,i.kJ)(t)){const e=nt(t);0,t=e}return t=Xn(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter((e=>e!==t))),t}function vt(t,e){e&&e.pendingBranch?(0,i.kJ)(t)?e.effects.push(...t):e.effects.push(t):L(t)}function bt(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,i=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=i,at(r,i))}function wt(t,e){if(gr){let n=gr.provides;const r=gr.parent&&gr.parent.provides;r===n&&(n=gr.provides=Object.create(r)),n[t]=e}else 0}function _t(t,e,n=!1){const r=gr||K;if(r){const s=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&(0,i.mf)(e)?e.call(r.proxy):e}else 0}function xt(t,e){return kt(t,null,e)}function It(t,e){return kt(t,null,{flush:"post"})}function Et(t,e){return kt(t,null,{flush:"sync"})}const Tt={};function St(t,e,n){return kt(t,e,n)}function kt(t,e,{immediate:n,deep:s,flush:o,onTrack:a,onTrigger:c}=i.kT){const u=gr;let l,h,p=!1,g=!1;if((0,r.dq)(t)?(l=()=>t.value,p=(0,r.yT)(t)):(0,r.PG)(t)?(l=()=>t,s=!0):(0,i.kJ)(t)?(g=!0,p=t.some(r.PG),l=()=>t.map((t=>(0,r.dq)(t)?t.value:(0,r.PG)(t)?Ot(t):(0,i.mf)(t)?d(t,u,2):void 0))):l=(0,i.mf)(t)?e?()=>d(t,u,2):()=>{if(!u||!u.isUnmounted)return h&&h(),f(t,u,3,[m])}:i.dG,e&&s){const t=l;l=()=>Ot(t())}let m=t=>{h=w.onStop=()=>{d(t,u,4)}};if(xr)return m=i.dG,e?n&&f(e,u,3,[l(),g?[]:void 0,m]):l(),i.dG;let y=g?[]:Tt;const v=()=>{if(w.active)if(e){const t=w.run();(s||p||(g?t.some(((t,e)=>(0,i.aU)(t,y[e]))):(0,i.aU)(t,y)))&&(h&&h(),f(e,u,3,[t,y===Tt?void 0:y,m]),y=t)}else w.run()};let b;v.allowRecurse=!!e,b="sync"===o?v:"post"===o?()=>tn(v,u&&u.suspense):()=>{!u||u.isMounted?M(v):v()};const w=new r.qq(l,b);return e?n?v():y=w.run():"post"===o?tn(w.run.bind(w),u&&u.suspense):w.run(),()=>{w.stop(),u&&u.scope&&(0,i.Od)(u.scope.effects,w)}}function Ct(t,e,n){const r=this.proxy,s=(0,i.HD)(t)?t.includes(".")?At(r,t):()=>r[t]:t.bind(r,r);let o;(0,i.mf)(e)?o=e:(o=e.handler,n=e);const a=gr;yr(this);const c=kt(s,o.bind(r),n);return a?yr(a):vr(),c}function At(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function Ot(t,e){if(!(0,i.Kn)(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),(0,r.dq)(t))Ot(t.value,e);else if((0,i.kJ)(t))for(let n=0;n<t.length;n++)Ot(t[n],e);else if((0,i.DM)(t)||(0,i._N)(t))t.forEach((t=>{Ot(t,e)}));else if((0,i.PO)(t))for(const n in t)Ot(t[n],e);return t}function Dt(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ie((()=>{t.isMounted=!0})),ae((()=>{t.isUnmounting=!0})),t}const Rt=[Function,Array],Pt={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Rt,onEnter:Rt,onAfterEnter:Rt,onEnterCancelled:Rt,onBeforeLeave:Rt,onLeave:Rt,onAfterLeave:Rt,onLeaveCancelled:Rt,onBeforeAppear:Rt,onAppear:Rt,onAfterAppear:Rt,onAppearCancelled:Rt},setup(t,{slots:e}){const n=mr(),i=Dt();let s;return()=>{const o=e.default&&Vt(e.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){let t=!1;for(const e of o)if(e.type!==Sn){0,a=e,t=!0;break}}const c=(0,r.IU)(t),{mode:u}=c;if(i.isLeaving)return Ft(a);const l=jt(a);if(!l)return Ft(a);const h=Lt(l,c,i,n);Bt(l,h);const d=n.subTree,f=d&&jt(d);let p=!1;const{getTransitionKey:g}=l.type;if(g){const t=g();void 0===s?s=t:t!==s&&(s=t,p=!0)}if(f&&f.type!==Sn&&(!Bn(l,f)||p)){const t=Lt(f,c,i,n);if(Bt(f,t),"out-in"===u)return i.isLeaving=!0,t.afterLeave=()=>{i.isLeaving=!1,n.update()},Ft(a);"in-out"===u&&l.type!==Sn&&(t.delayLeave=(t,e,n)=>{const r=Mt(i,f);r[String(f.key)]=f,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}},Nt=Pt;function Mt(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Lt(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:l,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:y,onAfterAppear:v,onAppearCancelled:b}=e,w=String(t.key),_=Mt(n,t),x=(t,e)=>{t&&f(t,r,9,e)},I={mode:s,persisted:o,beforeEnter(e){let r=a;if(!n.isMounted){if(!i)return;r=m||a}e._leaveCb&&e._leaveCb(!0);const s=_[w];s&&Bn(t,s)&&s.el._leaveCb&&s.el._leaveCb(),x(r,[e])},enter(t){let e=c,r=u,s=l;if(!n.isMounted){if(!i)return;e=y||c,r=v||u,s=b||l}let o=!1;const a=t._enterCb=e=>{o||(o=!0,x(e?s:r,[t]),I.delayedLeave&&I.delayedLeave(),t._enterCb=void 0)};e?(e(t,a),e.length<=1&&a()):a()},leave(e,r){const i=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return r();x(h,[e]);let s=!1;const o=e._leaveCb=n=>{s||(s=!0,r(),x(n?g:p,[e]),e._leaveCb=void 0,_[i]===t&&delete _[i])};_[i]=t,d?(d(e,o),d.length<=1&&o()):o()},clone(t){return Lt(t,e,n,r)}};return I}function Ft(t){if(Ht(t))return t=Kn(t),t.children=null,t}function jt(t){return Ht(t)?t.children?t.children[0]:void 0:t}function Bt(t,e){6&t.shapeFlag&&t.component?Bt(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Vt(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=null==n?o.key:String(n)+String(null!=o.key?o.key:s);o.type===En?(128&o.patchFlag&&i++,r=r.concat(Vt(o.children,e,a))):(e||o.type!==Sn)&&r.push(null!=a?Kn(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function Ut(t){return(0,i.mf)(t)?{setup:t,name:t.name}:t}const $t=t=>!!t.type.__asyncLoader;function zt(t){(0,i.mf)(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:s,delay:o=200,timeout:a,suspensible:c=!0,onError:u}=t;let l,h=null,d=0;const f=()=>(d++,h=null,g()),g=()=>{let t;return h||(t=h=e().catch((t=>{if(t=t instanceof Error?t:new Error(String(t)),u)return new Promise(((e,n)=>{const r=()=>e(f()),i=()=>n(t);u(t,r,i,d+1)}));throw t})).then((e=>t!==h&&h?h:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),l=e,e))))};return Ut({name:"AsyncComponentWrapper",__asyncLoader:g,get __asyncResolved(){return l},setup(){const t=gr;if(l)return()=>qt(l,t);const e=e=>{h=null,p(e,t,13,!s)};if(c&&t.suspense||xr)return g().then((e=>()=>qt(e,t))).catch((t=>(e(t),()=>s?Hn(s,{error:t}):null)));const i=(0,r.iH)(!1),u=(0,r.iH)(),d=(0,r.iH)(!!o);return o&&setTimeout((()=>{d.value=!1}),o),null!=a&&setTimeout((()=>{if(!i.value&&!u.value){const t=new Error(`Async component timed out after ${a}ms.`);e(t),u.value=t}}),a),g().then((()=>{i.value=!0,t.parent&&Ht(t.parent.vnode)&&D(t.parent.update)})).catch((t=>{e(t),u.value=t})),()=>i.value&&l?qt(l,t):u.value&&s?Hn(s,{error:u.value}):n&&!d.value?Hn(n):void 0}})}function qt(t,{vnode:{ref:e,props:n,children:r}}){const i=Hn(t,n,r);return i.ref=e,i}const Ht=t=>t.type.__isKeepAlive,Wt={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=mr(),r=n.ctx;if(!r.renderer)return e.default;const s=new Map,o=new Set;let a=null;const c=n.suspense,{renderer:{p:u,m:l,um:h,o:{createElement:d}}}=r,f=d("div");function p(t){Zt(t),h(t,n,c,!0)}function g(t){s.forEach(((e,n)=>{const r=Nr(e.type);!r||t&&t(r)||m(n)}))}function m(t){const e=s.get(t);a&&e.type===a.type?a&&Zt(a):p(e),s.delete(t),o.delete(t)}r.activate=(t,e,n,r,s)=>{const o=t.component;l(t,e,n,0,c),u(o.vnode,t,e,n,o,c,r,t.slotScopeIds,s),tn((()=>{o.isDeactivated=!1,o.a&&(0,i.ir)(o.a);const e=t.props&&t.props.onVnodeMounted;e&&nr(e,o.parent,t)}),c)},r.deactivate=t=>{const e=t.component;l(t,f,null,1,c),tn((()=>{e.da&&(0,i.ir)(e.da);const n=t.props&&t.props.onVnodeUnmounted;n&&nr(n,e.parent,t),e.isDeactivated=!0}),c)},St((()=>[t.include,t.exclude]),(([t,e])=>{t&&g((e=>Kt(t,e))),e&&g((t=>!Kt(e,t)))}),{flush:"post",deep:!0});let y=null;const v=()=>{null!=y&&s.set(y,te(n.subTree))};return ie(v),oe(v),ae((()=>{s.forEach((t=>{const{subTree:e,suspense:r}=n,i=te(e);if(t.type!==i.type)p(t);else{Zt(i);const t=i.component.da;t&&tn(t,r)}}))})),()=>{if(y=null,!e.default)return null;const n=e.default(),r=n[0];if(n.length>1)return a=null,n;if(!jn(r)||!(4&r.shapeFlag)&&!(128&r.shapeFlag))return a=null,r;let i=te(r);const c=i.type,u=Nr($t(i)?i.type.__asyncResolved||{}:c),{include:l,exclude:h,max:d}=t;if(l&&(!u||!Kt(l,u))||h&&u&&Kt(h,u))return a=i,r;const f=null==i.key?c:i.key,p=s.get(f);return i.el&&(i=Kn(i),128&r.shapeFlag&&(r.ssContent=i)),y=f,p?(i.el=p.el,i.component=p.component,i.transition&&Bt(i,i.transition),i.shapeFlag|=512,o.delete(f),o.add(f)):(o.add(f),d&&o.size>parseInt(d,10)&&m(o.values().next().value)),i.shapeFlag|=256,a=i,r}}},Gt=Wt;function Kt(t,e){return(0,i.kJ)(t)?t.some((t=>Kt(t,e))):(0,i.HD)(t)?t.split(",").includes(e):!!t.test&&t.test(e)}function Yt(t,e){Jt(t,"a",e)}function Qt(t,e){Jt(t,"da",e)}function Jt(t,e,n=gr){const r=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(ee(e,r,n),n){let t=n.parent;while(t&&t.parent)Ht(t.parent.vnode)&&Xt(r,e,n,t),t=t.parent}}function Xt(t,e,n,r){const s=ee(e,t,r,!0);ce((()=>{(0,i.Od)(r[e],s)}),n)}function Zt(t){let e=t.shapeFlag;256&e&&(e-=256),512&e&&(e-=512),t.shapeFlag=e}function te(t){return 128&t.shapeFlag?t.ssContent:t}function ee(t,e,n=gr,i=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.Jd)(),yr(n);const s=f(e,n,t,i);return vr(),(0,r.lk)(),s});return i?s.unshift(o):s.push(o),o}}const ne=t=>(e,n=gr)=>(!xr||"sp"===t)&&ee(t,e,n),re=ne("bm"),ie=ne("m"),se=ne("bu"),oe=ne("u"),ae=ne("bum"),ce=ne("um"),ue=ne("sp"),le=ne("rtg"),he=ne("rtc");function de(t,e=gr){ee("ec",t,e)}let fe=!0;function pe(t){const e=ve(t),n=t.proxy,s=t.ctx;fe=!1,e.beforeCreate&&me(e.beforeCreate,t,"bc");const{data:o,computed:a,methods:c,watch:u,provide:l,inject:h,created:d,beforeMount:f,mounted:p,beforeUpdate:g,updated:m,activated:y,deactivated:v,beforeDestroy:b,beforeUnmount:w,destroyed:_,unmounted:x,render:I,renderTracked:E,renderTriggered:T,errorCaptured:S,serverPrefetch:k,expose:C,inheritAttrs:A,components:O,directives:D,filters:R}=e,P=null;if(h&&ge(h,s,P,t.appContext.config.unwrapInjectedRef),c)for(const r in c){const t=c[r];(0,i.mf)(t)&&(s[r]=t.bind(n))}if(o){0;const e=o.call(n,n);0,(0,i.Kn)(e)&&(t.data=(0,r.qj)(e))}if(fe=!0,a)for(const r in a){const t=a[r],e=(0,i.mf)(t)?t.bind(n,n):(0,i.mf)(t.get)?t.get.bind(n,n):i.dG;0;const o=!(0,i.mf)(t)&&(0,i.mf)(t.set)?t.set.bind(n):i.dG,c=Fr({get:e,set:o});Object.defineProperty(s,r,{enumerable:!0,configurable:!0,get:()=>c.value,set:t=>c.value=t})}if(u)for(const r in u)ye(u[r],s,n,r);if(l){const t=(0,i.mf)(l)?l.call(n):l;Reflect.ownKeys(t).forEach((e=>{wt(e,t[e])}))}function N(t,e){(0,i.kJ)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(d&&me(d,t,"c"),N(re,f),N(ie,p),N(se,g),N(oe,m),N(Yt,y),N(Qt,v),N(de,S),N(he,E),N(le,T),N(ae,w),N(ce,x),N(ue,k),(0,i.kJ)(C))if(C.length){const e=t.exposed||(t.exposed={});C.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});I&&t.render===i.dG&&(t.render=I),null!=A&&(t.inheritAttrs=A),O&&(t.components=O),D&&(t.directives=D)}function ge(t,e,n=i.dG,s=!1){(0,i.kJ)(t)&&(t=Ie(t));for(const o in t){const n=t[o];let a;a=(0,i.Kn)(n)?"default"in n?_t(n.from||o,n.default,!0):_t(n.from||o):_t(n),(0,r.dq)(a)&&s?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t}):e[o]=a}}function me(t,e,n){f((0,i.kJ)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function ye(t,e,n,r){const s=r.includes(".")?At(n,r):()=>n[r];if((0,i.HD)(t)){const n=e[t];(0,i.mf)(n)&&St(s,n)}else if((0,i.mf)(t))St(s,t.bind(n));else if((0,i.Kn)(t))if((0,i.kJ)(t))t.forEach((t=>ye(t,e,n,r)));else{const r=(0,i.mf)(t.handler)?t.handler.bind(n):e[t.handler];(0,i.mf)(r)&&St(s,r,t)}else 0}function ve(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:i.length||n||r?(c={},i.length&&i.forEach((t=>be(c,t,o,!0))),be(c,e,o)):c=e,s.set(e,c),c}function be(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&be(t,s,n,!0),i&&i.forEach((e=>be(t,e,n,!0)));for(const o in e)if(r&&"expose"===o);else{const r=we[o]||n&&n[o];t[o]=r?r(t[o],e[o]):e[o]}return t}const we={data:_e,props:Te,emits:Te,methods:Te,computed:Te,beforeCreate:Ee,created:Ee,beforeMount:Ee,mounted:Ee,beforeUpdate:Ee,updated:Ee,beforeDestroy:Ee,beforeUnmount:Ee,destroyed:Ee,unmounted:Ee,activated:Ee,deactivated:Ee,errorCaptured:Ee,serverPrefetch:Ee,components:Te,directives:Te,watch:Se,provide:_e,inject:xe};function _e(t,e){return e?t?function(){return(0,i.l7)((0,i.mf)(t)?t.call(this,this):t,(0,i.mf)(e)?e.call(this,this):e)}:e:t}function xe(t,e){return Te(Ie(t),Ie(e))}function Ie(t){if((0,i.kJ)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ee(t,e){return t?[...new Set([].concat(t,e))]:e}function Te(t,e){return t?(0,i.l7)((0,i.l7)(Object.create(null),t),e):e}function Se(t,e){if(!t)return e;if(!e)return t;const n=(0,i.l7)(Object.create(null),t);for(const r in e)n[r]=Ee(t[r],e[r]);return n}function ke(t,e,n,s=!1){const o={},a={};(0,i.Nj)(a,Un,1),t.propsDefaults=Object.create(null),Ae(t,e,o,a);for(const r in t.propsOptions[0])r in o||(o[r]=void 0);n?t.props=s?o:(0,r.Um)(o):t.type.props?t.props=o:t.props=a,t.attrs=a}function Ce(t,e,n,s){const{props:o,attrs:a,vnode:{patchFlag:c}}=t,u=(0,r.IU)(o),[l]=t.propsOptions;let h=!1;if(!(s||c>0)||16&c){let r;Ae(t,e,o,a)&&(h=!0);for(const s in u)e&&((0,i.RI)(e,s)||(r=(0,i.rs)(s))!==s&&(0,i.RI)(e,r))||(l?!n||void 0===n[s]&&void 0===n[r]||(o[s]=Oe(l,u,s,void 0,t,!0)):delete o[s]);if(a!==u)for(const t in a)e&&(0,i.RI)(e,t)||(delete a[t],h=!0)}else if(8&c){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];if(G(t.emitsOptions,s))continue;const c=e[s];if(l)if((0,i.RI)(a,s))c!==a[s]&&(a[s]=c,h=!0);else{const e=(0,i._A)(s);o[e]=Oe(l,u,e,c,t,!1)}else c!==a[s]&&(a[s]=c,h=!0)}}h&&(0,r.X$)(t,"set","$attrs")}function Ae(t,e,n,s){const[o,a]=t.propsOptions;let c,u=!1;if(e)for(let r in e){if((0,i.Gg)(r))continue;const l=e[r];let h;o&&(0,i.RI)(o,h=(0,i._A)(r))?a&&a.includes(h)?(c||(c={}))[h]=l:n[h]=l:G(t.emitsOptions,r)||r in s&&l===s[r]||(s[r]=l,u=!0)}if(a){const e=(0,r.IU)(n),s=c||i.kT;for(let r=0;r<a.length;r++){const c=a[r];n[c]=Oe(o,e,c,s[c],t,!(0,i.RI)(s,c))}}return u}function Oe(t,e,n,r,s,o){const a=t[n];if(null!=a){const t=(0,i.RI)(a,"default");if(t&&void 0===r){const t=a.default;if(a.type!==Function&&(0,i.mf)(t)){const{propsDefaults:i}=s;n in i?r=i[n]:(yr(s),r=i[n]=t.call(null,e),vr())}else r=t}a[0]&&(o&&!t?r=!1:!a[1]||""!==r&&r!==(0,i.rs)(n)||(r=!0))}return r}function De(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const o=t.props,a={},c=[];let u=!1;if(!(0,i.mf)(t)){const r=t=>{u=!0;const[n,r]=De(t,e,!0);(0,i.l7)(a,n),r&&c.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!o&&!u)return r.set(t,i.Z6),i.Z6;if((0,i.kJ)(o))for(let h=0;h<o.length;h++){0;const t=(0,i._A)(o[h]);Re(t)&&(a[t]=i.kT)}else if(o){0;for(const t in o){const e=(0,i._A)(t);if(Re(e)){const n=o[t],r=a[e]=(0,i.kJ)(n)||(0,i.mf)(n)?{type:n}:n;if(r){const t=Me(Boolean,r.type),n=Me(String,r.type);r[0]=t>-1,r[1]=n<0||t<n,(t>-1||(0,i.RI)(r,"default"))&&c.push(e)}}}}const l=[a,c];return r.set(t,l),l}function Re(t){return"$"!==t[0]}function Pe(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:null===t?"null":""}function Ne(t,e){return Pe(t)===Pe(e)}function Me(t,e){return(0,i.kJ)(e)?e.findIndex((e=>Ne(e,t))):(0,i.mf)(e)&&Ne(e,t)?0:-1}const Le=t=>"_"===t[0]||"$stable"===t,Fe=t=>(0,i.kJ)(t)?t.map(Xn):[Xn(t)],je=(t,e,n)=>{const r=tt(((...t)=>Fe(e(...t))),n);return r._c=!1,r},Be=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Le(s))continue;const n=t[s];if((0,i.mf)(n))e[s]=je(s,n,r);else if(null!=n){0;const t=Fe(n);e[s]=()=>t}}},Ve=(t,e)=>{const n=Fe(e);t.slots.default=()=>n},Ue=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=(0,r.IU)(e),(0,i.Nj)(e,"_",n)):Be(e,t.slots={})}else t.slots={},e&&Ve(t,e);(0,i.Nj)(t.slots,Un,1)},$e=(t,e,n)=>{const{vnode:r,slots:s}=t;let o=!0,a=i.kT;if(32&r.shapeFlag){const t=e._;t?n&&1===t?o=!1:((0,i.l7)(s,e),n||1!==t||delete s._):(o=!e.$stable,Be(e,s)),a=e}else e&&(Ve(t,e),a={default:1});if(o)for(const i in s)Le(i)||i in a||delete s[i]};function ze(t,e){const n=K;if(null===n)return t;const r=Dr(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,n,a,c=i.kT]=e[o];(0,i.mf)(t)&&(t={mounted:t,updated:t}),t.deep&&Ot(n),s.push({dir:t,instance:r,value:n,oldValue:void 0,arg:a,modifiers:c})}return t}function qe(t,e,n,i){const s=t.dirs,o=e&&e.dirs;for(let a=0;a<s.length;a++){const c=s[a];o&&(c.oldValue=o[a].value);let u=c.dir[i];u&&((0,r.Jd)(),f(u,n,8,[t.el,c,t,e]),(0,r.lk)())}}function He(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let We=0;function Ge(t,e){return function(n,r=null){(0,i.mf)(n)||(n=Object.assign({},n)),null==r||(0,i.Kn)(r)||(r=null);const s=He(),o=new Set;let a=!1;const c=s.app={_uid:We++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:ti,get config(){return s.config},set config(t){0},use(t,...e){return o.has(t)||(t&&(0,i.mf)(t.install)?(o.add(t),t.install(c,...e)):(0,i.mf)(t)&&(o.add(t),t(c,...e))),c},mixin(t){return s.mixins.includes(t)||s.mixins.push(t),c},component(t,e){return e?(s.components[t]=e,c):s.components[t]},directive(t,e){return e?(s.directives[t]=e,c):s.directives[t]},mount(i,o,u){if(!a){const l=Hn(n,r);return l.appContext=s,o&&e?e(l,i):t(l,i,u),a=!0,c._container=i,i.__vue_app__=c,Dr(l.component)||l.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(t,e){return s.provides[t]=e,c}};return c}}function Ke(t,e,n,s,o=!1){if((0,i.kJ)(t))return void t.forEach(((t,r)=>Ke(t,e&&((0,i.kJ)(e)?e[r]:e),n,s,o)));if($t(s)&&!o)return;const a=4&s.shapeFlag?Dr(s.component)||s.component.proxy:s.el,c=o?null:a,{i:u,r:l}=t;const h=e&&e.r,f=u.refs===i.kT?u.refs={}:u.refs,p=u.setupState;if(null!=h&&h!==l&&((0,i.HD)(h)?(f[h]=null,(0,i.RI)(p,h)&&(p[h]=null)):(0,r.dq)(h)&&(h.value=null)),(0,i.mf)(l))d(l,u,12,[c,f]);else{const e=(0,i.HD)(l),s=(0,r.dq)(l);if(e||s){const s=()=>{if(t.f){const n=e?f[l]:l.value;o?(0,i.kJ)(n)&&(0,i.Od)(n,a):(0,i.kJ)(n)?n.includes(a)||n.push(a):e?(f[l]=[a],(0,i.RI)(p,l)&&(p[l]=f[l])):(l.value=[a],t.k&&(f[t.k]=l.value))}else e?(f[l]=c,(0,i.RI)(p,l)&&(p[l]=c)):(0,r.dq)(l)&&(l.value=c,t.k&&(f[t.k]=c))};c?(s.id=-1,tn(s,n)):s()}else 0}}let Ye=!1;const Qe=t=>/svg/.test(t.namespaceURI)&&"foreignObject"!==t.tagName,Je=t=>8===t.nodeType;function Xe(t){const{mt:e,p:n,o:{patchProp:r,nextSibling:s,parentNode:o,remove:a,insert:c,createComment:u}}=t,l=(t,e)=>{if(!e.hasChildNodes())return n(null,t,e),void j();Ye=!1,h(e.firstChild,t,null,null,null),j(),Ye&&console.error("Hydration completed but contains mismatches.")},h=(n,r,i,a,c,u=!1)=>{const l=Je(n)&&"["===n.data,y=()=>g(n,r,i,a,c,l),{type:v,ref:b,shapeFlag:w}=r,_=n.nodeType;r.el=n;let x=null;switch(v){case Tn:3!==_?x=y():(n.data!==r.children&&(Ye=!0,n.data=r.children),x=s(n));break;case Sn:x=8!==_||l?y():s(n);break;case kn:if(1===_){x=n;const t=!r.children.length;for(let e=0;e<r.staticCount;e++)t&&(r.children+=x.outerHTML),e===r.staticCount-1&&(r.anchor=x),x=s(x);return x}x=y();break;case En:x=l?p(n,r,i,a,c,u):y();break;default:if(1&w)x=1!==_||r.type.toLowerCase()!==n.tagName.toLowerCase()?y():d(n,r,i,a,c,u);else if(6&w){r.slotScopeIds=c;const t=o(n);if(e(r,t,null,i,a,Qe(t),u),x=l?m(n):s(n),$t(r)){let e;l?(e=Hn(En),e.anchor=x?x.previousSibling:t.lastChild):e=3===n.nodeType?Yn(""):Hn("div"),e.el=n,r.component.subTree=e}}else 64&w?x=8!==_?y():r.type.hydrate(n,r,i,a,c,u,t,f):128&w&&(x=r.type.hydrate(n,r,i,a,Qe(o(n)),c,u,t,h))}return null!=b&&Ke(b,null,a,r),x},d=(t,e,n,s,o,c)=>{c=c||!!e.dynamicChildren;const{type:u,props:l,patchFlag:h,shapeFlag:d,dirs:p}=e,g="input"===u&&p||"option"===u;if(g||-1!==h){if(p&&qe(e,null,n,"created"),l)if(g||!c||48&h)for(const e in l)(g&&e.endsWith("value")||(0,i.F7)(e)&&!(0,i.Gg)(e))&&r(t,e,null,l[e],!1,void 0,n);else l.onClick&&r(t,"onClick",null,l.onClick,!1,void 0,n);let u;if((u=l&&l.onVnodeBeforeMount)&&nr(u,n,e),p&&qe(e,null,n,"beforeMount"),((u=l&&l.onVnodeMounted)||p)&&vt((()=>{u&&nr(u,n,e),p&&qe(e,null,n,"mounted")}),s),16&d&&(!l||!l.innerHTML&&!l.textContent)){let r=f(t.firstChild,e,t,n,s,o,c);while(r){Ye=!0;const t=r;r=r.nextSibling,a(t)}}else 8&d&&t.textContent!==e.children&&(Ye=!0,t.textContent=e.children)}return t.nextSibling},f=(t,e,r,i,s,o,a)=>{a=a||!!e.dynamicChildren;const c=e.children,u=c.length;for(let l=0;l<u;l++){const e=a?c[l]:c[l]=Xn(c[l]);if(t)t=h(t,e,i,s,o,a);else{if(e.type===Tn&&!e.children)continue;Ye=!0,n(null,e,r,null,i,s,Qe(r),o)}}return t},p=(t,e,n,r,i,a)=>{const{slotScopeIds:l}=e;l&&(i=i?i.concat(l):l);const h=o(t),d=f(s(t),e,h,n,r,i,a);return d&&Je(d)&&"]"===d.data?s(e.anchor=d):(Ye=!0,c(e.anchor=u("]"),h,d),d)},g=(t,e,r,i,c,u)=>{if(Ye=!0,e.el=null,u){const e=m(t);while(1){const n=s(t);if(!n||n===e)break;a(n)}}const l=s(t),h=o(t);return a(t),n(null,e,h,l,r,i,Qe(h),c),l},m=t=>{let e=0;while(t)if(t=s(t),t&&Je(t)&&("["===t.data&&e++,"]"===t.data)){if(0===e)return s(t);e--}return t};return[l,h]}function Ze(){}const tn=vt;function en(t){return rn(t)}function nn(t){return rn(t,Xe)}function rn(t,e){Ze();const n=(0,i.E9)();n.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:c,createText:u,createComment:l,setText:h,setElementText:d,parentNode:f,nextSibling:p,setScopeId:g=i.dG,cloneNode:m,insertStaticContent:y}=t,v=(t,e,n,r=null,i=null,s=null,o=!1,a=null,c=!!e.dynamicChildren)=>{if(t===e)return;t&&!Bn(t,e)&&(r=Q(t),H(t,i,s,!0),t=null),-2===e.patchFlag&&(c=!1,e.dynamicChildren=null);const{type:u,ref:l,shapeFlag:h}=e;switch(u){case Tn:b(t,e,n,r);break;case Sn:w(t,e,n,r);break;case kn:null==t&&_(e,n,r,o);break;case En:R(t,e,n,r,i,s,o,a,c);break;default:1&h?E(t,e,n,r,i,s,o,a,c):6&h?N(t,e,n,r,i,s,o,a,c):(64&h||128&h)&&u.process(t,e,n,r,i,s,o,a,c,X)}null!=l&&i&&Ke(l,t&&t.ref,s,e||t,!e)},b=(t,e,n,r)=>{if(null==t)s(e.el=u(e.children),n,r);else{const n=e.el=t.el;e.children!==t.children&&h(n,e.children)}},w=(t,e,n,r)=>{null==t?s(e.el=l(e.children||""),n,r):e.el=t.el},_=(t,e,n,r)=>{[t.el,t.anchor]=y(t.children,e,n,r,t.el,t.anchor)},x=({el:t,anchor:e},n,r)=>{let i;while(t&&t!==e)i=p(t),s(t,n,r),t=i;s(e,n,r)},I=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=p(t),o(t),t=n;o(e)},E=(t,e,n,r,i,s,o,a,c)=>{o=o||"svg"===e.type,null==t?T(e,n,r,i,s,o,a,c):C(t,e,i,s,o,a,c)},T=(t,e,n,r,o,u,l,h)=>{let f,p;const{type:g,props:y,shapeFlag:v,transition:b,patchFlag:w,dirs:_}=t;if(t.el&&void 0!==m&&-1===w)f=t.el=m(t.el);else{if(f=t.el=c(t.type,u,y&&y.is,y),8&v?d(f,t.children):16&v&&k(t.children,f,null,r,o,u&&"foreignObject"!==g,l,h),_&&qe(t,null,r,"created"),y){for(const e in y)"value"===e||(0,i.Gg)(e)||a(f,e,null,y[e],u,t.children,r,o,Y);"value"in y&&a(f,"value",null,y.value),(p=y.onVnodeBeforeMount)&&nr(p,r,t)}S(f,t,t.scopeId,l,r)}_&&qe(t,null,r,"beforeMount");const x=(!o||o&&!o.pendingBranch)&&b&&!b.persisted;x&&b.beforeEnter(f),s(f,e,n),((p=y&&y.onVnodeMounted)||x||_)&&tn((()=>{p&&nr(p,r,t),x&&b.enter(f),_&&qe(t,null,r,"mounted")}),o)},S=(t,e,n,r,i)=>{if(n&&g(t,n),r)for(let s=0;s<r.length;s++)g(t,r[s]);if(i){let n=i.subTree;if(e===n){const e=i.vnode;S(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},k=(t,e,n,r,i,s,o,a,c=0)=>{for(let u=c;u<t.length;u++){const c=t[u]=a?Zn(t[u]):Xn(t[u]);v(null,c,e,n,r,i,s,o,a)}},C=(t,e,n,r,s,o,c)=>{const u=e.el=t.el;let{patchFlag:l,dynamicChildren:h,dirs:f}=e;l|=16&t.patchFlag;const p=t.props||i.kT,g=e.props||i.kT;let m;n&&sn(n,!1),(m=g.onVnodeBeforeUpdate)&&nr(m,n,e,t),f&&qe(e,t,n,"beforeUpdate"),n&&sn(n,!0);const y=s&&"foreignObject"!==e.type;if(h?A(t.dynamicChildren,h,u,n,r,y,o):c||U(t,e,u,null,n,r,y,o,!1),l>0){if(16&l)O(u,e,p,g,n,r,s);else if(2&l&&p.class!==g.class&&a(u,"class",null,g.class,s),4&l&&a(u,"style",p.style,g.style,s),8&l){const i=e.dynamicProps;for(let e=0;e<i.length;e++){const o=i[e],c=p[o],l=g[o];l===c&&"value"!==o||a(u,o,c,l,s,t.children,n,r,Y)}}1&l&&t.children!==e.children&&d(u,e.children)}else c||null!=h||O(u,e,p,g,n,r,s);((m=g.onVnodeUpdated)||f)&&tn((()=>{m&&nr(m,n,e,t),f&&qe(e,t,n,"updated")}),r)},A=(t,e,n,r,i,s,o)=>{for(let a=0;a<e.length;a++){const c=t[a],u=e[a],l=c.el&&(c.type===En||!Bn(c,u)||70&c.shapeFlag)?f(c.el):n;v(c,u,l,null,r,i,s,o,!0)}},O=(t,e,n,r,s,o,c)=>{if(n!==r){for(const u in r){if((0,i.Gg)(u))continue;const l=r[u],h=n[u];l!==h&&"value"!==u&&a(t,u,h,l,c,e.children,s,o,Y)}if(n!==i.kT)for(const u in n)(0,i.Gg)(u)||u in r||a(t,u,n[u],null,c,e.children,s,o,Y);"value"in r&&a(t,"value",n.value,r.value)}},R=(t,e,n,r,i,o,a,c,l)=>{const h=e.el=t?t.el:u(""),d=e.anchor=t?t.anchor:u("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:g}=e;g&&(c=c?c.concat(g):g),null==t?(s(h,n,r),s(d,n,r),k(e.children,n,d,i,o,a,c,l)):f>0&&64&f&&p&&t.dynamicChildren?(A(t.dynamicChildren,p,n,i,o,a,c),(null!=e.key||i&&e===i.subTree)&&on(t,e,!0)):U(t,e,n,d,i,o,a,c,l)},N=(t,e,n,r,i,s,o,a,c)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,o,c):M(e,n,r,i,s,o,c):L(t,e,c)},M=(t,e,n,r,i,s,o)=>{const a=t.component=pr(t,r,i);if(Ht(t)&&(a.ctx.renderer=X),Ir(a),a.asyncDep){if(i&&i.registerDep(a,B),!t.el){const t=a.subTree=Hn(Sn);w(null,t,e,n)}}else B(a,t,e,n,i,s,o)},L=(t,e,n)=>{const r=e.component=t.component;if(st(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void V(r,e,n);r.next=e,P(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},B=(t,e,n,s,o,a,c)=>{const u=()=>{if(t.isMounted){let e,{next:n,bu:r,u:s,parent:u,vnode:l}=t,h=n;0,sn(t,!1),n?(n.el=l.el,V(t,n,c)):n=l,r&&(0,i.ir)(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&nr(e,u,n,l),sn(t,!0);const d=et(t);0;const p=t.subTree;t.subTree=d,v(p,d,f(p.el),Q(p),t,o,a),n.el=d.el,null===h&&at(t,d.el),s&&tn(s,o),(e=n.props&&n.props.onVnodeUpdated)&&tn((()=>nr(e,u,n,l)),o)}else{let r;const{el:c,props:u}=e,{bm:l,m:h,parent:d}=t,f=$t(e);if(sn(t,!1),l&&(0,i.ir)(l),!f&&(r=u&&u.onVnodeBeforeMount)&&nr(r,d,e),sn(t,!0),c&&tt){const n=()=>{t.subTree=et(t),tt(c,t.subTree,t,o,null)};f?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const r=t.subTree=et(t);0,v(null,r,n,s,t,o,a),e.el=r.el}if(h&&tn(h,o),!f&&(r=u&&u.onVnodeMounted)){const t=e;tn((()=>nr(r,d,t)),o)}256&e.shapeFlag&&t.a&&tn(t.a,o),t.isMounted=!0,e=n=s=null}},l=t.effect=new r.qq(u,(()=>D(t.update)),t.scope),h=t.update=l.run.bind(l);h.id=t.uid,sn(t,!0),h()},V=(t,e,n)=>{e.component=t;const i=t.vnode.props;t.vnode=e,t.next=null,Ce(t,e.props,i,n),$e(t,e.children,n),(0,r.Jd)(),F(void 0,t.update),(0,r.lk)()},U=(t,e,n,r,i,s,o,a,c=!1)=>{const u=t&&t.children,l=t?t.shapeFlag:0,h=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void z(u,h,n,r,i,s,o,a,c);if(256&f)return void $(u,h,n,r,i,s,o,a,c)}8&p?(16&l&&Y(u,i,s),h!==u&&d(n,h)):16&l?16&p?z(u,h,n,r,i,s,o,a,c):Y(u,i,s,!0):(8&l&&d(n,""),16&p&&k(h,n,r,i,s,o,a,c))},$=(t,e,n,r,s,o,a,c,u)=>{t=t||i.Z6,e=e||i.Z6;const l=t.length,h=e.length,d=Math.min(l,h);let f;for(f=0;f<d;f++){const r=e[f]=u?Zn(e[f]):Xn(e[f]);v(t[f],r,n,null,s,o,a,c,u)}l>h?Y(t,s,o,!0,!1,d):k(e,n,r,s,o,a,c,u,d)},z=(t,e,n,r,s,o,a,c,u)=>{let l=0;const h=e.length;let d=t.length-1,f=h-1;while(l<=d&&l<=f){const r=t[l],i=e[l]=u?Zn(e[l]):Xn(e[l]);if(!Bn(r,i))break;v(r,i,n,null,s,o,a,c,u),l++}while(l<=d&&l<=f){const r=t[d],i=e[f]=u?Zn(e[f]):Xn(e[f]);if(!Bn(r,i))break;v(r,i,n,null,s,o,a,c,u),d--,f--}if(l>d){if(l<=f){const t=f+1,i=t<h?e[t].el:r;while(l<=f)v(null,e[l]=u?Zn(e[l]):Xn(e[l]),n,i,s,o,a,c,u),l++}}else if(l>f)while(l<=d)H(t[l],s,o,!0),l++;else{const p=l,g=l,m=new Map;for(l=g;l<=f;l++){const t=e[l]=u?Zn(e[l]):Xn(e[l]);null!=t.key&&m.set(t.key,l)}let y,b=0;const w=f-g+1;let _=!1,x=0;const I=new Array(w);for(l=0;l<w;l++)I[l]=0;for(l=p;l<=d;l++){const r=t[l];if(b>=w){H(r,s,o,!0);continue}let i;if(null!=r.key)i=m.get(r.key);else for(y=g;y<=f;y++)if(0===I[y-g]&&Bn(r,e[y])){i=y;break}void 0===i?H(r,s,o,!0):(I[i-g]=l+1,i>=x?x=i:_=!0,v(r,e[i],n,null,s,o,a,c,u),b++)}const E=_?an(I):i.Z6;for(y=E.length-1,l=w-1;l>=0;l--){const t=g+l,i=e[t],d=t+1<h?e[t+1].el:r;0===I[l]?v(null,i,n,d,s,o,a,c,u):_&&(y<0||l!==E[y]?q(i,n,d,2):y--)}}},q=(t,e,n,r,i=null)=>{const{el:o,type:a,transition:c,children:u,shapeFlag:l}=t;if(6&l)return void q(t.component.subTree,e,n,r);if(128&l)return void t.suspense.move(e,n,r);if(64&l)return void a.move(t,e,n,X);if(a===En){s(o,e,n);for(let t=0;t<u.length;t++)q(u[t],e,n,r);return void s(t.anchor,e,n)}if(a===kn)return void x(t,e,n);const h=2!==r&&1&l&&c;if(h)if(0===r)c.beforeEnter(o),s(o,e,n),tn((()=>c.enter(o)),i);else{const{leave:t,delayLeave:r,afterLeave:i}=c,a=()=>s(o,e,n),u=()=>{t(o,(()=>{a(),i&&i()}))};r?r(o,a,u):u()}else s(o,e,n)},H=(t,e,n,r=!1,i=!1)=>{const{type:s,props:o,ref:a,children:c,dynamicChildren:u,shapeFlag:l,patchFlag:h,dirs:d}=t;if(null!=a&&Ke(a,null,n,t,!0),256&l)return void e.ctx.deactivate(t);const f=1&l&&d,p=!$t(t);let g;if(p&&(g=o&&o.onVnodeBeforeUnmount)&&nr(g,e,t),6&l)K(t.component,n,r);else{if(128&l)return void t.suspense.unmount(n,r);f&&qe(t,null,e,"beforeUnmount"),64&l?t.type.remove(t,e,n,i,X,r):u&&(s!==En||h>0&&64&h)?Y(u,e,n,!1,!0):(s===En&&384&h||!i&&16&l)&&Y(c,e,n),r&&W(t)}(p&&(g=o&&o.onVnodeUnmounted)||f)&&tn((()=>{g&&nr(g,e,t),f&&qe(t,null,e,"unmounted")}),n)},W=t=>{const{type:e,el:n,anchor:r,transition:i}=t;if(e===En)return void G(n,r);if(e===kn)return void I(t);const s=()=>{o(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&t.shapeFlag&&i&&!i.persisted){const{leave:e,delayLeave:r}=i,o=()=>e(n,s);r?r(t.el,s,o):o()}else s()},G=(t,e)=>{let n;while(t!==e)n=p(t),o(t),t=n;o(e)},K=(t,e,n)=>{const{bum:r,scope:s,update:o,subTree:a,um:c}=t;r&&(0,i.ir)(r),s.stop(),o&&(o.active=!1,H(a,t,e,n)),c&&tn(c,e),tn((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},Y=(t,e,n,r=!1,i=!1,s=0)=>{for(let o=s;o<t.length;o++)H(t[o],e,n,r,i)},Q=t=>6&t.shapeFlag?Q(t.component.subTree):128&t.shapeFlag?t.suspense.next():p(t.anchor||t.el),J=(t,e,n)=>{null==t?e._vnode&&H(e._vnode,null,null,!0):v(e._vnode||null,t,e,null,null,null,n),j(),e._vnode=t},X={p:v,um:H,m:q,r:W,mt:M,mc:k,pc:U,pbc:A,n:Q,o:t};let Z,tt;return e&&([Z,tt]=e(X)),{render:J,hydrate:Z,createApp:Ge(J,Z)}}function sn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function on(t,e,n=!1){const r=t.children,s=e.children;if((0,i.kJ)(r)&&(0,i.kJ)(s))for(let i=0;i<r.length;i++){const t=r[i];let e=s[i];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=s[i]=Zn(s[i]),e.el=t.el),n||on(t,e))}}function an(t){const e=t.slice(),n=[0];let r,i,s,o,a;const c=t.length;for(r=0;r<c;r++){const c=t[r];if(0!==c){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}s=0,o=n.length-1;while(s<o)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}s=n.length,o=n[s-1];while(s-- >0)n[s]=o,o=e[o];return n}const cn=t=>t.__isTeleport,un=t=>t&&(t.disabled||""===t.disabled),ln=t=>"undefined"!==typeof SVGElement&&t instanceof SVGElement,hn=(t,e)=>{const n=t&&t.to;if((0,i.HD)(n)){if(e){const t=e(n);return t}return null}return n},dn={__isTeleport:!0,process(t,e,n,r,i,s,o,a,c,u){const{mc:l,pc:h,pbc:d,o:{insert:f,querySelector:p,createText:g,createComment:m}}=u,y=un(e.props);let{shapeFlag:v,children:b,dynamicChildren:w}=e;if(null==t){const t=e.el=g(""),u=e.anchor=g("");f(t,n,r),f(u,n,r);const h=e.target=hn(e.props,p),d=e.targetAnchor=g("");h&&(f(d,h),o=o||ln(h));const m=(t,e)=>{16&v&&l(b,t,e,i,s,o,a,c)};y?m(n,u):h&&m(h,d)}else{e.el=t.el;const r=e.anchor=t.anchor,l=e.target=t.target,f=e.targetAnchor=t.targetAnchor,g=un(t.props),m=g?n:l,v=g?r:f;if(o=o||ln(l),w?(d(t.dynamicChildren,w,m,i,s,o,a),on(t,e,!0)):c||h(t,e,m,v,i,s,o,a,!1),y)g||fn(e,n,r,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=hn(e.props,p);t&&fn(e,t,null,u,0)}else g&&fn(e,l,f,u,1)}},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:c,anchor:u,targetAnchor:l,target:h,props:d}=t;if(h&&s(l),(o||!un(d))&&(s(u),16&a))for(let f=0;f<c.length;f++){const t=c[f];i(t,e,n,!0,!!t.dynamicChildren)}},move:fn,hydrate:pn};function fn(t,e,n,{o:{insert:r},m:i},s=2){0===s&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:u,props:l}=t,h=2===s;if(h&&r(o,e,n),(!h||un(l))&&16&c)for(let d=0;d<u.length;d++)i(u[d],e,n,2);h&&r(a,e,n)}function pn(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:c}},u){const l=e.target=hn(e.props,c);if(l){const c=l._lpa||l.firstChild;16&e.shapeFlag&&(un(e.props)?(e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=c):(e.anchor=o(t),e.targetAnchor=u(c,e,l,n,r,i,s)),l._lpa=e.targetAnchor&&o(e.targetAnchor))}return e.anchor&&o(e.anchor)}const gn=dn,mn="components",yn="directives";function vn(t,e){return xn(mn,t,!0,e)||t}const bn=Symbol();function wn(t){return(0,i.HD)(t)?xn(mn,t,!1)||t:t||bn}function _n(t){return xn(yn,t)}function xn(t,e,n=!0,r=!1){const s=K||gr;if(s){const n=s.type;if(t===mn){const t=Nr(n);if(t&&(t===e||t===(0,i._A)(e)||t===(0,i.kC)((0,i._A)(e))))return n}const o=In(s[t]||n[t],e)||In(s.appContext[t],e);return!o&&r?n:o}}function In(t,e){return t&&(t[e]||t[(0,i._A)(e)]||t[(0,i.kC)((0,i._A)(e))])}const En=Symbol(void 0),Tn=Symbol(void 0),Sn=Symbol(void 0),kn=Symbol(void 0),Cn=[];let An=null;function On(t=!1){Cn.push(An=t?null:[])}function Dn(){Cn.pop(),An=Cn[Cn.length-1]||null}let Rn,Pn=1;function Nn(t){Pn+=t}function Mn(t){return t.dynamicChildren=Pn>0?An||i.Z6:null,Dn(),Pn>0&&An&&An.push(t),t}function Ln(t,e,n,r,i,s){return Mn(qn(t,e,n,r,i,s,!0))}function Fn(t,e,n,r,i){return Mn(Hn(t,e,n,r,i,!0))}function jn(t){return!!t&&!0===t.__v_isVNode}function Bn(t,e){return t.type===e.type&&t.key===e.key}function Vn(t){Rn=t}const Un="__vInternal",$n=({key:t})=>null!=t?t:null,zn=({ref:t,ref_key:e,ref_for:n})=>null!=t?(0,i.HD)(t)||(0,r.dq)(t)||(0,i.mf)(t)?{i:K,r:t,k:e,f:!!n}:t:null;function qn(t,e=null,n=null,r=0,s=null,o=(t===En?0:1),a=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&$n(e),ref:e&&zn(e),scopeId:Y,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return c?(tr(u,n),128&o&&t.normalize(u)):n&&(u.shapeFlag|=(0,i.HD)(n)?8:16),Pn>0&&!a&&An&&(u.patchFlag>0||6&o)&&32!==u.patchFlag&&An.push(u),u}const Hn=Wn;function Wn(t,e=null,n=null,s=0,o=null,a=!1){if(t&&t!==bn||(t=Sn),jn(t)){const r=Kn(t,e,!0);return n&&tr(r,n),r}if(Lr(t)&&(t=t.__vccOpts),e){e=Gn(e);let{class:t,style:n}=e;t&&!(0,i.HD)(t)&&(e.class=(0,i.C_)(t)),(0,i.Kn)(n)&&((0,r.X3)(n)&&!(0,i.kJ)(n)&&(n=(0,i.l7)({},n)),e.style=(0,i.j5)(n))}const c=(0,i.HD)(t)?1:ct(t)?128:cn(t)?64:(0,i.Kn)(t)?4:(0,i.mf)(t)?2:0;return qn(t,e,n,s,o,c,a,!0)}function Gn(t){return t?(0,r.X3)(t)||Un in t?(0,i.l7)({},t):t:null}function Kn(t,e,n=!1){const{props:r,ref:s,patchFlag:o,children:a}=t,c=e?er(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&$n(c),ref:e&&e.ref?n&&s?(0,i.kJ)(s)?s.concat(zn(e)):[s,zn(e)]:zn(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==En?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Kn(t.ssContent),ssFallback:t.ssFallback&&Kn(t.ssFallback),el:t.el,anchor:t.anchor};return u}function Yn(t=" ",e=0){return Hn(Tn,null,t,e)}function Qn(t,e){const n=Hn(kn,null,t);return n.staticCount=e,n}function Jn(t="",e=!1){return e?(On(),Fn(Sn,null,t)):Hn(Sn,null,t)}function Xn(t){return null==t||"boolean"===typeof t?Hn(Sn):(0,i.kJ)(t)?Hn(En,null,t.slice()):"object"===typeof t?Zn(t):Hn(Tn,null,String(t))}function Zn(t){return null===t.el||t.memo?t:Kn(t)}function tr(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if((0,i.kJ)(e))n=16;else if("object"===typeof e){if(65&r){const n=e.default;return void(n&&(n._c&&(n._d=!1),tr(t,n()),n._c&&(n._d=!0)))}{n=32;const r=e._;r||Un in e?3===r&&K&&(1===K.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=K}}else(0,i.mf)(e)?(e={default:e,_ctx:K},n=32):(e=String(e),64&r?(n=16,e=[Yn(e)]):n=8);t.children=e,t.shapeFlag|=n}function er(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const t in r)if("class"===t)e.class!==r.class&&(e.class=(0,i.C_)([e.class,r.class]));else if("style"===t)e.style=(0,i.j5)([e.style,r.style]);else if((0,i.F7)(t)){const n=e[t],s=r[t];!s||n===s||(0,i.kJ)(n)&&n.includes(s)||(e[t]=n?[].concat(n,s):s)}else""!==t&&(e[t]=r[t])}return e}function nr(t,e,n,r=null){f(t,e,7,[n,r])}function rr(t,e,n,r){let s;const o=n&&n[r];if((0,i.kJ)(t)||(0,i.HD)(t)){s=new Array(t.length);for(let n=0,r=t.length;n<r;n++)s[n]=e(t[n],n,void 0,o&&o[n])}else if("number"===typeof t){0,s=new Array(t);for(let n=0;n<t;n++)s[n]=e(n+1,n,void 0,o&&o[n])}else if((0,i.Kn)(t))if(t[Symbol.iterator])s=Array.from(t,((t,n)=>e(t,n,void 0,o&&o[n])));else{const n=Object.keys(t);s=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];s[r]=e(t[i],i,r,o&&o[r])}}else s=[];return n&&(n[r]=s),s}function ir(t,e){for(let n=0;n<e.length;n++){const r=e[n];if((0,i.kJ)(r))for(let e=0;e<r.length;e++)t[r[e].name]=r[e].fn;else r&&(t[r.name]=r.fn)}return t}function sr(t,e,n={},r,i){if(K.isCE||K.parent&&$t(K.parent)&&K.parent.isCE)return Hn("slot","default"===e?null:{name:e},r&&r());let s=t[e];s&&s._c&&(s._d=!1),On();const o=s&&or(s(n)),a=Fn(En,{key:n.key||`_${e}`},o||(r?r():[]),o&&1===t._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function or(t){return t.some((t=>!jn(t)||t.type!==Sn&&!(t.type===En&&!or(t.children))))?t:null}function ar(t){const e={};for(const n in t)e[(0,i.hR)(n)]=t[n];return e}const cr=t=>t?br(t)?Dr(t)||t.proxy:cr(t.parent):null,ur=(0,i.l7)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>cr(t.parent),$root:t=>cr(t.root),$emit:t=>t.emit,$options:t=>ve(t),$forceUpdate:t=>()=>D(t.update),$nextTick:t=>A.bind(t.proxy),$watch:t=>Ct.bind(t)}),lr={get({_:t},e){const{ctx:n,setupState:s,data:o,props:a,accessCache:c,type:u,appContext:l}=t;let h;if("$"!==e[0]){const r=c[e];if(void 0!==r)switch(r){case 1:return s[e];case 2:return o[e];case 4:return n[e];case 3:return a[e]}else{if(s!==i.kT&&(0,i.RI)(s,e))return c[e]=1,s[e];if(o!==i.kT&&(0,i.RI)(o,e))return c[e]=2,o[e];if((h=t.propsOptions[0])&&(0,i.RI)(h,e))return c[e]=3,a[e];if(n!==i.kT&&(0,i.RI)(n,e))return c[e]=4,n[e];fe&&(c[e]=0)}}const d=ur[e];let f,p;return d?("$attrs"===e&&(0,r.j)(t,"get",e),d(t)):(f=u.__cssModules)&&(f=f[e])?f:n!==i.kT&&(0,i.RI)(n,e)?(c[e]=4,n[e]):(p=l.config.globalProperties,(0,i.RI)(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:r,setupState:s,ctx:o}=t;return s!==i.kT&&(0,i.RI)(s,e)?(s[e]=n,!0):r!==i.kT&&(0,i.RI)(r,e)?(r[e]=n,!0):!(0,i.RI)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:o}},a){let c;return!!n[a]||t!==i.kT&&(0,i.RI)(t,a)||e!==i.kT&&(0,i.RI)(e,a)||(c=o[0])&&(0,i.RI)(c,a)||(0,i.RI)(r,a)||(0,i.RI)(ur,a)||(0,i.RI)(s.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:(0,i.RI)(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};const hr=(0,i.l7)({},lr,{get(t,e){if(e!==Symbol.unscopables)return lr.get(t,e,t)},has(t,e){const n="_"!==e[0]&&!(0,i.e1)(e);return n}});const dr=He();let fr=0;function pr(t,e,n){const s=t.type,o=(e?e.appContext:t.appContext)||dr,a={uid:fr++,vnode:t,type:s,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:De(s,o),emitsOptions:W(s,o),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:s.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=H.bind(null,a),t.ce&&t.ce(a),a}let gr=null;const mr=()=>gr||K,yr=t=>{gr=t,t.scope.on()},vr=()=>{gr&&gr.scope.off(),gr=null};function br(t){return 4&t.vnode.shapeFlag}let wr,_r,xr=!1;function Ir(t,e=!1){xr=e;const{props:n,children:r}=t.vnode,i=br(t);ke(t,n,i,e),Ue(t,r);const s=i?Er(t,e):void 0;return xr=!1,s}function Er(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=(0,r.Xl)(new Proxy(t.ctx,lr));const{setup:s}=n;if(s){const n=t.setupContext=s.length>1?Or(t):null;yr(t),(0,r.Jd)();const o=d(s,t,0,[t.props,n]);if((0,r.lk)(),vr(),(0,i.tI)(o)){if(o.then(vr,vr),e)return o.then((n=>{Tr(t,n,e)})).catch((e=>{p(e,t,0)}));t.asyncDep=o}else Tr(t,o,e)}else Cr(t,e)}function Tr(t,e,n){(0,i.mf)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,i.Kn)(e)&&(t.setupState=(0,r.WL)(e)),Cr(t,n)}function Sr(t){wr=t,_r=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,hr))}}const kr=()=>!wr;function Cr(t,e,n){const s=t.type;if(!t.render){if(!e&&wr&&!s.render){const e=s.template;if(e){0;const{isCustomElement:n,compilerOptions:r}=t.appContext.config,{delimiters:o,compilerOptions:a}=s,c=(0,i.l7)((0,i.l7)({isCustomElement:n,delimiters:o},r),a);s.render=wr(e,c)}}t.render=s.render||i.dG,_r&&_r(t)}yr(t),(0,r.Jd)(),pe(t),(0,r.lk)(),vr()}function Ar(t){return new Proxy(t.attrs,{get(e,n){return(0,r.j)(t,"get","$attrs"),e[n]}})}function Or(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=Ar(t))},slots:t.slots,emit:t.emit,expose:e}}function Dr(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(t.exposed)),{get(e,n){return n in e?e[n]:n in ur?ur[n](t):void 0}}))}const Rr=/(?:^|[-_])(\w)/g,Pr=t=>t.replace(Rr,(t=>t.toUpperCase())).replace(/[-_]/g,"");function Nr(t){return(0,i.mf)(t)&&t.displayName||t.name}function Mr(t,e,n=!1){let r=Nr(e);if(!r&&e.__file){const t=e.__file.match(/([^/\\]+)\.\w+$/);t&&(r=t[1])}if(!r&&t&&t.parent){const n=t=>{for(const n in t)if(t[n]===e)return n};r=n(t.components||t.parent.type.components)||n(t.appContext.components)}return r?Pr(r):n?"App":"Anonymous"}function Lr(t){return(0,i.mf)(t)&&"__vccOpts"in t}const Fr=(t,e)=>(0,r.Fl)(t,e,xr);function jr(){return null}function Br(){return null}function Vr(t){0}function Ur(t,e){return null}function $r(){return qr().slots}function zr(){return qr().attrs}function qr(){const t=mr();return t.setupContext||(t.setupContext=Or(t))}function Hr(t,e){const n=(0,i.kJ)(t)?t.reduce(((t,e)=>(t[e]={},t)),{}):t;for(const r in e){const t=n[r];t?(0,i.kJ)(t)||(0,i.mf)(t)?n[r]={type:t,default:e[r]}:t.default=e[r]:null===t&&(n[r]={default:e[r]})}return n}function Wr(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function Gr(t){const e=mr();let n=t();return vr(),(0,i.tI)(n)&&(n=n.catch((t=>{throw yr(e),t}))),[n,()=>yr(e)]}function Kr(t,e,n){const r=arguments.length;return 2===r?(0,i.Kn)(e)&&!(0,i.kJ)(e)?jn(e)?Hn(t,null,[e]):Hn(t,e):Hn(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&jn(n)&&(n=[n]),Hn(t,e,n))}const Yr=Symbol(""),Qr=()=>{{const t=_t(Yr);return t||o("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function Jr(){return void 0}function Xr(t,e,n,r){const i=n[r];if(i&&Zr(i,t))return i;const s=e();return s.memo=t.slice(),n[r]=s}function Zr(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==e[r])return!1;return Pn>0&&An&&An.push(t),!0}const ti="3.2.33",ei={createComponentInstance:pr,setupComponent:Ir,renderComponentRoot:et,setCurrentRenderingInstance:Q,isVNode:jn,normalizeVNode:Xn},ni=ei,ri=null,ii=null},9242:function(t,e,n){"use strict";n.d(e,{$d:function(){return i.$d},$y:function(){return i.$y},Ah:function(){return F},B:function(){return i.B},BK:function(){return i.BK},Bj:function(){return i.Bj},Bz:function(){return i.Bz},C3:function(){return i.C3},C_:function(){return i.C_},Cn:function(){return i.Cn},D2:function(){return Lt},EB:function(){return i.EB},Eo:function(){return i.Eo},F4:function(){return i.F4},F8:function(){return Ft},FN:function(){return i.FN},Fl:function(){return i.Fl},G:function(){return i.G},G2:function(){return Et},HX:function(){return i.HX},HY:function(){return i.HY},Ho:function(){return i.Ho},IU:function(){return i.IU},JJ:function(){return i.JJ},Jd:function(){return i.Jd},KU:function(){return i.KU},Ko:function(){return i.Ko},LL:function(){return i.LL},MW:function(){return L},MX:function(){return i.MX},Mr:function(){return i.Mr},Nd:function(){return Jt},Nv:function(){return i.Nv},OT:function(){return i.OT},Ob:function(){return i.Ob},P$:function(){return i.P$},PG:function(){return i.PG},Q2:function(){return i.Q2},Q6:function(){return i.Q6},RC:function(){return i.RC},Rh:function(){return i.Rh},Rr:function(){return i.Rr},S3:function(){return i.S3},SK:function(){return i.Ah},SU:function(){return i.SU},U2:function(){return i.U2},Uc:function(){return i.Uc},Uk:function(){return i.Uk},Um:function(){return i.Um},Us:function(){return i.Us},Vh:function(){return i.Vh},W3:function(){return dt},WI:function(){return i.WI},WL:function(){return i.WL},WY:function(){return i.WY},Wm:function(){return i.Wm},X3:function(){return i.X3},XI:function(){return i.XI},Xl:function(){return i.Xl},Xn:function(){return i.Xn},Y1:function(){return i.Y1},Y3:function(){return i.Y3},Y8:function(){return i.Y8},YP:function(){return i.YP},YS:function(){return i.YS},YZ:function(){return At},Yq:function(){return i.Yq},ZB:function(){return Wt},ZK:function(){return i.ZK},ZM:function(){return i.ZM},Zq:function(){return i.Zq},_:function(){return i._},_A:function(){return i._A},a2:function(){return B},aZ:function(){return i.aZ},b9:function(){return i.b9},bM:function(){return Tt},bT:function(){return i.bT},bv:function(){return i.bv},cE:function(){return i.cE},d1:function(){return i.d1},dD:function(){return i.dD},dG:function(){return i.dG},dl:function(){return i.dl},dq:function(){return i.dq},e8:function(){return xt},ec:function(){return i.ec},eq:function(){return i.eq},f3:function(){return i.f3},fb:function(){return V},h:function(){return i.h},hR:function(){return i.hR},i8:function(){return i.i8},iD:function(){return i.iD},iH:function(){return i.iH},iM:function(){return Nt},ic:function(){return i.ic},j4:function(){return i.j4},j5:function(){return i.j5},kC:function(){return i.kC},kq:function(){return i.kq},l1:function(){return i.l1},lA:function(){return i.lA},lR:function(){return i.lR},m0:function(){return i.m0},mW:function(){return i.mW},mv:function(){return i.mv},mx:function(){return i.mx},n4:function(){return i.n4},nK:function(){return i.nK},nQ:function(){return i.nQ},nZ:function(){return i.nZ},nr:function(){return _t},oR:function(){return i.oR},of:function(){return i.of},p1:function(){return i.p1},qG:function(){return i.qG},qZ:function(){return i.qZ},qb:function(){return i.qb},qj:function(){return i.qj},qq:function(){return i.qq},ri:function(){return Gt},ry:function(){return i.ry},sT:function(){return i.sT},sY:function(){return Ht},se:function(){return i.se},sj:function(){return U},sv:function(){return i.sv},uE:function(){return i.uE},uT:function(){return W},u_:function(){return i.u_},up:function(){return i.up},vl:function(){return i.vl},vr:function(){return Kt},vs:function(){return i.vs},w5:function(){return i.w5},wF:function(){return i.wF},wg:function(){return i.wg},wy:function(){return i.wy},xv:function(){return i.xv},yT:function(){return i.yT},yX:function(){return i.yX},yb:function(){return i.MW},zw:function(){return i.zw}});n(6699);var r=n(7139),i=n(3396),s=n(4870);const o="http://www.w3.org/2000/svg",a="undefined"!==typeof document?document:null,c=a&&a.createElement("template"),u={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?a.createElementNS(o,t):a.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>a.createTextNode(t),createComment:t=>a.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>a.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling)){while(1)if(e.insertBefore(i.cloneNode(!0),n),i===s||!(i=i.nextSibling))break}else{c.innerHTML=r?`<svg>${t}</svg>`:t;const i=c.content;if(r){const t=i.firstChild;while(t.firstChild)i.appendChild(t.firstChild);i.removeChild(t)}e.insertBefore(i,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function l(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function h(t,e,n){const i=t.style,s=(0,r.HD)(n);if(n&&!s){for(const t in n)f(i,t,n[t]);if(e&&!(0,r.HD)(e))for(const t in e)null==n[t]&&f(i,t,"")}else{const r=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=r)}}const d=/\s*!important$/;function f(t,e,n){if((0,r.kJ)(n))n.forEach((n=>f(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=m(t,e);d.test(n)?t.setProperty((0,r.rs)(i),n.replace(d,""),"important"):t[i]=n}}const p=["Webkit","Moz","ms"],g={};function m(t,e){const n=g[e];if(n)return n;let i=(0,r._A)(e);if("filter"!==i&&i in t)return g[e]=i;i=(0,r.kC)(i);for(let r=0;r<p.length;r++){const n=p[r]+i;if(n in t)return g[e]=n}return e}const y="http://www.w3.org/1999/xlink";function v(t,e,n,i,s){if(i&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(y,e.slice(6,e.length)):t.setAttributeNS(y,e,n);else{const i=(0,r.Pq)(e);null==n||i&&!(0,r.yA)(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function b(t,e,n,i,s,o,a){if("innerHTML"===e||"textContent"===e)return i&&a(i,s,o),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=n;const r=null==n?"":n;return t.value===r&&"OPTION"!==t.tagName||(t.value=r),void(null==n&&t.removeAttribute(e))}let c=!1;if(""===n||null==n){const i=typeof t[e];"boolean"===i?n=(0,r.yA)(n):null==n&&"string"===i?(n="",c=!0):"number"===i&&(n=0,c=!0)}try{t[e]=n}catch(u){0}c&&t.removeAttribute(e)}const[w,_]=(()=>{let t=Date.now,e=!1;if("undefined"!==typeof window){Date.now()>document.createEvent("Event").timeStamp&&(t=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(n&&Number(n[1])<=53)}return[t,e]})();let x=0;const I=Promise.resolve(),E=()=>{x=0},T=()=>x||(I.then(E),x=w());function S(t,e,n,r){t.addEventListener(e,n,r)}function k(t,e,n,r){t.removeEventListener(e,n,r)}function C(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[n,a]=O(e);if(r){const o=s[e]=D(r,i);S(t,n,o,a)}else o&&(k(t,n,o,a),s[e]=void 0)}}const A=/(?:Once|Passive|Capture)$/;function O(t){let e;if(A.test(t)){let n;e={};while(n=t.match(A))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[(0,r.rs)(t.slice(2)),e]}function D(t,e){const n=t=>{const r=t.timeStamp||w();(_||r>=n.attached-1)&&(0,i.$d)(R(t,n.value),e,5,[t])};return n.value=t,n.attached=T(),n}function R(t,e){if((0,r.kJ)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const P=/^on[a-z]/,N=(t,e,n,i,s=!1,o,a,c,u)=>{"class"===e?l(t,i,s):"style"===e?h(t,n,i):(0,r.F7)(e)?(0,r.tR)(e)||C(t,e,n,i,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):M(t,e,i,s))?b(t,e,i,o,a,c,u):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),v(t,e,i,s))};function M(t,e,n,i){return i?"innerHTML"===e||"textContent"===e||!!(e in t&&P.test(e)&&(0,r.mf)(n)):"spellcheck"!==e&&"draggable"!==e&&"translate"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!P.test(e)||!(0,r.HD)(n))&&e in t))))}function L(t,e){const n=(0,i.aZ)(t);class r extends B{constructor(t){super(n,t,e)}}return r.def=n,r}const F=t=>L(t,Wt),j="undefined"!==typeof HTMLElement?HTMLElement:class{};class B extends j{constructor(t,e={},n){super(),this._def=t,this._props=e,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,(0,i.Y3)((()=>{this._connected||(Ht(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver((t=>{for(const e of t)this._setAttr(e.attributeName)})).observe(this,{attributes:!0});const t=t=>{const{props:e,styles:n}=t,i=!(0,r.kJ)(e),s=e?i?Object.keys(e):e:[];let o;if(i)for(const a in this._props){const t=e[a];(t===Number||t&&t.type===Number)&&(this._props[a]=(0,r.He)(this._props[a]),(o||(o=Object.create(null)))[a]=!0)}this._numberProps=o;for(const r of Object.keys(this))"_"!==r[0]&&this._setProp(r,this[r],!0,!1);for(const a of s.map(r._A))Object.defineProperty(this,a,{get(){return this._getProp(a)},set(t){this._setProp(a,t)}});this._applyStyles(n),this._update()},e=this._def.__asyncLoader;e?e().then(t):t(this._def)}_setAttr(t){let e=this.getAttribute(t);this._numberProps&&this._numberProps[t]&&(e=(0,r.He)(e)),this._setProp((0,r._A)(t),e,!1)}_getProp(t){return this._props[t]}_setProp(t,e,n=!0,i=!0){e!==this._props[t]&&(this._props[t]=e,i&&this._instance&&this._update(),n&&(!0===e?this.setAttribute((0,r.rs)(t),""):"string"===typeof e||"number"===typeof e?this.setAttribute((0,r.rs)(t),e+""):e||this.removeAttribute((0,r.rs)(t))))}_update(){Ht(this._createVNode(),this.shadowRoot)}_createVNode(){const t=(0,i.Wm)(this._def,(0,r.l7)({},this._props));return this._instance||(t.ce=t=>{this._instance=t,t.isCE=!0,t.emit=(t,...e)=>{this.dispatchEvent(new CustomEvent(t,{detail:e}))};let e=this;while(e=e&&(e.parentNode||e.host))if(e instanceof B){t.parent=e._instance;break}}),t}_applyStyles(t){t&&t.forEach((t=>{const e=document.createElement("style");e.textContent=t,this.shadowRoot.appendChild(e)}))}}function V(t="$style"){{const e=(0,i.FN)();if(!e)return r.kT;const n=e.type.__cssModules;if(!n)return r.kT;const s=n[t];return s||r.kT}}function U(t){const e=(0,i.FN)();if(!e)return;const n=()=>$(e.subTree,t(e.proxy));(0,i.Rh)(n),(0,i.bv)((()=>{const t=new MutationObserver(n);t.observe(e.subTree.el.parentNode,{childList:!0}),(0,i.Ah)((()=>t.disconnect()))}))}function $(t,e){if(128&t.shapeFlag){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{$(n.activeBranch,e)}))}while(t.component)t=t.component.subTree;if(1&t.shapeFlag&&t.el)z(t.el,e);else if(t.type===i.HY)t.children.forEach((t=>$(t,e)));else if(t.type===i.qG){let{el:n,anchor:r}=t;while(n){if(z(n,e),n===r)break;n=n.nextSibling}}}function z(t,e){if(1===t.nodeType){const n=t.style;for(const t in e)n.setProperty(`--${t}`,e[t])}}const q="transition",H="animation",W=(t,{slots:e})=>(0,i.h)(i.P$,J(t),e);W.displayName="Transition";const G={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},K=W.props=(0,r.l7)({},i.P$.props,G),Y=(t,e=[])=>{(0,r.kJ)(t)?t.forEach((t=>t(...e))):t&&t(...e)},Q=t=>!!t&&((0,r.kJ)(t)?t.some((t=>t.length>1)):t.length>1);function J(t){const e={};for(const r in t)r in G||(e[r]=t[r]);if(!1===t.css)return e;const{name:n="v",type:i,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:l=a,appearToClass:h=c,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=X(s),m=g&&g[0],y=g&&g[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:w,onLeave:_,onLeaveCancelled:x,onBeforeAppear:I=v,onAppear:E=b,onAppearCancelled:T=w}=e,S=(t,e,n)=>{et(t,e?h:c),et(t,e?l:a),n&&n()},k=(t,e)=>{et(t,p),et(t,f),e&&e()},C=t=>(e,n)=>{const r=t?E:b,s=()=>S(e,t,n);Y(r,[e,s]),nt((()=>{et(e,t?u:o),tt(e,t?h:c),Q(r)||it(e,i,m,s)}))};return(0,r.l7)(e,{onBeforeEnter(t){Y(v,[t]),tt(t,o),tt(t,a)},onBeforeAppear(t){Y(I,[t]),tt(t,u),tt(t,l)},onEnter:C(!1),onAppear:C(!0),onLeave(t,e){const n=()=>k(t,e);tt(t,d),ct(),tt(t,f),nt((()=>{et(t,d),tt(t,p),Q(_)||it(t,i,y,n)})),Y(_,[t,n])},onEnterCancelled(t){S(t,!1),Y(w,[t])},onAppearCancelled(t){S(t,!0),Y(T,[t])},onLeaveCancelled(t){k(t),Y(x,[t])}})}function X(t){if(null==t)return null;if((0,r.Kn)(t))return[Z(t.enter),Z(t.leave)];{const e=Z(t);return[e,e]}}function Z(t){const e=(0,r.He)(t);return e}function tt(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function et(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function nt(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let rt=0;function it(t,e,n,r){const i=t._endId=++rt,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:c}=st(t,e);if(!o)return r();const u=o+"end";let l=0;const h=()=>{t.removeEventListener(u,d),s()},d=e=>{e.target===t&&++l>=c&&h()};setTimeout((()=>{l<c&&h()}),a+1),t.addEventListener(u,d)}function st(t,e){const n=window.getComputedStyle(t),r=t=>(n[t]||"").split(", "),i=r(q+"Delay"),s=r(q+"Duration"),o=ot(i,s),a=r(H+"Delay"),c=r(H+"Duration"),u=ot(a,c);let l=null,h=0,d=0;e===q?o>0&&(l=q,h=o,d=s.length):e===H?u>0&&(l=H,h=u,d=c.length):(h=Math.max(o,u),l=h>0?o>u?q:H:null,d=l?l===q?s.length:c.length:0);const f=l===q&&/\b(transform|all)(,|$)/.test(n[q+"Property"]);return{type:l,timeout:h,propCount:d,hasTransform:f}}function ot(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,n)=>at(e)+at(t[n]))))}function at(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function ct(){return document.body.offsetHeight}const ut=new WeakMap,lt=new WeakMap,ht={name:"TransitionGroup",props:(0,r.l7)({},K,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=(0,i.FN)(),r=(0,i.Y8)();let o,a;return(0,i.ic)((()=>{if(!o.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!mt(o[0].el,n.vnode.el,e))return;o.forEach(ft),o.forEach(pt);const r=o.filter(gt);ct(),r.forEach((t=>{const n=t.el,r=n.style;tt(n,e),r.transform=r.webkitTransform=r.transitionDuration="";const i=n._moveCb=t=>{t&&t.target!==n||t&&!/transform$/.test(t.propertyName)||(n.removeEventListener("transitionend",i),n._moveCb=null,et(n,e))};n.addEventListener("transitionend",i)}))})),()=>{const c=(0,s.IU)(t),u=J(c);let l=c.tag||i.HY;o=a,a=e.default?(0,i.Q6)(e.default()):[];for(let t=0;t<a.length;t++){const e=a[t];null!=e.key&&(0,i.nK)(e,(0,i.U2)(e,u,r,n))}if(o)for(let t=0;t<o.length;t++){const e=o[t];(0,i.nK)(e,(0,i.U2)(e,u,r,n)),ut.set(e,e.el.getBoundingClientRect())}return(0,i.Wm)(l,null,a)}}},dt=ht;function ft(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function pt(t){lt.set(t,t.el.getBoundingClientRect())}function gt(t){const e=ut.get(t),n=lt.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${r}px,${i}px)`,e.transitionDuration="0s",t}}function mt(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach((t=>{t.split(/\s+/).forEach((t=>t&&r.classList.remove(t)))})),n.split(/\s+/).forEach((t=>t&&r.classList.add(t))),r.style.display="none";const i=1===e.nodeType?e:e.parentNode;i.appendChild(r);const{hasTransform:s}=st(r);return i.removeChild(r),s}const yt=t=>{const e=t.props["onUpdate:modelValue"];return(0,r.kJ)(e)?t=>(0,r.ir)(e,t):e};function vt(t){t.target.composing=!0}function bt(t){const e=t.target;e.composing&&(e.composing=!1,wt(e,"input"))}function wt(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const _t={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t._assign=yt(s);const o=i||s.props&&"number"===s.props.type;S(t,e?"change":"input",(e=>{if(e.target.composing)return;let i=t.value;n?i=i.trim():o&&(i=(0,r.He)(i)),t._assign(i)})),n&&S(t,"change",(()=>{t.value=t.value.trim()})),e||(S(t,"compositionstart",vt),S(t,"compositionend",bt),S(t,"change",bt))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},o){if(t._assign=yt(o),t.composing)return;if(document.activeElement===t){if(n)return;if(i&&t.value.trim()===e)return;if((s||"number"===t.type)&&(0,r.He)(t.value)===e)return}const a=null==e?"":e;t.value!==a&&(t.value=a)}},xt={deep:!0,created(t,e,n){t._assign=yt(n),S(t,"change",(()=>{const e=t._modelValue,n=kt(t),i=t.checked,s=t._assign;if((0,r.kJ)(e)){const t=(0,r.hq)(e,n),o=-1!==t;if(i&&!o)s(e.concat(n));else if(!i&&o){const n=[...e];n.splice(t,1),s(n)}}else if((0,r.DM)(e)){const t=new Set(e);i?t.add(n):t.delete(n),s(t)}else s(Ct(t,i))}))},mounted:It,beforeUpdate(t,e,n){t._assign=yt(n),It(t,e,n)}};function It(t,{value:e,oldValue:n},i){t._modelValue=e,(0,r.kJ)(e)?t.checked=(0,r.hq)(e,i.props.value)>-1:(0,r.DM)(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=(0,r.WV)(e,Ct(t,!0)))}const Et={created(t,{value:e},n){t.checked=(0,r.WV)(e,n.props.value),t._assign=yt(n),S(t,"change",(()=>{t._assign(kt(t))}))},beforeUpdate(t,{value:e,oldValue:n},i){t._assign=yt(i),e!==n&&(t.checked=(0,r.WV)(e,i.props.value))}},Tt={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=(0,r.DM)(e);S(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>n?(0,r.He)(kt(t)):kt(t)));t._assign(t.multiple?s?new Set(e):e:e[0])})),t._assign=yt(i)},mounted(t,{value:e}){St(t,e)},beforeUpdate(t,e,n){t._assign=yt(n)},updated(t,{value:e}){St(t,e)}};function St(t,e){const n=t.multiple;if(!n||(0,r.kJ)(e)||(0,r.DM)(e)){for(let i=0,s=t.options.length;i<s;i++){const s=t.options[i],o=kt(s);if(n)(0,r.kJ)(e)?s.selected=(0,r.hq)(e,o)>-1:s.selected=e.has(o);else if((0,r.WV)(kt(s),e))return void(t.selectedIndex!==i&&(t.selectedIndex=i))}n||-1===t.selectedIndex||(t.selectedIndex=-1)}}function kt(t){return"_value"in t?t._value:t.value}function Ct(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const At={created(t,e,n){Ot(t,e,n,null,"created")},mounted(t,e,n){Ot(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Ot(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Ot(t,e,n,r,"updated")}};function Ot(t,e,n,r,i){let s;switch(t.tagName){case"SELECT":s=Tt;break;case"TEXTAREA":s=_t;break;default:switch(n.props&&n.props.type){case"checkbox":s=xt;break;case"radio":s=Et;break;default:s=_t}}const o=s[i];o&&o(t,e,n,r)}function Dt(){_t.getSSRProps=({value:t})=>({value:t}),Et.getSSRProps=({value:t},e)=>{if(e.props&&(0,r.WV)(e.props.value,t))return{checked:!0}},xt.getSSRProps=({value:t},e)=>{if((0,r.kJ)(t)){if(e.props&&(0,r.hq)(t,e.props.value)>-1)return{checked:!0}}else if((0,r.DM)(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}}}const Rt=["ctrl","shift","alt","meta"],Pt={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>Rt.some((n=>t[`${n}Key`]&&!e.includes(n)))},Nt=(t,e)=>(n,...r)=>{for(let t=0;t<e.length;t++){const r=Pt[e[t]];if(r&&r(n,e))return}return t(n,...r)},Mt={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Lt=(t,e)=>n=>{if(!("key"in n))return;const i=(0,r.rs)(n.key);return e.some((t=>t===i||Mt[t]===i))?t(n):void 0},Ft={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):jt(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!==!n&&(r?e?(r.beforeEnter(t),jt(t,!0),r.enter(t)):r.leave(t,(()=>{jt(t,!1)})):jt(t,e))},beforeUnmount(t,{value:e}){jt(t,e)}};function jt(t,e){t.style.display=e?t._vod:"none"}function Bt(){Ft.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Vt=(0,r.l7)({patchProp:N},u);let Ut,$t=!1;function zt(){return Ut||(Ut=(0,i.Us)(Vt))}function qt(){return Ut=$t?Ut:(0,i.Eo)(Vt),$t=!0,Ut}const Ht=(...t)=>{zt().render(...t)},Wt=(...t)=>{qt().hydrate(...t)},Gt=(...t)=>{const e=zt().createApp(...t);const{mount:n}=e;return e.mount=t=>{const i=Yt(t);if(!i)return;const s=e._component;(0,r.mf)(s)||s.render||s.template||(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},Kt=(...t)=>{const e=qt().createApp(...t);const{mount:n}=e;return e.mount=t=>{const e=Yt(t);if(e)return n(e,!0,e instanceof SVGElement)},e};function Yt(t){if((0,r.HD)(t)){const e=document.querySelector(t);return e}return t}let Qt=!1;const Jt=()=>{Qt||(Qt=!0,Dt(),Bt())}},7139:function(t,e,n){"use strict";function r(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.d(e,{C_:function(){return f},DM:function(){return P},E9:function(){return it},F7:function(){return T},Gg:function(){return H},HD:function(){return L},He:function(){return nt},Kn:function(){return j},NO:function(){return I},Nj:function(){return et},Od:function(){return C},PO:function(){return z},Pq:function(){return a},RI:function(){return O},S0:function(){return q},W7:function(){return $},WV:function(){return m},Z6:function(){return _},_A:function(){return K},_N:function(){return R},aU:function(){return Z},dG:function(){return x},e1:function(){return s},fY:function(){return r},hR:function(){return X},hq:function(){return y},ir:function(){return tt},j5:function(){return u},kC:function(){return J},kJ:function(){return D},kT:function(){return w},l7:function(){return k},mf:function(){return M},rs:function(){return Q},tI:function(){return B},tR:function(){return S},vs:function(){return p},yA:function(){return c},yk:function(){return F},zw:function(){return v}});const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",s=r(i);const o="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=r(o);function c(t){return!!t||""===t}function u(t){if(D(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=L(r)?d(r):u(r);if(i)for(const t in i)e[t]=i[t]}return e}return L(t)||j(t)?t:void 0}const l=/;(?![^(]*\))/g,h=/:(.+)/;function d(t){const e={};return t.split(l).forEach((t=>{if(t){const n=t.split(h);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function f(t){let e="";if(L(t))e=t;else if(D(t))for(let n=0;n<t.length;n++){const r=f(t[n]);r&&(e+=r+" ")}else if(j(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function p(t){if(!t)return null;let{class:e,style:n}=t;return e&&!L(e)&&(t.class=f(e)),n&&(t.style=u(n)),t}function g(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=m(t[r],e[r]);return n}function m(t,e){if(t===e)return!0;let n=N(t),r=N(e);if(n||r)return!(!n||!r)&&t.getTime()===e.getTime();if(n=D(t),r=D(e),n||r)return!(!n||!r)&&g(t,e);if(n=j(t),r=j(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const n in t){const r=t.hasOwnProperty(n),i=e.hasOwnProperty(n);if(r&&!i||!r&&i||!m(t[n],e[n]))return!1}}return String(t)===String(e)}function y(t,e){return t.findIndex((t=>m(t,e)))}const v=t=>L(t)?t:null==t?"":D(t)||j(t)&&(t.toString===V||!M(t.toString))?JSON.stringify(t,b,2):String(t),b=(t,e)=>e&&e.__v_isRef?b(t,e.value):R(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:P(e)?{[`Set(${e.size})`]:[...e.values()]}:!j(e)||D(e)||z(e)?e:String(e),w={},_=[],x=()=>{},I=()=>!1,E=/^on[^a-z]/,T=t=>E.test(t),S=t=>t.startsWith("onUpdate:"),k=Object.assign,C=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},A=Object.prototype.hasOwnProperty,O=(t,e)=>A.call(t,e),D=Array.isArray,R=t=>"[object Map]"===U(t),P=t=>"[object Set]"===U(t),N=t=>t instanceof Date,M=t=>"function"===typeof t,L=t=>"string"===typeof t,F=t=>"symbol"===typeof t,j=t=>null!==t&&"object"===typeof t,B=t=>j(t)&&M(t.then)&&M(t.catch),V=Object.prototype.toString,U=t=>V.call(t),$=t=>U(t).slice(8,-1),z=t=>"[object Object]"===U(t),q=t=>L(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,H=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),W=t=>{const e=Object.create(null);return n=>{const r=e[n];return r||(e[n]=t(n))}},G=/-(\w)/g,K=W((t=>t.replace(G,((t,e)=>e?e.toUpperCase():"")))),Y=/\B([A-Z])/g,Q=W((t=>t.replace(Y,"-$1").toLowerCase())),J=W((t=>t.charAt(0).toUpperCase()+t.slice(1))),X=W((t=>t?`on${J(t)}`:"")),Z=(t,e)=>!Object.is(t,e),tt=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},et=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},nt=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let rt;const it=()=>rt||(rt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},9810:function(t,e,n){"use strict";n(1703);var r=n(4870),i=n(3396),s=n(9242),o=n(7139);function a(t){return-1!==[null,void 0,!1].indexOf(t)}function c(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?String(t).toLowerCase().trim():String(t).normalize("NFD").replace(/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50]|\uD804[\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDD3D\uDD3E\uDD43\uDDE0\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF8F-\uDF9F\uDFF0\uDFF1]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD838[\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,"").toLowerCase().trim()}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e,n){var s=(0,r.BK)(t),o=s.options,l=s.mode,f=s.trackBy,p=s.limit,g=s.hideSelected,m=s.createTag,y=s.createOption,v=s.label,b=s.appendNewTag,w=s.appendNewOption,_=s.multipleLabel,x=s.object,I=s.loading,E=s.delay,T=s.resolveOnLoad,S=s.minChars,k=s.filterResults,C=s.clearOnSearch,A=s.clearOnSelect,O=s.valueProp,D=s.canDeselect,R=s.max,P=s.strict,N=s.closeOnSelect,M=s.groups,L=(s.groupLabel,s.groupOptions),F=s.groupHideEmpty,j=s.groupSelect,B=n.iv,V=n.ev,U=n.search,$=n.clearSearch,z=n.update,q=n.pointer,H=n.clearPointer,W=n.blur,G=n.focus,K=n.deactivate,Y=(0,r.iH)([]),Q=(0,r.iH)([]),J=(0,r.iH)(!1),X=(0,i.Fl)((function(){return m.value||y.value||!1})),Z=(0,i.Fl)((function(){return void 0!==b.value?b.value:void 0===w.value||w.value})),tt=(0,i.Fl)((function(){if(M.value){var t=Q.value||[],e=[];return t.forEach((function(t){Ct(t[L.value]).forEach((function(n){e.push(Object.assign({},n,t.disabled?{disabled:!0}:{}))}))})),e}var n=Ct(Q.value||[]);return Y.value.length&&(n=n.concat(Y.value)),n})),et=(0,i.Fl)((function(){return M.value?St((Q.value||[]).map((function(t){var e,n=Ct(t[L.value]);return h(h({},t),{},(d(e={group:!0},L.value,kt(n,!1).map((function(e){return Object.assign({},e,t.disabled?{disabled:!0}:{})}))),d(e,"__VISIBLE__",kt(n).map((function(e){return Object.assign({},e,t.disabled?{disabled:!0}:{})}))),e))}))):[]})),nt=(0,i.Fl)((function(){var t=tt.value;return at.value.length&&(t=at.value.concat(t)),t=kt(t),p.value>0&&(t=t.slice(0,p.value)),t})),rt=(0,i.Fl)((function(){switch(l.value){case"single":return!a(B.value[O.value]);case"multiple":case"tags":return!a(B.value)&&B.value.length>0}})),it=(0,i.Fl)((function(){return void 0!==_&&void 0!==_.value?_.value(B.value):B.value&&B.value.length>1?"".concat(B.value.length," options selected"):"1 option selected"})),st=(0,i.Fl)((function(){return!tt.value.length&&!J.value&&!at.value.length})),ot=(0,i.Fl)((function(){return tt.value.length>0&&0==nt.value.length&&(U.value&&M.value||!M.value)})),at=(0,i.Fl)((function(){var t;return!1!==X.value&&U.value?-1!==It(U.value)?[]:[(t={},d(t,O.value,U.value),d(t,v.value,U.value),d(t,ct.value,U.value),t)]:[]})),ct=(0,i.Fl)((function(){return f.value||v.value})),ut=(0,i.Fl)((function(){switch(l.value){case"single":return null;case"multiple":case"tags":return[]}})),lt=(0,i.Fl)((function(){return I.value||J.value})),ht=function(t){switch("object"!==u(t)&&(t=xt(t)),l.value){case"single":z(t);break;case"multiple":case"tags":z(B.value.concat(t))}e.emit("select",ft(t),t)},dt=function(t){switch("object"!==u(t)&&(t=xt(t)),l.value){case"single":gt();break;case"tags":case"multiple":z(Array.isArray(t)?B.value.filter((function(e){return-1===t.map((function(t){return t[O.value]})).indexOf(e[O.value])})):B.value.filter((function(e){return e[O.value]!=t[O.value]})))}e.emit("deselect",ft(t),t)},ft=function(t){return x.value?t:t[O.value]},pt=function(t){dt(t)},gt=function(){e.emit("clear"),z(ut.value)},mt=function(t){if(void 0!==t.group)return"single"!==l.value&&_t(t[L.value])&&t[L.value].length;switch(l.value){case"single":return!a(B.value)&&B.value[O.value]==t[O.value];case"tags":case"multiple":return!a(B.value)&&-1!==B.value.map((function(t){return t[O.value]})).indexOf(t[O.value])}},yt=function(t){return!0===t.disabled},vt=function(){return!(void 0===R||-1===R.value||!rt.value&&R.value>0)&&B.value.length>=R.value},bt=function(t){void 0===xt(t[O.value])&&X.value&&(e.emit("tag",t[O.value]),e.emit("option",t[O.value]),Z.value&&Tt(t),$())},wt=function(t){return void 0===t.find((function(t){return!mt(t)&&!t.disabled}))},_t=function(t){return void 0===t.find((function(t){return!mt(t)}))},xt=function(t){return tt.value[tt.value.map((function(t){return String(t[O.value])})).indexOf(String(t))]},It=function(t){return tt.value.map((function(t){return t[ct.value]})).indexOf(t)},Et=function(t){return-1!==["tags","multiple"].indexOf(l.value)&&g.value&&mt(t)},Tt=function(t){Y.value.push(t)},St=function(t){return F.value?t.filter((function(t){return U.value?t.__VISIBLE__.length:t[L.value].length})):t.filter((function(t){return!U.value||t.__VISIBLE__.length}))},kt=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t;return U.value&&k.value&&(n=n.filter((function(t){return-1!==c(t[ct.value],P.value).indexOf(c(U.value,P.value))}))),g.value&&e&&(n=n.filter((function(t){return!Et(t)}))),n},Ct=function(t){var e,n=t;return e=n,"[object Object]"===Object.prototype.toString.call(e)&&(n=Object.keys(n).map((function(t){var e,r=n[t];return d(e={},O.value,t),d(e,ct.value,r),d(e,v.value,r),e}))),n=n.map((function(t){var e;return"object"===u(t)?t:(d(e={},O.value,t),d(e,ct.value,t),d(e,v.value,t),e)}))},At=function(){a(V.value)||(B.value=Dt(V.value))},Ot=function(t){J.value=!0,o.value(U.value).then((function(e){Q.value=e,"function"==typeof t&&t(e),J.value=!1}))},Dt=function(t){return a(t)?"single"===l.value?{}:[]:x.value?t:"single"===l.value?xt(t)||{}:t.filter((function(t){return!!xt(t)})).map((function(t){return xt(t)}))};if("single"!==l.value&&!a(V.value)&&!Array.isArray(V.value))throw new Error('v-model must be an array when using "'.concat(l.value,'" mode'));return o&&"function"==typeof o.value?T.value?Ot(At):1==x.value&&At():(Q.value=o.value,At()),E.value>-1&&(0,i.YP)(U,(function(t){t.length<S.value||(J.value=!0,C.value&&(Q.value=[]),setTimeout((function(){t==U.value&&o.value(U.value).then((function(e){t!=U.value&&U.value||(Q.value=e,q.value=nt.value.filter((function(t){return!0!==t.disabled}))[0]||null,J.value=!1)}))}),E.value))}),{flush:"sync"}),(0,i.YP)(V,(function(t){var e,n,r;if(a(t))B.value=Dt(t);else switch(l.value){case"single":(x.value?t[O.value]!=B.value[O.value]:t!=B.value[O.value])&&(B.value=Dt(t));break;case"multiple":case"tags":e=x.value?t.map((function(t){return t[O.value]})):t,n=B.value.map((function(t){return t[O.value]})),r=n.slice().sort(),e.length===n.length&&e.slice().sort().every((function(t,e){return t===r[e]}))||(B.value=Dt(t))}}),{deep:!0}),"function"!=typeof t.options&&(0,i.YP)(o,(function(e,n){Q.value=t.options,Object.keys(B.value).length||At(),function(){if(rt.value)if("single"===l.value){var t=xt(B.value[O.value])[v.value];B.value[v.value]=t,x.value&&(V.value[v.value]=t)}else B.value.forEach((function(t,e){var n=xt(B.value[e][O.value])[v.value];B.value[e][v.value]=n,x.value&&(V.value[e][v.value]=n)}))}()})),{fo:nt,filteredOptions:nt,hasSelected:rt,multipleLabelText:it,eo:tt,extendedOptions:tt,fg:et,filteredGroups:et,noOptions:st,noResults:ot,resolving:J,busy:lt,select:ht,deselect:dt,remove:pt,selectAll:function(){"single"!==l.value&&ht(nt.value)},clear:gt,isSelected:mt,isDisabled:yt,isMax:vt,getOption:xt,handleOptionClick:function(t){if(!yt(t)){switch(l.value){case"single":if(mt(t))return void(D.value&&dt(t));bt(t),W(),ht(t);break;case"multiple":if(mt(t))return void dt(t);if(vt())return;bt(t),ht(t),A.value&&$(),g.value&&H(),N.value&&W();break;case"tags":if(mt(t))return void dt(t);if(vt())return;bt(t),A.value&&$(),ht(t),g.value&&H(),N.value&&W()}N.value?K():G()}},handleGroupClick:function(t){if(!yt(t)&&"single"!==l.value&&j.value){switch(l.value){case"multiple":case"tags":wt(t[L.value])?dt(t[L.value]):ht(t[L.value].filter((function(t){return-1===B.value.map((function(t){return t[O.value]})).indexOf(t[O.value])})).filter((function(t){return!t.disabled})).filter((function(t,e){return B.value.length+1+e<=R.value||-1===R.value})))}N.value&&K()}},handleTagRemove:function(t,e){0===e.button?pt(t):e.preventDefault()},refreshOptions:function(t){Ot(t)},resolveOptions:Ot}}function p(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e,n){var s=(0,r.BK)(t),o=s.classes,a=s.disabled,c=s.openDirection,u=s.showOptions,l=n.isOpen,h=n.isPointed,d=n.isSelected,f=n.isDisabled,p=n.isActive,g=n.canPointGroups,m=n.resolving,y=n.fo,w=(0,i.Fl)((function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",spacer:"multiselect-spacer"},o.value)})),_=(0,i.Fl)((function(){return!!(l.value&&u.value&&(!m.value||m.value&&y.value.length))}));return{classList:(0,i.Fl)((function(){var t=w.value;return{container:[t.container].concat(a.value?t.containerDisabled:[]).concat(_.value&&"top"===c.value?t.containerOpenTop:[]).concat(_.value&&"top"!==c.value?t.containerOpen:[]).concat(p.value?t.containerActive:[]),spacer:t.spacer,singleLabel:t.singleLabel,singleLabelText:t.singleLabelText,multipleLabel:t.multipleLabel,search:t.search,tags:t.tags,tag:[t.tag].concat(a.value?t.tagDisabled:[]),tagRemove:t.tagRemove,tagRemoveIcon:t.tagRemoveIcon,tagsSearchWrapper:t.tagsSearchWrapper,tagsSearch:t.tagsSearch,tagsSearchCopy:t.tagsSearchCopy,placeholder:t.placeholder,caret:[t.caret].concat(l.value?t.caretOpen:[]),clear:t.clear,clearIcon:t.clearIcon,spinner:t.spinner,dropdown:[t.dropdown].concat("top"===c.value?t.dropdownTop:[]).concat(l.value&&u.value&&_.value?[]:t.dropdownHidden),options:[t.options].concat("top"===c.value?t.optionsTop:[]),group:t.group,groupLabel:function(e){var n=[t.groupLabel];return h(e)?n.push(d(e)?t.groupLabelSelectedPointed:t.groupLabelPointed):d(e)&&g.value?n.push(f(e)?t.groupLabelSelectedDisabled:t.groupLabelSelected):f(e)&&n.push(t.groupLabelDisabled),g.value&&n.push(t.groupLabelPointable),n},groupOptions:t.groupOptions,option:function(e,n){var r=[t.option];return h(e)?r.push(d(e)?t.optionSelectedPointed:t.optionPointed):d(e)?r.push(f(e)?t.optionSelectedDisabled:t.optionSelected):(f(e)||n&&f(n))&&r.push(t.optionDisabled),r},noOptions:t.noOptions,noResults:t.noResults,fakeInput:t.fakeInput}})),showDropdown:_}}var _={name:"Multiselect",emits:["open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:[Object],default:()=>({})}},setup(t,e){const n=function(t,e){var n=(0,r.BK)(t),s=n.value,o=n.modelValue,a=n.mode,c=n.valueProp,u=(0,r.iH)("single"!==a.value?[]:{}),l=void 0!==e.expose?o:s,h=(0,i.Fl)((function(){return"single"===a.value?u.value[c.value]:u.value.map((function(t){return t[c.value]}))})),d=(0,i.Fl)((function(){return"single"!==a.value?u.value.map((function(t){return t[c.value]})).join(","):u.value[c.value]}));return{iv:u,internalValue:u,ev:l,externalValue:l,textValue:d,plainValue:h}}(t,e),s=function(t,e,n){var i=(0,r.BK)(t),s=i.groupSelect,o=i.mode,a=i.groups,c=(0,r.iH)(null),u=function(t){void 0===t||null!==t&&t.disabled||a.value&&t&&t.group&&("single"===o.value||!s.value)||(c.value=t)};return{pointer:c,setPointer:u,clearPointer:function(){u(null)}}}(t),o=function(t,e,n){var i=(0,r.BK)(t).disabled,s=(0,r.iH)(!1);return{isOpen:s,open:function(){s.value||i.value||(s.value=!0,e.emit("open"))},close:function(){s.value&&(s.value=!1,e.emit("close"))}}}(t,e),c=function(t,e,n){var s=(0,r.iH)(null),o=(0,r.iH)(null);return(0,i.YP)(s,(function(t){e.emit("search-change",t)})),{search:s,input:o,clearSearch:function(){s.value=""},handleSearchInput:function(t){s.value=t.target.value},handlePaste:function(t){e.emit("paste",t)}}}(0,e),u=function(t,e,n){var i=(0,r.BK)(t),s=i.object,o=i.valueProp,c=i.mode,u=n.iv,l=function(t){return s.value||a(t)?t:Array.isArray(t)?t.map((function(t){return t[o.value]})):t[o.value]},h=function(t){return a(t)?"single"===c.value?{}:[]:t};return{update:function(t){u.value=h(t);var n=l(t);e.emit("change",n),e.emit("input",n),e.emit("update:modelValue",n)}}}(t,e,{iv:n.iv}),l=function(t,e,n){var s=(0,r.BK)(t),o=s.searchable,a=s.disabled,c=n.input,u=n.open,l=n.close,h=n.clearSearch,d=(0,r.iH)(null),f=(0,r.iH)(!1),p=(0,i.Fl)((function(){return o.value||a.value?-1:0})),g=function(){o.value&&c.value.blur(),d.value.blur()},m=function(){o.value&&!a.value&&c.value.focus()},y=function(){f.value=!1,setTimeout((function(){f.value||(l(),h())}),1)};return{multiselect:d,tabindex:p,isActive:f,blur:g,focus:m,handleFocus:function(){m()},activate:function(){a.value||(f.value=!0,u())},deactivate:y,handleCaretClick:function(){y(),g()}}}(t,0,{input:c.input,open:o.open,close:o.close,clearSearch:c.clearSearch}),h=f(t,e,{ev:n.ev,iv:n.iv,search:c.search,clearSearch:c.clearSearch,update:u.update,pointer:s.pointer,clearPointer:s.clearPointer,blur:l.blur,focus:l.focus,deactivate:l.deactivate}),d=function(t,e,n){var s=(0,r.BK)(t),o=s.valueProp,a=s.showOptions,c=s.searchable,u=s.groupLabel,l=s.groups,h=s.mode,d=s.groupSelect,f=n.fo,g=n.fg,m=n.handleOptionClick,y=n.handleGroupClick,v=n.search,b=n.pointer,w=n.setPointer,_=n.clearPointer,x=n.multiselect,I=(0,i.Fl)((function(){return f.value.filter((function(t){return!t.disabled}))})),E=(0,i.Fl)((function(){return g.value.filter((function(t){return!t.disabled}))})),T=(0,i.Fl)((function(){return"single"!==h.value&&d.value})),S=(0,i.Fl)((function(){return b.value&&b.value.group})),k=(0,i.Fl)((function(){return F(b.value)})),C=(0,i.Fl)((function(){var t=S.value?b.value:F(b.value),e=E.value.map((function(t){return t[u.value]})).indexOf(t[u.value]),n=E.value[e-1];return void 0===n&&(n=O.value),n})),A=(0,i.Fl)((function(){var t=E.value.map((function(t){return t.label})).indexOf(S.value?b.value[u.value]:F(b.value)[u.value])+1;return E.value.length<=t&&(t=0),E.value[t]})),O=(0,i.Fl)((function(){return p(E.value).slice(-1)[0]})),D=(0,i.Fl)((function(){return b.value.__VISIBLE__.filter((function(t){return!t.disabled}))[0]})),R=(0,i.Fl)((function(){var t=k.value.__VISIBLE__.filter((function(t){return!t.disabled}));return t[t.map((function(t){return t[o.value]})).indexOf(b.value[o.value])-1]})),P=(0,i.Fl)((function(){var t=F(b.value).__VISIBLE__.filter((function(t){return!t.disabled}));return t[t.map((function(t){return t[o.value]})).indexOf(b.value[o.value])+1]})),N=(0,i.Fl)((function(){return p(C.value.__VISIBLE__.filter((function(t){return!t.disabled}))).slice(-1)[0]})),M=(0,i.Fl)((function(){return p(O.value.__VISIBLE__.filter((function(t){return!t.disabled}))).slice(-1)[0]})),L=function(){w(I.value[0]||null)},F=function(t){return E.value.find((function(e){return-1!==e.__VISIBLE__.map((function(t){return t[o.value]})).indexOf(t[o.value])}))},j=function(){var t=x.value.querySelector("[data-pointed]");if(t){var e=t.parentElement.parentElement;l.value&&(e=S.value?t.parentElement.parentElement.parentElement:t.parentElement.parentElement.parentElement.parentElement),t.offsetTop+t.offsetHeight>e.clientHeight+e.scrollTop&&(e.scrollTop=t.offsetTop+t.offsetHeight-e.clientHeight),t.offsetTop<e.scrollTop&&(e.scrollTop=t.offsetTop)}};return(0,i.YP)(v,(function(t){c.value&&(t.length&&a.value?L():_())})),{pointer:b,canPointGroups:T,isPointed:function(t){return!(!b.value||!(!t.group&&b.value[o.value]==t[o.value]||void 0!==t.group&&b.value[u.value]==t[u.value]))||void 0},setPointerFirst:L,selectPointer:function(){b.value&&!0!==b.value.disabled&&(S.value?y(b.value):m(b.value))},forwardPointer:function(){if(null===b.value)w((l.value&&T.value?E.value[0]:I.value[0])||null);else if(l.value&&T.value){var t=S.value?D.value:P.value;void 0===t&&(t=A.value),w(t||null)}else{var e=I.value.map((function(t){return t[o.value]})).indexOf(b.value[o.value])+1;I.value.length<=e&&(e=0),w(I.value[e]||null)}(0,i.Y3)((function(){j()}))},backwardPointer:function(){if(null===b.value){var t=I.value[I.value.length-1];l.value&&T.value&&void 0===(t=M.value)&&(t=O.value),w(t||null)}else if(l.value&&T.value){var e=S.value?N.value:R.value;void 0===e&&(e=S.value?C.value:k.value),w(e||null)}else{var n=I.value.map((function(t){return t[o.value]})).indexOf(b.value[o.value])-1;n<0&&(n=I.value.length-1),w(I.value[n]||null)}(0,i.Y3)((function(){j()}))}}}(t,0,{fo:h.fo,fg:h.fg,handleOptionClick:h.handleOptionClick,handleGroupClick:h.handleGroupClick,search:c.search,pointer:s.pointer,setPointer:s.setPointer,clearPointer:s.clearPointer,multiselect:l.multiselect}),g=function(t,e,n){var s=(0,r.BK)(t),o=s.mode,a=s.addTagOn,c=s.openDirection,u=s.searchable,l=s.showOptions,h=s.valueProp,d=s.groups,f=s.addOptionOn,p=s.createTag,g=s.createOption,y=n.iv,v=n.update,b=n.search,w=n.setPointer,_=n.selectPointer,x=n.backwardPointer,I=n.forwardPointer,E=n.blur,T=n.fo,S=(0,i.Fl)((function(){return p.value||g.value||!1})),k=(0,i.Fl)((function(){return void 0!==a.value?a.value:void 0!==f.value?f.value:["enter"]})),C=function(){"tags"===o.value&&!l.value&&S.value&&u.value&&!d.value&&w(T.value[T.value.map((function(t){return t[h.value]})).indexOf(b.value)])};return{handleKeydown:function(t){switch(t.key){case"Backspace":if("single"===o.value)return;if(u.value&&-1===[null,""].indexOf(b.value))return;if(0===y.value.length)return;v(m(y.value).slice(0,-1));break;case"Enter":if(t.preventDefault(),-1===k.value.indexOf("enter")&&S.value)return;C(),_();break;case" ":if(!S.value&&!u.value)return t.preventDefault(),C(),void _();if(!S.value)return!1;if(-1===k.value.indexOf("space")&&S.value)return;t.preventDefault(),C(),_();break;case"Tab":case";":case",":if(-1===k.value.indexOf(t.key.toLowerCase())||!S.value)return;C(),_(),t.preventDefault();break;case"Escape":E();break;case"ArrowUp":if(t.preventDefault(),!l.value)return;"top"===c.value?I():x();break;case"ArrowDown":if(t.preventDefault(),!l.value)return;"top"===c.value?x():I()}},preparePointer:C}}(t,0,{iv:n.iv,update:u.update,search:c.search,setPointer:s.setPointer,selectPointer:d.selectPointer,backwardPointer:d.backwardPointer,forwardPointer:d.forwardPointer,blur:l.blur,fo:h.fo}),y=w(t,0,{isOpen:o.isOpen,isPointed:d.isPointed,canPointGroups:d.canPointGroups,isSelected:h.isSelected,isDisabled:h.isDisabled,isActive:l.isActive,resolving:h.resolving,fo:h.fo});return{...n,...o,...l,...s,...u,...c,...h,...d,...g,...y}},render:function(t,e,n,r,a,c){return(0,i.wg)(),(0,i.j4)("div",{ref:"multiselect",tabindex:t.tabindex,class:t.classList.container,id:n.id,onFocusin:e[7]||(e[7]=(...e)=>t.activate&&t.activate(...e)),onFocusout:e[8]||(e[8]=(...e)=>t.deactivate&&t.deactivate(...e)),onKeydown:e[9]||(e[9]=(...e)=>t.handleKeydown&&t.handleKeydown(...e)),onFocus:e[10]||(e[10]=(...e)=>t.handleFocus&&t.handleFocus(...e))},[(0,i.kq)(" Search "),"tags"!==n.mode&&n.searchable&&!n.disabled?((0,i.wg)(),(0,i.j4)("input",(0,i.dG)({key:0,type:n.inputType,modelValue:t.search,value:t.search,class:t.classList.search,autocomplete:n.autocomplete},n.attrs,{onInput:e[1]||(e[1]=(...e)=>t.handleSearchInput&&t.handleSearchInput(...e)),onPaste:e[2]||(e[2]=(0,s.iM)(((...e)=>t.handlePaste&&t.handlePaste(...e)),["stop"])),ref:"input"}),null,16,["type","modelValue","value","autocomplete"])):(0,i.kq)("v-if",!0),(0,i.kq)(" Tags (with search) "),"tags"==n.mode?((0,i.wg)(),(0,i.j4)("div",{key:1,class:t.classList.tags},[((0,i.wg)(!0),(0,i.j4)(i.HY,null,(0,i.Ko)(t.iv,((e,r,s)=>(0,i.WI)(t.$slots,"tag",{option:e,handleTagRemove:t.handleTagRemove,disabled:n.disabled},(()=>[((0,i.wg)(),(0,i.j4)("span",{class:t.classList.tag,key:s},[(0,i.Uk)((0,o.zw)(e[n.label])+" ",1),n.disabled?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.j4)("span",{key:0,class:t.classList.tagRemove,onClick:n=>t.handleTagRemove(e,n)},[(0,i.Wm)("span",{class:t.classList.tagRemoveIcon},null,2)],10,["onClick"]))],2))])))),256)),(0,i.Wm)("div",{class:t.classList.tagsSearchWrapper},[(0,i.kq)(" Used for measuring search width "),(0,i.Wm)("span",{class:t.classList.tagsSearchCopy},(0,o.zw)(t.search),3),(0,i.kq)(" Actual search input "),n.searchable&&!n.disabled?((0,i.wg)(),(0,i.j4)("input",(0,i.dG)({key:0,type:n.inputType,modelValue:t.search,value:t.search,class:t.classList.tagsSearch,autocomplete:n.autocomplete},n.attrs,{onInput:e[3]||(e[3]=(...e)=>t.handleSearchInput&&t.handleSearchInput(...e)),onPaste:e[4]||(e[4]=(0,s.iM)(((...e)=>t.handlePaste&&t.handlePaste(...e)),["stop"])),ref:"input"}),null,16,["type","modelValue","value","autocomplete"])):(0,i.kq)("v-if",!0)],2)],2)):(0,i.kq)("v-if",!0),(0,i.kq)(" Single label "),"single"==n.mode&&t.hasSelected&&!t.search&&t.iv?(0,i.WI)(t.$slots,"singlelabel",{key:2,value:t.iv},(()=>[(0,i.Wm)("div",{class:t.classList.singleLabel},[(0,i.Wm)("span",{class:t.classList.singleLabelText},(0,o.zw)(t.iv[n.label]),3)],2)])):(0,i.kq)("v-if",!0),(0,i.kq)(" Multiple label "),"multiple"==n.mode&&t.hasSelected&&!t.search?(0,i.WI)(t.$slots,"multiplelabel",{key:3,values:t.iv},(()=>[(0,i.Wm)("div",{class:t.classList.multipleLabel},(0,o.zw)(t.multipleLabelText),3)])):(0,i.kq)("v-if",!0),(0,i.kq)(" Placeholder "),!n.placeholder||t.hasSelected||t.search?(0,i.kq)("v-if",!0):(0,i.WI)(t.$slots,"placeholder",{key:4},(()=>[(0,i.Wm)("div",{class:t.classList.placeholder},(0,o.zw)(n.placeholder),3)])),(0,i.kq)(" Spinner "),t.busy&&t.isActive?(0,i.WI)(t.$slots,"spinner",{key:5},(()=>[(0,i.Wm)("span",{class:t.classList.spinner},null,2)])):(0,i.kq)("v-if",!0),(0,i.kq)(" Clear "),t.hasSelected&&!n.disabled&&n.canClear&&!t.busy?(0,i.WI)(t.$slots,"clear",{key:6,clear:t.clear},(()=>[(0,i.Wm)("span",{class:t.classList.clear,onMousedown:e[5]||(e[5]=(...e)=>t.clear&&t.clear(...e))},[(0,i.Wm)("span",{class:t.classList.clearIcon},null,2)],34)])):(0,i.kq)("v-if",!0),(0,i.kq)(" Caret "),n.caret&&n.showOptions?(0,i.WI)(t.$slots,"caret",{key:7},(()=>[(0,i.Wm)("span",{class:t.classList.caret,onClick:e[6]||(e[6]=(...e)=>t.handleCaretClick&&t.handleCaretClick(...e))},null,2)])):(0,i.kq)("v-if",!0),(0,i.kq)(" Options "),(0,i.Wm)("div",{class:t.classList.dropdown,tabindex:"-1"},[(0,i.WI)(t.$slots,"beforelist",{options:t.fo}),(0,i.Wm)("ul",{class:t.classList.options},[n.groups?((0,i.wg)(!0),(0,i.j4)(i.HY,{key:0},(0,i.Ko)(t.fg,((e,r,s)=>((0,i.wg)(),(0,i.j4)("li",{class:t.classList.group,key:s},[(0,i.Wm)("div",{class:t.classList.groupLabel(e),"data-pointed":t.isPointed(e),onMouseenter:n=>t.setPointer(e),onClick:n=>t.handleGroupClick(e)},[(0,i.WI)(t.$slots,"grouplabel",{group:e},(()=>[(0,i.Wm)("span",null,(0,o.zw)(e[n.groupLabel]),1)]))],42,["data-pointed","onMouseenter","onClick"]),(0,i.Wm)("ul",{class:t.classList.groupOptions},[((0,i.wg)(!0),(0,i.j4)(i.HY,null,(0,i.Ko)(e.__VISIBLE__,((r,s,a)=>((0,i.wg)(),(0,i.j4)("li",{class:t.classList.option(r,e),key:a,"data-pointed":t.isPointed(r),onMouseenter:e=>t.setPointer(r),onClick:e=>t.handleOptionClick(r)},[(0,i.WI)(t.$slots,"option",{option:r,search:t.search},(()=>[(0,i.Wm)("span",null,(0,o.zw)(r[n.label]),1)]))],42,["data-pointed","onMouseenter","onClick"])))),128))],2)],2)))),128)):((0,i.wg)(!0),(0,i.j4)(i.HY,{key:1},(0,i.Ko)(t.fo,((e,r,s)=>((0,i.wg)(),(0,i.j4)("li",{class:t.classList.option(e),key:s,"data-pointed":t.isPointed(e),onMouseenter:n=>t.setPointer(e),onClick:n=>t.handleOptionClick(e)},[(0,i.WI)(t.$slots,"option",{option:e,search:t.search},(()=>[(0,i.Wm)("span",null,(0,o.zw)(e[n.label]),1)]))],42,["data-pointed","onMouseenter","onClick"])))),128))],2),t.noOptions?(0,i.WI)(t.$slots,"nooptions",{key:0},(()=>[(0,i.Wm)("div",{class:t.classList.noOptions,innerHTML:n.noOptionsText},null,10,["innerHTML"])])):(0,i.kq)("v-if",!0),t.noResults?(0,i.WI)(t.$slots,"noresults",{key:1},(()=>[(0,i.Wm)("div",{class:t.classList.noResults,innerHTML:n.noResultsText},null,10,["innerHTML"])])):(0,i.kq)("v-if",!0),(0,i.WI)(t.$slots,"afterlist",{options:t.fo})],2),(0,i.kq)(" Hacky input element to show HTML5 required warning "),n.required?((0,i.wg)(),(0,i.j4)("input",{key:8,class:t.classList.fakeInput,tabindex:"-1",value:t.textValue,required:""},null,10,["value"])):(0,i.kq)("v-if",!0),(0,i.kq)(" Native input support "),n.nativeSupport?((0,i.wg)(),(0,i.j4)(i.HY,{key:9},["single"==n.mode?((0,i.wg)(),(0,i.j4)("input",{key:0,type:"hidden",name:n.name,value:void 0!==t.plainValue?t.plainValue:""},null,8,["name","value"])):((0,i.wg)(!0),(0,i.j4)(i.HY,{key:1},(0,i.Ko)(t.plainValue,((t,e)=>((0,i.wg)(),(0,i.j4)("input",{type:"hidden",name:`${n.name}[]`,value:t,key:e},null,8,["name","value"])))),128))],64)):(0,i.kq)("v-if",!0),(0,i.kq)(" Create height for empty input "),(0,i.Wm)("div",{class:t.classList.spacer},null,2)],42,["tabindex","id"])},__file:"src/Multiselect.vue"};e["Z"]=_},6265:function(t,e,n){t.exports=n(9435)},4951:function(t,e,n){"use strict";n(2801);var r=n(6642),i=n(6806),s=n(3833),o=n(4360),a=n(5047),c=n(5976),u=n(9896),l=n(8507),h=n(3303),d=n(6090),f=n(1874);t.exports=function(t){return new Promise((function(e,n){var p,g=t.data,m=t.headers,y=t.responseType;function v(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}r.isFormData(g)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var b=new XMLHttpRequest;if(t.auth){var w=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+_)}var x=a(t.baseURL,t.url);function I(){if(b){var r="getAllResponseHeaders"in b?c(b.getAllResponseHeaders()):null,s=y&&"text"!==y&&"json"!==y?b.response:b.responseText,o={data:s,status:b.status,statusText:b.statusText,headers:r,config:t,request:b};i((function(t){e(t),v()}),(function(t){n(t),v()}),o),b=null}}if(b.open(t.method.toUpperCase(),o(x,t.params,t.paramsSerializer),!0),b.timeout=t.timeout,"onloadend"in b?b.onloadend=I:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(I)},b.onabort=function(){b&&(n(new h("Request aborted",h.ECONNABORTED,t,b)),b=null)},b.onerror=function(){n(new h("Network Error",h.ERR_NETWORK,t,b,b)),b=null},b.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||l;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new h(e,r.clarifyTimeoutError?h.ETIMEDOUT:h.ECONNABORTED,t,b)),b=null},r.isStandardBrowserEnv()){var E=(t.withCredentials||u(x))&&t.xsrfCookieName?s.read(t.xsrfCookieName):void 0;E&&(m[t.xsrfHeaderName]=E)}"setRequestHeader"in b&&r.forEach(m,(function(t,e){"undefined"===typeof g&&"content-type"===e.toLowerCase()?delete m[e]:b.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(b.withCredentials=!!t.withCredentials),y&&"json"!==y&&(b.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&b.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(t){b&&(n(!t||t&&t.type?new d:t),b.abort(),b=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),g||(g=null);var T=f(x);T&&-1===["http","https","file"].indexOf(T)?n(new h("Unsupported protocol "+T+":",h.ERR_BAD_REQUEST,t)):b.send(g)}))}},9435:function(t,e,n){"use strict";var r=n(6642),i=n(5955),s=n(7104),o=n(8186),a=n(7);function c(t){var e=new s(t),n=i(s.prototype.request,e);return r.extend(n,s.prototype,e),r.extend(n,e),n.create=function(e){return c(o(t,e))},n}var u=c(a);u.Axios=s,u.CanceledError=n(6090),u.CancelToken=n(6016),u.isCancel=n(5936),u.VERSION=n(4679).version,u.toFormData=n(8994),u.AxiosError=n(3303),u.Cancel=u.CanceledError,u.all=function(t){return Promise.all(t)},u.spread=n(5431),u.isAxiosError=n(786),t.exports=u,t.exports["default"]=u},6016:function(t,e,n){"use strict";n(1703);var r=n(6090);function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t,e=new i((function(e){t=e}));return{token:e,cancel:t}},t.exports=i},6090:function(t,e,n){"use strict";var r=n(3303),i=n(6642);function s(t){r.call(this,null==t?"canceled":t,r.ERR_CANCELED),this.name="CanceledError"}i.inherits(s,r,{__CANCEL__:!0}),t.exports=s},5936:function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},7104:function(t,e,n){"use strict";var r=n(6642),i=n(4360),s=n(999),o=n(6559),a=n(8186),c=n(5047),u=n(6298),l=u.validators;function h(t){this.defaults=t,this.interceptors={request:new s,response:new s}}h.prototype.request=function(t,e){"string"===typeof t?(e=e||{},e.url=t):e=t||{},e=a(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var s,c=[];if(this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)})),!i){var h=[o,void 0];Array.prototype.unshift.apply(h,r),h=h.concat(c),s=Promise.resolve(e);while(h.length)s=s.then(h.shift(),h.shift());return s}var d=e;while(r.length){var f=r.shift(),p=r.shift();try{d=f(d)}catch(g){p(g);break}}try{s=o(d)}catch(g){return Promise.reject(g)}while(c.length)s=s.then(c.shift(),c.shift());return s},h.prototype.getUri=function(t){t=a(this.defaults,t);var e=c(t.baseURL,t.url);return i(e,t.params,t.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(t){h.prototype[t]=function(e,n){return this.request(a(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(a(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}h.prototype[t]=e(),h.prototype[t+"Form"]=e(!0)})),t.exports=h},3303:function(t,e,n){"use strict";n(1703);var r=n(6642);function i(t,e,n,r,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var s=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){o[t]={value:t}})),Object.defineProperties(i,o),Object.defineProperty(s,"isAxiosError",{value:!0}),i.from=function(t,e,n,o,a,c){var u=Object.create(s);return r.toFlatObject(t,u,(function(t){return t!==Error.prototype})),i.call(u,t.message,e,n,o,a),u.name=t.name,c&&Object.assign(u,c),u},t.exports=i},999:function(t,e,n){"use strict";var r=n(6642);function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},5047:function(t,e,n){"use strict";var r=n(4777),i=n(2381);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},6559:function(t,e,n){"use strict";var r=n(6642),i=n(3756),s=n(5936),o=n(7),a=n(6090);function c(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new a}t.exports=function(t){c(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||o.adapter;return e(t).then((function(e){return c(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return s(e)||(c(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},8186:function(t,e,n){"use strict";var r=n(6642);t.exports=function(t,e){e=e||{};var n={};function i(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function s(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(t[n],e[n])}function o(t){if(!r.isUndefined(e[t]))return i(void 0,e[t])}function a(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(void 0,e[n])}function c(n){return n in e?i(t[n],e[n]):n in t?i(void 0,t[n]):void 0}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=u[t]||s,i=e(t);r.isUndefined(i)&&e!==c||(n[t]=i)})),n}},6806:function(t,e,n){"use strict";var r=n(3303);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}},3756:function(t,e,n){"use strict";var r=n(6642),i=n(7);t.exports=function(t,e,n){var s=this||i;return r.forEach(n,(function(n){t=n.call(s,t,e)})),t}},7:function(t,e,n){"use strict";var r=n(6642),i=n(1446),s=n(3303),o=n(8507),a=n(8994),c={"Content-Type":"application/x-www-form-urlencoded"};function u(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function l(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(t=n(4951)),t}function h(t,e,n){if(r.isString(t))try{return(e||JSON.parse)(t),r.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(t)}var d={transitional:o,adapter:l(),transformRequest:[function(t,e){if(i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t))return t;if(r.isArrayBufferView(t))return t.buffer;if(r.isURLSearchParams(t))return u(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var n,s=r.isObject(t),o=e&&e["Content-Type"];if((n=r.isFileList(t))||s&&"multipart/form-data"===o){var c=this.env&&this.env.FormData;return a(n?{"files[]":t}:t,c&&new c)}return s||"application/json"===o?(u(e,"application/json"),h(t)):t}],transformResponse:[function(t){var e=this.transitional||d.transitional,n=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o){if("SyntaxError"===a.name)throw s.from(a,s.ERR_BAD_RESPONSE,this,null,this.response);throw a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(1051)},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){d.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){d.headers[t]=r.merge(c)})),t.exports=d},8507:function(t){"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},4679:function(t){t.exports={version:"0.27.2"}},5955:function(t){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},4360:function(t,e,n){"use strict";var r=n(6642);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var s;if(n)s=n(e);else if(r.isURLSearchParams(e))s=e.toString();else{var o=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(i(e)+"="+i(t))})))})),s=o.join("&")}if(s){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},2381:function(t){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},3833:function(t,e,n){"use strict";var r=n(6642);t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,n,i,s,o){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},4777:function(t){"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},786:function(t,e,n){"use strict";var r=n(6642);t.exports=function(t){return r.isObject(t)&&!0===t.isAxiosError}},9896:function(t,e,n){"use strict";var r=n(6642);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},1446:function(t,e,n){"use strict";var r=n(6642);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},1051:function(t){t.exports=null},5976:function(t,e,n){"use strict";var r=n(6642),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,s,o={};return t?(r.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=r.trim(t.substr(0,s)).toLowerCase(),n=r.trim(t.substr(s+1)),e){if(o[e]&&i.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}})),o):o}},1874:function(t){"use strict";t.exports=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}},5431:function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},8994:function(t,e,n){"use strict";n(1703);var r=n(6642);function i(t,e){e=e||new FormData;var n=[];function i(t){return null===t?"":r.isDate(t)?t.toISOString():r.isArrayBuffer(t)||r.isTypedArray(t)?"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function s(t,o){if(r.isPlainObject(t)||r.isArray(t)){if(-1!==n.indexOf(t))throw Error("Circular reference detected in "+o);n.push(t),r.forEach(t,(function(t,n){if(!r.isUndefined(t)){var a,c=o?o+"."+n:n;if(t&&!o&&"object"===typeof t)if(r.endsWith(n,"{}"))t=JSON.stringify(t);else if(r.endsWith(n,"[]")&&(a=r.toArray(t)))return void a.forEach((function(t){!r.isUndefined(t)&&e.append(c,i(t))}));s(t,c)}})),n.pop()}else e.append(o,i(t))}return s(t),e}t.exports=i},6298:function(t,e,n){"use strict";var r=n(4679).version,i=n(3303),s={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){s[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var o={};function a(t,e,n){if("object"!==typeof t)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);var r=Object.keys(t),s=r.length;while(s-- >0){var o=r[s],a=e[o];if(a){var c=t[o],u=void 0===c||a(c,o,t);if(!0!==u)throw new i("option "+o+" must be "+u,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}}s.transitional=function(t,e,n){function s(t,e){return"[Axios v"+r+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,a){if(!1===t)throw new i(s(r," has been removed"+(e?" in "+e:"")),i.ERR_DEPRECATED);return e&&!o[r]&&(o[r]=!0,console.warn(s(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,a)}},t.exports={assertOptions:a,validators:s}},6642:function(t,e,n){"use strict";n(8675),n(3462);var r=n(5955),i=Object.prototype.toString,s=function(t){return function(e){var n=i.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function o(t){return t=t.toLowerCase(),function(e){return s(e)===t}}function a(t){return Array.isArray(t)}function c(t){return"undefined"===typeof t}function u(t){return null!==t&&!c(t)&&null!==t.constructor&&!c(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var l=o("ArrayBuffer");function h(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&l(t.buffer),e}function d(t){return"string"===typeof t}function f(t){return"number"===typeof t}function p(t){return null!==t&&"object"===typeof t}function g(t){if("object"!==s(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var m=o("Date"),y=o("File"),v=o("Blob"),b=o("FileList");function w(t){return"[object Function]"===i.call(t)}function _(t){return p(t)&&w(t.pipe)}function x(t){var e="[object FormData]";return t&&("function"===typeof FormData&&t instanceof FormData||i.call(t)===e||w(t.toString)&&t.toString()===e)}var I=o("URLSearchParams");function E(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function T(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function S(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function k(){var t={};function e(e,n){g(t[n])&&g(e)?t[n]=k(t[n],e):g(e)?t[n]=k({},e):a(e)?t[n]=e.slice():t[n]=e}for(var n=0,r=arguments.length;n<r;n++)S(arguments[n],e);return t}function C(t,e,n){return S(e,(function(e,i){t[i]=n&&"function"===typeof e?r(e,n):e})),t}function A(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}function O(t,e,n,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)}function D(t,e,n){var r,i,s,o={};e=e||{};do{r=Object.getOwnPropertyNames(t),i=r.length;while(i-- >0)s=r[i],o[s]||(e[s]=t[s],o[s]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e}function R(t,e,n){t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;var r=t.indexOf(e,n);return-1!==r&&r===n}function P(t){if(!t)return null;var e=t.length;if(c(e))return null;var n=new Array(e);while(e-- >0)n[e]=t[e];return n}var N=function(t){return function(e){return t&&e instanceof t}}("undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array));t.exports={isArray:a,isArrayBuffer:l,isBuffer:u,isFormData:x,isArrayBufferView:h,isString:d,isNumber:f,isObject:p,isPlainObject:g,isUndefined:c,isDate:m,isFile:y,isBlob:v,isFunction:w,isStream:_,isURLSearchParams:I,isStandardBrowserEnv:T,forEach:S,merge:k,extend:C,trim:E,stripBOM:A,inherits:O,toFlatObject:D,kindOf:s,kindOfTest:o,endsWith:R,toArray:P,isTypedArray:N,isFileList:b}},1271:function(t,e,n){"use strict";n(8675),n(3462),n(1703),e.byteLength=l,e.toByteArray=d,e.fromByteArray=g;for(var r=[],i=[],s="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=o.length;a<c;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function l(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function h(t,e,n){return 3*(e+n)/4-n}function d(t){var e,n,r=u(t),o=r[0],a=r[1],c=new s(h(t,o,a)),l=0,d=a>0?o-4:o;for(n=0;n<d;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[l++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function p(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),i.push(f(r));return i.join("")}function g(t){for(var e,n=t.length,i=n%3,s=[],o=16383,a=0,c=n-i;a<c;a+=o)s.push(p(t,a,a+o>c?c:a+o));return 1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},5361:function(t,e,n){"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
n(8675),n(3462),n(1703),n(6699);const r=n(1271),i=n(7055),s="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;e.lW=u,e.h2=50;const o=2147483647;function a(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}function c(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,n){if("number"===typeof t){if("string"===typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return l(t,e,n)}function l(t,e,n){if("string"===typeof t)return p(t,e);if(ArrayBuffer.isView(t))return m(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ot(t,ArrayBuffer)||t&&ot(t.buffer,ArrayBuffer))return y(t,e,n);if("undefined"!==typeof SharedArrayBuffer&&(ot(t,SharedArrayBuffer)||t&&ot(t.buffer,SharedArrayBuffer)))return y(t,e,n);if("number"===typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return u.from(r,e,n);const i=v(t);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function d(t,e,n){return h(t),t<=0?c(t):void 0!==e?"string"===typeof n?c(t).fill(e,n):c(t).fill(e):c(t)}function f(t){return h(t),c(t<0?0:0|b(t))}function p(t,e){if("string"===typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|_(t,e);let r=c(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}function g(t){const e=t.length<0?0:0|b(t.length),n=c(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function m(t){if(ot(t,Uint8Array)){const e=new Uint8Array(t);return y(e.buffer,e.byteOffset,e.byteLength)}return g(t)}function y(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,u.prototype),r}function v(t){if(u.isBuffer(t)){const e=0|b(t.length),n=c(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!==typeof t.length||at(t.length)?c(0):g(t):"Buffer"===t.type&&Array.isArray(t.data)?g(t.data):void 0}function b(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function w(t){return+t!=t&&(t=0),u.alloc(+t)}function _(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ot(t,ArrayBuffer))return t.byteLength;if("string"!==typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return et(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return it(t).length;default:if(i)return r?-1:et(t).length;e=(""+e).toLowerCase(),i=!0}}function x(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return F(this,e,n);case"utf8":case"utf-8":return R(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return L(this,e,n);case"base64":return D(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function I(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function E(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,at(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:T(t,e,n,r,i);if("number"===typeof e)return e&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):T(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function T(t,e,n,r,i){let s,o=1,a=t.length,c=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,n/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let r=-1;for(s=n;s<a;s++)if(u(t,s)===u(e,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===c)return r*o}else-1!==r&&(s-=s-r),r=-1}else for(n+c>a&&(n=a-c),s=n;s>=0;s--){let n=!0;for(let r=0;r<c;r++)if(u(t,s+r)!==u(e,r)){n=!1;break}if(n)return s}return-1}function S(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;const s=e.length;let o;for(r>s/2&&(r=s/2),o=0;o<r;++o){const r=parseInt(e.substr(2*o,2),16);if(at(r))return o;t[n+o]=r}return o}function k(t,e,n,r){return st(et(e,t.length-n),t,n,r)}function C(t,e,n,r){return st(nt(e),t,n,r)}function A(t,e,n,r){return st(it(e),t,n,r)}function O(t,e,n,r){return st(rt(e,t.length-n),t,n,r)}function D(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function R(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;while(i<n){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=n){let n,r,a,c;switch(o){case 1:e<128&&(s=e);break;case 2:n=t[i+1],128===(192&n)&&(c=(31&e)<<6|63&n,c>127&&(s=c));break;case 3:n=t[i+1],r=t[i+2],128===(192&n)&&128===(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=o}return N(r)}u.TYPED_ARRAY_SUPPORT=a(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,n){return l(t,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,n){return d(t,e,n)},u.allocUnsafe=function(t){return f(t)},u.allocUnsafeSlow=function(t){return f(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(ot(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),ot(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=u.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(ot(e,Uint8Array))i+e.length>r.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},u.byteLength=_,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)I(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)I(this,e,e+3),I(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)I(this,e,e+7),I(this,e+1,e+6),I(this,e+2,e+5),I(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?R(this,0,t):x.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const n=e.h2;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(t,e,n,r,i){if(ot(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;let s=i-r,o=n-e;const a=Math.min(s,o),c=this.slice(r,i),l=t.slice(e,n);for(let u=0;u<a;++u)if(c[u]!==l[u]){s=c[u],o=l[u];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return E(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return E(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return S(this,t,e,n);case"utf8":case"utf-8":return k(this,t,e,n);case"ascii":case"latin1":case"binary":return C(this,t,e,n);case"base64":return A(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function N(t){const e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);let n="",r=0;while(r<e)n+=String.fromCharCode.apply(String,t.slice(r,r+=P));return n}function M(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function L(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function F(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let s=e;s<n;++s)i+=ct[t[s]];return i}function j(t,e,n){const r=t.slice(e,n);let i="";for(let s=0;s<r.length-1;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function B(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function V(t,e,n,r,i,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function U(t,e,n,r,i){Q(e,r,i,t,n,7);let s=Number(e&BigInt(4294967295));t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,n}function $(t,e,n,r,i){Q(e,r,i,t,n,7);let s=Number(e&BigInt(4294967295));t[n+7]=s,s>>=8,t[n+6]=s,s>>=8,t[n+5]=s,s>>=8,t[n+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=o,o>>=8,t[n+2]=o,o>>=8,t[n+1]=o,o>>=8,t[n]=o,n+8}function z(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function q(t,e,n,r,s){return e=+e,n>>>=0,s||z(t,e,n,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,n,r,23,4),n+4}function H(t,e,n,r,s){return e=+e,n>>>=0,s||z(t,e,n,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){const n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=this[t],i=1,s=0;while(++s<e&&(i*=256))r+=this[t+s]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=this[t+--e],i=1;while(e>0&&(i*=256))r+=this[t+--e]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=ut((function(t){t>>>=0,J(t,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||X(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=ut((function(t){t>>>=0,J(t,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||X(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=this[t],i=1,s=0;while(++s<e&&(i*=256))r+=this[t+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||B(t,e,this.length);let r=e,i=1,s=this[t+--r];while(r>0&&(i*=256))s+=this[t+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||B(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){t>>>=0,e||B(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=ut((function(t){t>>>=0,J(t,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||X(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=ut((function(t){t>>>=0,J(t,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||X(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||B(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||B(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||B(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||B(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){const r=Math.pow(2,8*n)-1;V(this,t,e,n,r,0)}let i=1,s=0;this[e]=255&t;while(++s<n&&(i*=256))this[e+s]=t/i&255;return e+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){const r=Math.pow(2,8*n)-1;V(this,t,e,n,r,0)}let i=n-1,s=1;this[e+i]=255&t;while(--i>=0&&(s*=256))this[e+i]=t/s&255;return e+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||V(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||V(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||V(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||V(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||V(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=ut((function(t,e=0){return U(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=ut((function(t,e=0){return $(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);V(this,t,e,n,r-1,-r)}let i=0,s=1,o=0;this[e]=255&t;while(++i<n&&(s*=256))t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);V(this,t,e,n,r-1,-r)}let i=n-1,s=1,o=0;this[e+i]=255&t;while(--i>=0&&(s*=256))t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||V(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||V(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||V(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||V(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||V(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=ut((function(t,e=0){return U(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=ut((function(t,e=0){return $(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,n){return q(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return q(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return H(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return H(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"===typeof t?t&=255:"boolean"===typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(i=e;i<n;++i)this[i]=t;else{const s=u.isBuffer(t)?t:u.from(t,r),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=s[i%o]}return this};const W={};function G(t,e,n){W[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function K(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function Y(t,e,n){J(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||X(e,t.length-(n+1))}function Q(t,e,n,r,i,s){if(t>n||t<e){const r="bigint"===typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(s+1)}${r}`:`>= -(2${r} ** ${8*(s+1)-1}${r}) and < 2 ** ${8*(s+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new W.ERR_OUT_OF_RANGE("value",i,t)}Y(r,i,s)}function J(t,e){if("number"!==typeof t)throw new W.ERR_INVALID_ARG_TYPE(e,"number",t)}function X(t,e,n){if(Math.floor(t)!==t)throw J(t,n),new W.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}G("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),G("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),G("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=K(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=K(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const Z=/[^+/0-9A-Za-z-_]/g;function tt(t){if(t=t.split("=")[0],t=t.trim().replace(Z,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function et(t,e){let n;e=e||1/0;const r=t.length;let i=null;const s=[];for(let o=0;o<r;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function nt(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function rt(t,e){let n,r,i;const s=[];for(let o=0;o<t.length;++o){if((e-=2)<0)break;n=t.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r)}return s}function it(t){return r.toByteArray(tt(t))}function st(t,e,n,r){let i;for(i=0;i<r;++i){if(i+n>=e.length||i>=t.length)break;e[i+n]=t[i]}return i}function ot(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function at(t){return t!==t}const ct=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function ut(t){return"undefined"===typeof BigInt?lt:t}function lt(){throw new Error("BigInt not supported")}},474:function(t,e,n){"use strict";n(6699);var r=n(9684),i=n(5168),s=n(223),o=n(7142),a=(n(2801),n(8675),n(3462),n(3831));const c="@firebase/installations",u="0.5.12",l=1e4,h=`w:${u}`,d="FIS_v2",f="https://firebaseinstallations.googleapis.com/v1",p=36e5,g="installations",m="Installations",y={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},v=new s.LL(g,m,y);function b(t){return t instanceof s.ZR&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w({projectId:t}){return`${f}/projects/${t}/installations`}function _(t){return{token:t.token,requestStatus:2,expiresIn:S(t.expiresIn),creationTime:Date.now()}}async function x(t,e){const n=await e.json(),r=n.error;return v.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function I({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function E(t,{refreshToken:e}){const n=I(t);return n.append("Authorization",k(e)),n}async function T(t){const e=await t();return e.status>=500&&e.status<600?t():e}function S(t){return Number(t.replace("s","000"))}function k(t){return`${d} ${t}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=w(t),i=I(t),s=e.getImmediate({optional:!0});if(s){const t=await s.getHeartbeatsHeader();t&&i.append("x-firebase-client",t)}const o={fid:n,authVersion:d,appId:t.appId,sdkVersion:h},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await T((()=>fetch(r,a)));if(c.ok){const t=await c.json(),e={fid:t.fid||n,registrationStatus:2,refreshToken:t.refreshToken,authToken:_(t.authToken)};return e}throw await x("Create Installation",c)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(t){return new Promise((e=>{setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(t){const e=btoa(String.fromCharCode(...t));return e.replace(/\+/g,"-").replace(/\//g,"_")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=/^[cdef][\w-]{21}$/,R="";function P(){try{const t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;const n=N(t);return D.test(n)?n:R}catch(t){return R}}function N(t){const e=O(t);return e.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(t){return`${t.appName}!${t.appId}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L=new Map;function F(t,e){const n=M(t);j(n,e),B(n,e)}function j(t,e){const n=L.get(t);if(n)for(const r of n)r(e)}function B(t,e){const n=U();n&&n.postMessage({key:t,fid:e}),$()}let V=null;function U(){return!V&&"BroadcastChannel"in self&&(V=new BroadcastChannel("[Firebase] FID Change"),V.onmessage=t=>{j(t.data.key,t.data.fid)}),V}function $(){0===L.size&&V&&(V.close(),V=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z="firebase-installations-database",q=1,H="firebase-installations-store";let W=null;function G(){return W||(W=(0,a.X3)(z,q,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(H)}}})),W}async function K(t,e){const n=M(t),r=await G(),i=r.transaction(H,"readwrite"),s=i.objectStore(H),o=await s.get(n);return await s.put(e,n),await i.done,o&&o.fid===e.fid||F(t,e.fid),e}async function Y(t){const e=M(t),n=await G(),r=n.transaction(H,"readwrite");await r.objectStore(H).delete(e),await r.done}async function Q(t,e){const n=M(t),r=await G(),i=r.transaction(H,"readwrite"),s=i.objectStore(H),o=await s.get(n),a=e(o);return void 0===a?await s.delete(n):await s.put(a,n),await i.done,!a||o&&o.fid===a.fid||F(t,a.fid),a}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J(t){let e;const n=await Q(t.appConfig,(n=>{const r=X(n),i=Z(t,r);return e=i.registrationPromise,i.installationEntry}));return n.fid===R?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function X(t){const e=t||{fid:P(),registrationStatus:0};return rt(e)}function Z(t,e){if(0===e.registrationStatus){if(!navigator.onLine){const t=Promise.reject(v.create("app-offline"));return{installationEntry:e,registrationPromise:t}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=tt(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:et(t)}:{installationEntry:e}}async function tt(t,e){try{const n=await C(t,e);return K(t.appConfig,n)}catch(n){throw b(n)&&409===n.customData.serverCode?await Y(t.appConfig):await K(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function et(t){let e=await nt(t.appConfig);while(1===e.registrationStatus)await A(100),e=await nt(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await J(t);return n||e}return e}function nt(t){return Q(t,(t=>{if(!t)throw v.create("installation-not-found");return rt(t)}))}function rt(t){return it(t)?{fid:t.fid,registrationStatus:0}:t}function it(t){return 1===t.registrationStatus&&t.registrationTime+l<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function st({appConfig:t,heartbeatServiceProvider:e},n){const r=ot(t,n),i=E(t,n),s=e.getImmediate({optional:!0});if(s){const t=await s.getHeartbeatsHeader();t&&i.append("x-firebase-client",t)}const o={installation:{sdkVersion:h,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await T((()=>fetch(r,a)));if(c.ok){const t=await c.json(),e=_(t);return e}throw await x("Generate Auth Token",c)}function ot(t,{fid:e}){return`${w(t)}/${e}/authTokens:generate`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function at(t,e=!1){let n;const r=await Q(t.appConfig,(r=>{if(!ht(r))throw v.create("not-registered");const i=r.authToken;if(!e&&dt(i))return r;if(1===i.requestStatus)return n=ct(t,e),r;{if(!navigator.onLine)throw v.create("app-offline");const e=pt(r);return n=lt(t,e),e}})),i=n?await n:r.authToken;return i}async function ct(t,e){let n=await ut(t.appConfig);while(1===n.authToken.requestStatus)await A(100),n=await ut(t.appConfig);const r=n.authToken;return 0===r.requestStatus?at(t,e):r}function ut(t){return Q(t,(t=>{if(!ht(t))throw v.create("not-registered");const e=t.authToken;return gt(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t}))}async function lt(t,e){try{const n=await st(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await K(t.appConfig,r),n}catch(n){if(!b(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await K(t.appConfig,n)}else await Y(t.appConfig);throw n}}function ht(t){return void 0!==t&&2===t.registrationStatus}function dt(t){return 2===t.requestStatus&&!ft(t)}function ft(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+p}function pt(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function gt(t){return 1===t.requestStatus&&t.requestTime+l<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mt(t){const e=t,{installationEntry:n,registrationPromise:r}=await J(e);return r?r.catch(console.error):at(e).catch(console.error),n.fid}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yt(t,e=!1){const n=t;await vt(n);const r=await at(n,e);return r.token}async function vt(t){const{registrationPromise:e}=await J(t);e&&await e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function bt(t){if(!t||!t.options)throw wt("App Configuration");if(!t.name)throw wt("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw wt(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function wt(t){return v.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="installations",xt="installations-internal",It=t=>{const e=t.getProvider("app").getImmediate(),n=bt(e),i=(0,r._getProvider)(e,"heartbeat"),s={app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()};return s},Et=t=>{const e=t.getProvider("app").getImmediate(),n=(0,r._getProvider)(e,_t).getImmediate(),i={getId:()=>mt(n),getToken:t=>yt(n,t)};return i};function Tt(){(0,r._registerComponent)(new o.wA(_t,It,"PUBLIC")),(0,r._registerComponent)(new o.wA(xt,Et,"PRIVATE"))}Tt(),(0,r.registerVersion)(c,u),(0,r.registerVersion)(c,u,"esm2017");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const St="analytics",kt="firebase_id",Ct="origin",At=6e4,Ot="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dt="https://www.googletagmanager.com/gtag/js",Rt=new i.Yd("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Pt(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}function Nt(t,e){const n=document.createElement("script");n.src=`${Dt}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function Mt(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Lt(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const t=await Pt(n),r=t.find((t=>t.measurementId===i));r&&await e[r.appId]}}catch(a){Rt.error(a)}t("config",i,s)}async function Ft(t,e,n,r,i){try{let s=[];if(i&&i["send_to"]){let t=i["send_to"];Array.isArray(t)||(t=[t]);const r=await Pt(n);for(const n of t){const t=r.find((t=>t.measurementId===n)),i=t&&e[t.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Rt.error(s)}}function jt(t,e,n,r){async function i(i,s,o){try{"event"===i?await Ft(t,e,n,s,o):"config"===i?await Lt(t,e,n,r,s,o):"consent"===i?t("consent","update",o):t("set",s)}catch(a){Rt.error(a)}}return i}function Bt(t,e,n,r,i){let s=function(...t){window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=jt(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Vt(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Dt))return e;return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},$t=new s.LL("analytics","Analytics",Ut),zt=30,qt=1e3;class Ht{constructor(t={},e=qt){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Wt=new Ht;function Gt(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Kt(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Gt(r)},s=Ot.replace("{app-id}",n),o=await fetch(s,i);if(200!==o.status&&304!==o.status){let t="";try{const n=await o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw $t.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()}async function Yt(t,e=Wt,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw $t.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw $t.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Zt;return setTimeout((async()=>{a.abort()}),void 0!==n?n:At),Qt({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Qt(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Wt){var o,a;const{appId:c,measurementId:u}=t;try{await Jt(r,e)}catch(l){if(u)return Rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null===(o=l)||void 0===o?void 0:o.message}]`),{appId:c,measurementId:u};throw l}try{const e=await Kt(t);return i.deleteThrottleMetadata(c),e}catch(l){const e=l;if(!Xt(e)){if(i.deleteThrottleMetadata(c),u)return Rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null===e||void 0===e?void 0:e.message}]`),{appId:c,measurementId:u};throw l}const o=503===Number(null===(a=null===e||void 0===e?void 0:e.customData)||void 0===a?void 0:a.httpStatus)?(0,s.$s)(n,i.intervalMillis,zt):(0,s.$s)(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+o,backoffCount:n+1};return i.setThrottleMetadata(c,h),Rt.debug(`Calling attemptFetch again in ${o} millis`),Qt(t,h,r,i)}}function Jt(t,e){return new Promise(((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener((()=>{clearTimeout(s),r($t.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}function Xt(t){if(!(t instanceof s.ZR)||!t.customData)return!1;const e=Number(t.customData["httpStatus"]);return 429===e||500===e||503===e||504===e}class Zt{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let te,ee;async function ne(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const i=await e,s=Object.assign(Object.assign({},r),{send_to:i});t("event",n,s)}}function re(t){ee=t}function ie(t){te=t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function se(){var t;if(!(0,s.hl)())return Rt.warn($t.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,s.eu)()}catch(e){return Rt.warn($t.create("indexeddb-unavailable",{errorInfo:null===(t=e)||void 0===t?void 0:t.toString()}).message),!1}return!0}async function oe(t,e,n,r,i,s,o){var a;const c=Yt(t);c.then((e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Rt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((t=>Rt.error(t))),e.push(c);const u=se().then((t=>t?r.getId():void 0)),[l,h]=await Promise.all([c,u]);Vt()||Nt(s,l.measurementId),ee&&(i("consent","default",ee),re(void 0)),i("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d[Ct]="firebase",d.update=!0,null!=h&&(d[kt]=h),i("config",l.measurementId,d),te&&(i("set",te),ie(void 0)),l.measurementId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t){this.app=t}_delete(){return delete ce[this.app.options.appId],Promise.resolve()}}let ce={},ue=[];const le={};let he,de,fe="dataLayer",pe="gtag",ge=!1;function me(){const t=[];if((0,s.ru)()&&t.push("This is a browser extension environment."),(0,s.zI)()||t.push("Cookies are not available."),t.length>0){const e=t.map(((t,e)=>`(${e+1}) ${t}`)).join(" "),n=$t.create("invalid-analytics-context",{errorInfo:e});Rt.warn(n.message)}}function ye(t,e,n){me();const r=t.options.appId;if(!r)throw $t.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw $t.create("no-api-key");Rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ce[r])throw $t.create("already-exists",{id:r});if(!ge){Mt(fe);const{wrappedGtag:t,gtagCore:e}=Bt(ce,ue,le,fe,pe);de=t,he=e,ge=!0}ce[r]=oe(t,ue,le,e,he,fe,n);const i=new ae(t);return i}function ve(t,e,n,r){t=(0,s.m9)(t),ne(de,ce[t.app.options.appId],e,n,r).catch((t=>Rt.error(t)))}const be="@firebase/analytics",we="0.8.0";function _e(){function t(t){try{const e=t.getProvider(St).getImmediate();return{logEvent:(t,n,r)=>ve(e,t,n,r)}}catch(e){throw $t.create("interop-component-reg-failed",{reason:e})}}(0,r._registerComponent)(new o.wA(St,((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return ye(n,r,e)}),"PUBLIC")),(0,r._registerComponent)(new o.wA("analytics-internal",t,"PRIVATE")),(0,r.registerVersion)(be,we),(0,r.registerVersion)(be,we,"esm2017")}_e()},4275:function(t,e,n){"use strict";var r=n(9684),i="firebase",s="9.10.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(0,r.registerVersion)(i,s,"app")},6780:function(t,e,n){"use strict";n.d(e,{Z:function(){return r.Z}});var r=n(2661),i="firebase",s="9.10.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r.Z.registerVersion(i,s,"app-compat")},4954:function(t,e,n){"use strict";n(6699);var r=n(2661),i=(n(8675),n(3462),n(1703),n(223)),s=n(9684);function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;Object.create;var a=n(5168),c=n(7142);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const u={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},l={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function h(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",["timeout"]:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function d(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f=h,p=d,g=new i.LL("auth","Firebase",d()),m=new a.Yd("@firebase/auth");function y(t,...e){m.logLevel<=a["in"].ERROR&&m.error(`Auth (${s.SDK_VERSION}): ${t}`,...e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(t,...e){throw x(t,...e)}function b(t,...e){return x(t,...e)}function w(t,e,n){const r=Object.assign(Object.assign({},p()),{[e]:n}),s=new i.LL("auth","Firebase",r);return s.create(e,{appName:t.name})}function _(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&v(t,"argument-error"),w(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function x(t,...e){if("string"!==typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return g.create(t,...e)}function I(t,e,...n){if(!t)throw x(e,...n)}function E(t){const e="INTERNAL ASSERTION FAILED: "+t;throw y(e),new Error(e)}function T(t,e){t||E(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S=new Map;function k(t){T(t instanceof Function,"Expected a class definition");let e=S.get(t);return e?(T(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,S.set(t,e),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(k);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null===e||void 0===e?void 0:e.popupRedirectResolver)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function O(){return"http:"===D()||"https:"===D()}function D(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(O()||(0,i.ru)()||"connection"in navigator))||navigator.onLine}function P(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t,e){this.shortDelay=t,this.longDelay=e,T(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return R()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(t,e){T(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void E("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void E("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void E("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"internal-error",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error"},j=new N(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function V(t,e,n,r,s={}){return U(t,s,(async()=>{let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=(0,i.xO)(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),L.fetch()(z(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))}async function U(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},F),e);try{const e=new q(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw H(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const e=i.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw H(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw H(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw H(t,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw w(t,a,o);v(t,a)}}catch(s){if(s instanceof i.ZR)throw s;v(t,"network-request-failed")}}async function $(t,e,n,r,i={}){const s=await V(t,e,n,r,i);return"mfaPendingCredential"in s&&v(t,"multi-factor-auth-required",{_serverResponse:s}),s}function z(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?M(t.config,i):`${t.config.apiScheme}://${i}`}class q{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(b(this.auth,"network-request-failed"))),j.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function H(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=b(t,e,r);return i.customData._tokenResponse=n,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W(t,e){return V(t,"POST","/v1/accounts:delete",e)}async function G(t,e){return V(t,"POST","/v1/accounts:update",e)}async function K(t,e){return V(t,"POST","/v1/accounts:lookup",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q(t,e=!1){const n=(0,i.m9)(t),r=await n.getIdToken(e),s=X(r);I(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"===typeof s.firebase?s.firebase:void 0,a=null===o||void 0===o?void 0:o["sign_in_provider"];return{claims:s,token:r,authTime:Y(J(s.auth_time)),issuedAtTime:Y(J(s.iat)),expirationTime:Y(J(s.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o["sign_in_second_factor"])||null}}function J(t){return 1e3*Number(t)}function X(t){var e;const[n,r,s]=t.split(".");if(void 0===n||void 0===r||void 0===s)return y("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,i.tV)(r);return t?JSON.parse(t):(y("Failed to decode base64 JWT payload"),null)}catch(o){return y("Caught error parsing JWT payload as JSON",null===(e=o)||void 0===e?void 0:e.toString()),null}}function Z(t){const e=X(t);return I(e,"internal-error"),I("undefined"!==typeof e.exp,"internal-error"),I("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tt(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof i.ZR&&et(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function et({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0,n=t-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){var t;try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===(t=e)||void 0===t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Y(this.lastLoginAt),this.creationTime=Y(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function it(t){var e;const n=t.auth,r=await t.getIdToken(),i=await tt(t,K(n,{idToken:r}));I(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?at(s.providerUserInfo):[],a=ot(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),l=!!c&&u,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rt(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,h)}async function st(t){const e=(0,i.m9)(t);await it(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ot(t,e){const n=t.filter((t=>!e.some((e=>e.providerId===t.providerId))));return[...n,...e]}function at(t){return t.map((t=>{var{providerId:e}=t,n=o(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ct(t,e){const n=await U(t,{},(async()=>{const n=(0,i.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=z(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",L.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){I(t.idToken,"internal-error"),I("undefined"!==typeof t.idToken,"internal-error"),I("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):Z(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return I(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:r,expiresIn:i}=await ct(t,e);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,s=new ut;return n&&(I("string"===typeof n,"internal-error",{appName:t}),s.refreshToken=n),r&&(I("string"===typeof r,"internal-error",{appName:t}),s.accessToken=r),i&&(I("number"===typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ut,this.toJSON())}_performRefresh(){return E("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t,e){I("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class ht{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=o(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await tt(this,this.stsTokenManager.getToken(this.auth,t));return I(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Q(this,t)}reload(){return st(this)}_assign(t){this!==t&&(I(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new ht(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await it(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await tt(this,W(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,s,o,a,c,u;const l=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,g=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=e.createdAt)&&void 0!==c?c:void 0,y=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:x}=e;I(v&&x,t,"internal-error");const E=ut.fromJSON(this.name,x);I("string"===typeof v,t,"internal-error"),lt(l,t.name),lt(h,t.name),I("boolean"===typeof b,t,"internal-error"),I("boolean"===typeof w,t,"internal-error"),lt(d,t.name),lt(f,t.name),lt(p,t.name),lt(g,t.name),lt(m,t.name),lt(y,t.name);const T=new ht({uid:v,auth:t,email:h,emailVerified:b,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:y});return _&&Array.isArray(_)&&(T.providerData=_.map((t=>Object.assign({},t)))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(t,e,n=!1){const r=new ut;r.updateFromServerResponse(e);const i=new ht({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await it(i),i}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}dt.type="NONE";const ft=dt;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e,n){return`firebase:${t}:${e}:${n}`}class gt{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=pt(this.userKey,r.apiKey,i),this.fullPersistenceKey=pt("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ht._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new gt(k(ft),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||k(ft);const s=pt(n,t.config.apiKey,t.name);let o=null;for(const u of e)try{const e=await u._get(s);if(e){const n=ht._fromJSON(t,e);u!==i&&(o=n),i=u;break}}catch(c){}const a=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(s)}catch(c){}}))),new gt(i,t,n)):new gt(i,t,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wt(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yt(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xt(e))return"Blackberry";if(It(e))return"Webos";if(vt(e))return"Safari";if((e.includes("chrome/")||bt(e))&&!e.includes("edge/"))return"Chrome";if(_t(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function yt(t=(0,i.z$)()){return/firefox\//i.test(t)}function vt(t=(0,i.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bt(t=(0,i.z$)()){return/crios\//i.test(t)}function wt(t=(0,i.z$)()){return/iemobile/i.test(t)}function _t(t=(0,i.z$)()){return/android/i.test(t)}function xt(t=(0,i.z$)()){return/blackberry/i.test(t)}function It(t=(0,i.z$)()){return/webos/i.test(t)}function Et(t=(0,i.z$)()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Tt(t=(0,i.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function St(t=(0,i.z$)()){var e;return Et(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function kt(){return(0,i.w1)()&&10===document.documentMode}function Ct(t=(0,i.z$)()){return Et(t)||_t(t)||It(t)||xt(t)||/windows phone/i.test(t)||wt(t)}function At(){try{return!(!window||window===window.top)}catch(t){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t,e=[]){let n;switch(t){case"Browser":n=mt((0,i.z$)());break;case"Worker":n=`${mt((0,i.z$)())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${s.SDK_VERSION}/${r}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,r)=>{try{const r=t(e);n(r)}catch(i){r(i)}}));n.onAbort=e,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){var e;if(this.auth.currentUser===t)return;const n=[];try{for(const e of this.queue)await e(t),e.onAbort&&n.push(e.onAbort)}catch(r){n.reverse();for(const t of n)try{t()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(e=r)||void 0===e?void 0:e.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t,e,n){this.app=t,this.heartbeatServiceProvider=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nt(this),this.idTokenSubscription=new Nt(this),this.beforeStateQueue=new Dt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=k(e)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await gt.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return I(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){var e;try{await it(t)}catch(n){if("auth/network-request-failed"!==(null===(e=n)||void 0===e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=P()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?(0,i.m9)(t):null;return e&&I(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&I(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(k(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new i.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&k(t)||this._popupRedirectResolver;I(e,this,"argument-error"),this.redirectPersistenceManager=await gt.create(this,[k(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"===typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return I(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof e?t.addObserver(e,n,r):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ot(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());return n&&(e["X-Firebase-Client"]=n),e}}function Pt(t){return(0,i.m9)(t)}class Nt{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,i.ne)((t=>this.observer=t))}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Mt(t,e,n){const r=Pt(t);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Lt(e),{host:o,port:a}=Ft(e),c=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Bt()}function Lt(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ft(t){const e=Lt(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:jt(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:jt(e)}}}function jt(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Bt(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return E("not implemented")}_getIdTokenResponse(t){return E("not implemented")}_linkToIdToken(t,e){return E("not implemented")}_getReauthenticationResolver(t){return E("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ut(t,e){return V(t,"POST","/v1/accounts:resetPassword",B(t,e))}async function $t(t,e){return V(t,"POST","/v1/accounts:update",e)}async function zt(t,e){return V(t,"POST","/v1/accounts:update",B(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qt(t,e){return $(t,"POST","/v1/accounts:signInWithPassword",B(t,e))}async function Ht(t,e){return V(t,"POST","/v1/accounts:sendOobCode",B(t,e))}async function Wt(t,e){return Ht(t,e)}async function Gt(t,e){return Ht(t,e)}async function Kt(t,e){return Ht(t,e)}async function Yt(t,e){return Ht(t,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qt(t,e){return $(t,"POST","/v1/accounts:signInWithEmailLink",B(t,e))}async function Jt(t,e){return $(t,"POST","/v1/accounts:signInWithEmailLink",B(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt extends Vt{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Xt(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Xt(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return qt(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Qt(t,{email:this._email,oobCode:this._password});default:v(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return $t(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Jt(t,{idToken:e,email:this._email,oobCode:this._password});default:v(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zt(t,e){return $(t,"POST","/v1/accounts:signInWithIdp",B(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te="http://localhost";class ee extends Vt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ee(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):v("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=o(e,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ee(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){const e=this.buildRequest();return Zt(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Zt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Zt(t,e)}buildRequest(){const t={requestUri:te,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e["id_token"]=this.idToken),this.accessToken&&(e["access_token"]=this.accessToken),this.secret&&(e["oauth_token_secret"]=this.secret),e["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(e["nonce"]=this.nonce),t.postBody=(0,i.xO)(e)}return t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ne(t,e){return V(t,"POST","/v1/accounts:sendVerificationCode",B(t,e))}async function re(t,e){return $(t,"POST","/v1/accounts:signInWithPhoneNumber",B(t,e))}async function ie(t,e){const n=await $(t,"POST","/v1/accounts:signInWithPhoneNumber",B(t,e));if(n.temporaryProof)throw H(t,"account-exists-with-different-credential",n);return n}const se={["USER_NOT_FOUND"]:"user-not-found"};async function oe(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return $(t,"POST","/v1/accounts:signInWithPhoneNumber",B(t,n),se)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae extends Vt{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new ae({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new ae({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return re(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return ie(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return oe(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new ae({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ue(t){const e=(0,i.zd)((0,i.pd)(t))["link"],n=e?(0,i.zd)((0,i.pd)(e))["deep_link_id"]:null,r=(0,i.zd)((0,i.pd)(t))["deep_link_id"],s=r?(0,i.zd)((0,i.pd)(r))["link"]:null;return s||r||n||e||t}class le{constructor(t){var e,n,r,s,o,a;const c=(0,i.zd)((0,i.pd)(t)),u=null!==(e=c["apiKey"])&&void 0!==e?e:null,l=null!==(n=c["oobCode"])&&void 0!==n?n:null,h=ce(null!==(r=c["mode"])&&void 0!==r?r:null);I(u&&l&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=l,this.continueUrl=null!==(s=c["continueUrl"])&&void 0!==s?s:null,this.languageCode=null!==(o=c["languageCode"])&&void 0!==o?o:null,this.tenantId=null!==(a=c["tenantId"])&&void 0!==a?a:null}static parseLink(t){const e=ue(t);try{return new le(e)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class he{constructor(){this.providerId=he.PROVIDER_ID}static credential(t,e){return Xt._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=le.parseLink(e);return I(n,"argument-error"),Xt._fromEmailAndCode(t,n.code,n.tenantId)}}he.PROVIDER_ID="password",he.EMAIL_PASSWORD_SIGN_IN_METHOD="password",he.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class de{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe extends de{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class pe extends fe{static credentialFromJSON(t){const e="string"===typeof t?JSON.parse(t):t;return I("providerId"in e&&"signInMethod"in e,"argument-error"),ee._fromParams(e)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return I(t.idToken||t.accessToken,"argument-error"),ee._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return pe.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return pe.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=t;if(!n&&!r&&!e&&!i)return null;if(!o)return null;try{return new pe(o)._credential({idToken:e,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge extends fe{constructor(){super("facebook.com")}static credential(t){return ee._fromParams({providerId:ge.PROVIDER_ID,signInMethod:ge.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ge.credentialFromTaggedObject(t)}static credentialFromError(t){return ge.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ge.credential(t.oauthAccessToken)}catch(e){return null}}}ge.FACEBOOK_SIGN_IN_METHOD="facebook.com",ge.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class me extends fe{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ee._fromParams({providerId:me.PROVIDER_ID,signInMethod:me.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return me.credentialFromTaggedObject(t)}static credentialFromError(t){return me.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return me.credential(e,n)}catch(r){return null}}}me.GOOGLE_SIGN_IN_METHOD="google.com",me.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ye extends fe{constructor(){super("github.com")}static credential(t){return ee._fromParams({providerId:ye.PROVIDER_ID,signInMethod:ye.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ye.credentialFromTaggedObject(t)}static credentialFromError(t){return ye.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ye.credential(t.oauthAccessToken)}catch(e){return null}}}ye.GITHUB_SIGN_IN_METHOD="github.com",ye.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ve="http://localhost";class be extends Vt{constructor(t,e){super(t,t),this.pendingToken=e}_getIdTokenResponse(t){const e=this.buildRequest();return Zt(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Zt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Zt(t,e)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r,pendingToken:i}=e;return n&&r&&i&&n===r?new be(n,i):null}static _create(t,e){return new be(t,e)}buildRequest(){return{requestUri:ve,returnSecureToken:!0,pendingToken:this.pendingToken}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we="saml.";class _e extends de{constructor(t){I(t.startsWith(we),"argument-error"),super(t)}static credentialFromResult(t){return _e.samlCredentialFromTaggedObject(t)}static credentialFromError(t){return _e.samlCredentialFromTaggedObject(t.customData||{})}static credentialFromJSON(t){const e=be.fromJSON(t);return I(e,"argument-error"),e}static samlCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{pendingToken:e,providerId:n}=t;if(!e||!n)return null;try{return be._create(n,e)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe extends fe{constructor(){super("twitter.com")}static credential(t,e){return ee._fromParams({providerId:xe.PROVIDER_ID,signInMethod:xe.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return xe.credentialFromTaggedObject(t)}static credentialFromError(t){return xe.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return xe.credential(e,n)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Ie(t,e){return $(t,"POST","/v1/accounts:signUp",B(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xe.TWITTER_SIGN_IN_METHOD="twitter.com",xe.PROVIDER_ID="twitter.com";class Ee{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,r=!1){const i=await ht._fromIdTokenResponse(t,n,r),s=Te(n),o=new Ee({user:i,providerId:s,_tokenResponse:n,operationType:e});return o}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=Te(n);return new Ee({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function Te(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Se(t){var e;const n=Pt(t);if(await n._initializationPromise,null===(e=n.currentUser)||void 0===e?void 0:e.isAnonymous)return new Ee({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ie(n,{returnSecureToken:!0}),i=await Ee._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke extends i.ZR{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ke.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new ke(t,e,n,r)}}function Ce(t,e,n,r){const i="reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return i.catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw ke._fromErrorAndOperation(t,n,e,r);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t){return new Set(t.map((({providerId:t})=>t)).filter((t=>!!t)))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oe(t,e){const n=(0,i.m9)(t);await Re(!0,n,e);const{providerUserInfo:r}=await G(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=Ae(r||[]);return n.providerData=n.providerData.filter((t=>s.has(t.providerId))),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function De(t,e,n=!1){const r=await tt(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ee._forOperation(t,"link",r)}async function Re(t,e,n){await it(e);const r=Ae(e.providerData),i=!1===t?"provider-already-linked":"no-such-provider";I(r.has(n)===t,e.auth,i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pe(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const r=await tt(t,Ce(i,s,e,t),n);I(r.idToken,i,"internal-error");const o=X(r.idToken);I(o,i,"internal-error");const{sub:a}=o;return I(t.uid===a,i,"user-mismatch"),Ee._forOperation(t,s,r)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&v(i,"user-mismatch"),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ne(t,e,n=!1){const r="signIn",i=await Ce(t,r,e),s=await Ee._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Me(t,e){return Ne(Pt(t),e)}async function Le(t,e){const n=(0,i.m9)(t);return await Re(!1,n,e.providerId),De(n,e)}async function Fe(t,e){return Pe((0,i.m9)(t),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function je(t,e){return $(t,"POST","/v1/accounts:signInWithCustomToken",B(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Be(t,e){const n=Pt(t),r=await je(n,{token:e,returnSecureToken:!0}),i=await Ee._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t,e){this.factorId=t,this.uid=e.mfaEnrollmentId,this.enrollmentTime=new Date(e.enrolledAt).toUTCString(),this.displayName=e.displayName}static _fromServerResponse(t,e){return"phoneInfo"in e?Ue._fromServerResponse(t,e):v(t,"internal-error")}}class Ue extends Ve{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,e){return new Ue(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t,e,n){var r;I((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),I("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(I(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(I(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ze(t,e,n){const r=(0,i.m9)(t),s={requestType:"PASSWORD_RESET",email:e};n&&$e(r,s,n),await Gt(r,s)}async function qe(t,e,n){await Ut((0,i.m9)(t),{oobCode:e,newPassword:n})}async function He(t,e){await zt((0,i.m9)(t),{oobCode:e})}async function We(t,e){const n=(0,i.m9)(t),r=await Ut(n,{oobCode:e}),s=r.requestType;switch(I(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":I(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":I(r.mfaInfo,n,"internal-error");default:I(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Ve._fromServerResponse(Pt(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}}async function Ge(t,e){const{data:n}=await We((0,i.m9)(t),e);return n.email}async function Ke(t,e,n){const r=Pt(t),i=await Ie(r,{returnSecureToken:!0,email:e,password:n}),s=await Ee._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function Ye(t,e,n){return Me((0,i.m9)(t),he.credential(e,n))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qe(t,e,n){const r=(0,i.m9)(t),s={requestType:"EMAIL_SIGNIN",email:e};I(n.handleCodeInApp,r,"argument-error"),n&&$e(r,s,n),await Kt(r,s)}function Je(t,e){const n=le.parseLink(e);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}async function Xe(t,e,n){const r=(0,i.m9)(t),s=he.credentialWithLink(e,n||A());return I(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Me(r,s)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ze(t,e){return V(t,"POST","/v1/accounts:createAuthUri",B(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tn(t,e){const n=O()?A():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:s}=await Ze((0,i.m9)(t),r);return s||[]}async function en(t,e){const n=(0,i.m9)(t),r=await t.getIdToken(),s={requestType:"VERIFY_EMAIL",idToken:r};e&&$e(n.auth,s,e);const{email:o}=await Wt(n.auth,s);o!==t.email&&await t.reload()}async function nn(t,e,n){const r=(0,i.m9)(t),s=await t.getIdToken(),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:s,newEmail:e};n&&$e(r.auth,o,n);const{email:a}=await Yt(r.auth,o);a!==t.email&&await t.reload()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rn(t,e){return V(t,"POST","/v1/accounts:update",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sn(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const r=(0,i.m9)(t),s=await r.getIdToken(),o={idToken:s,displayName:e,photoUrl:n,returnSecureToken:!0},a=await tt(r,rn(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const c=r.providerData.find((({providerId:t})=>"password"===t));c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function on(t,e){return cn((0,i.m9)(t),e,null)}function an(t,e){return cn((0,i.m9)(t),null,e)}async function cn(t,e,n){const{auth:r}=t,i=await t.getIdToken(),s={idToken:i,returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await tt(t,$t(r,s));await t._updateTokensIfNecessary(o,!0)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||"identitytoolkit#SignupNewUserResponse"===t.kind;if(!r&&(null===t||void 0===t?void 0:t.idToken)){const r=null===(n=null===(e=X(t.idToken))||void 0===e?void 0:e.firebase)||void 0===n?void 0:n["sign_in_provider"];if(r){const t="anonymous"!==r&&"custom"!==r?r:null;return new ln(s,t)}}if(!r)return null;switch(r){case"facebook.com":return new dn(s,i);case"github.com":return new fn(s,i);case"google.com":return new pn(s,i);case"twitter.com":return new gn(s,i,t.screenName||null);case"custom":case"anonymous":return new ln(s,null);default:return new ln(s,r,i)}}class ln{constructor(t,e,n={}){this.isNewUser=t,this.providerId=e,this.profile=n}}class hn extends ln{constructor(t,e,n,r){super(t,e,n),this.username=r}}class dn extends ln{constructor(t,e){super(t,"facebook.com",e)}}class fn extends hn{constructor(t,e){super(t,"github.com",e,"string"===typeof(null===e||void 0===e?void 0:e.login)?null===e||void 0===e?void 0:e.login:null)}}class pn extends ln{constructor(t,e){super(t,"google.com",e)}}class gn extends hn{constructor(t,e,n){super(t,"twitter.com",e,n)}}function mn(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:un(n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t,e,n){this.type=t,this.credential=e,this.auth=n}static _fromIdtoken(t,e){return new yn("enroll",t,e)}static _fromMfaPendingCredential(t){return new yn("signin",t)}toJSON(){const t="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[t]:this.credential}}}static fromJSON(t){var e,n;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(e=t.multiFactorSession)||void 0===e?void 0:e.pendingCredential)return yn._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.idToken)return yn._fromIdtoken(t.multiFactorSession.idToken)}return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,e,n){this.session=t,this.hints=e,this.signInResolver=n}static _fromError(t,e){const n=Pt(t),r=e.customData._serverResponse,i=(r.mfaInfo||[]).map((t=>Ve._fromServerResponse(n,t)));I(r.mfaPendingCredential,n,"internal-error");const s=yn._fromMfaPendingCredential(r.mfaPendingCredential);return new vn(s,i,(async t=>{const i=await t._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(e.operationType){case"signIn":const t=await Ee._fromIdTokenResponse(n,e.operationType,o);return await n._updateCurrentUser(t.user),t;case"reauthenticate":return I(e.user,n,"internal-error"),Ee._forOperation(e.user,e.operationType,o);default:v(n,"internal-error")}}))}async resolveSignIn(t){const e=t;return this.signInResolver(e)}}function bn(t,e){var n;const r=(0,i.m9)(t),s=e;return I(e.customData.operationType,r,"argument-error"),I(null===(n=s.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),vn._fromError(r,s)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,e){return V(t,"POST","/v2/accounts/mfaEnrollment:start",B(t,e))}function _n(t,e){return V(t,"POST","/v2/accounts/mfaEnrollment:finalize",B(t,e))}function xn(t,e){return V(t,"POST","/v2/accounts/mfaEnrollment:withdraw",B(t,e))}class In{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload((e=>{e.mfaInfo&&(this.enrolledFactors=e.mfaInfo.map((e=>Ve._fromServerResponse(t.auth,e))))}))}static _fromUser(t){return new In(t)}async getSession(){return yn._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(t,e){const n=t,r=await this.getSession(),i=await tt(this.user,n._process(this.user.auth,r,e));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(t){var e;const n="string"===typeof t?t:t.uid,r=await this.user.getIdToken(),i=await tt(this.user,xn(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter((({uid:t})=>t!==n)),await this.user._updateTokensIfNecessary(i);try{await this.user.reload()}catch(s){if("auth/user-token-expired"!==(null===(e=s)||void 0===e?void 0:e.code))throw s}}}const En=new WeakMap;function Tn(t){const e=(0,i.m9)(t);return En.has(e)||En.set(e,In._fromUser(e)),En.get(e)}const Sn="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Sn,"1"),this.storage.removeItem(Sn),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){const t=(0,i.z$)();return vt(t)||Et(t)}const An=1e3,On=10;class Dn extends kn{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Cn()&&At(),this.fallbackToPolling=Ct(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},i=this.storage.getItem(n);kt()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,On):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),An)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Dn.type="LOCAL";const Rn=Dn;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn extends kn{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Pn.type="SESSION";const Nn=Pn;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t){return Promise.all(t.map((async t=>{try{const e=await t;return{fulfilled:!0,value:e}}catch(e){return{fulfilled:!1,reason:e}}})))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new Ln(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async t=>t(e.origin,i))),a=await Mn(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Fn(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.receivers=[];class jn{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=Fn("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(e.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function Vn(t){Bn().location.href=t}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return"undefined"!==typeof Bn()["WorkerGlobalScope"]&&"function"===typeof Bn()["importScripts"]}async function $n(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const t=await navigator.serviceWorker.ready;return t.active}catch(t){return null}}function zn(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}function qn(){return Un()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="firebaseLocalStorageDb",Wn=1,Gn="firebaseLocalStorage",Kn="fbase_key";class Yn{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Qn(t,e){return t.transaction([Gn],e?"readwrite":"readonly").objectStore(Gn)}function Jn(){const t=indexedDB.deleteDatabase(Hn);return new Yn(t).toPromise()}function Xn(){const t=indexedDB.open(Hn,Wn);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(Gn,{keyPath:Kn})}catch(r){n(r)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(Gn)?e(n):(n.close(),await Jn(),e(await Xn()))}))}))}async function Zn(t,e,n){const r=Qn(t,!0).put({[Kn]:e,value:n});return new Yn(r).toPromise()}async function tr(t,e){const n=Qn(t,!1).get(e),r=await new Yn(n).toPromise();return void 0===r?null:r.value}function er(t,e){const n=Qn(t,!0).delete(e);return new Yn(n).toPromise()}const nr=800,rr=3;class ir{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Xn()),this.db}async _withRetries(t){let e=0;while(1)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>rr)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Un()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ln._getInstance(qn()),this.receiver._subscribe("keyChanged",(async(t,e)=>{const n=await this._poll();return{keyProcessed:n.includes(e.key)}})),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await $n(),!this.activeServiceWorker)return;this.sender=new jn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&zn()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xn();return await Zn(t,Sn,"1"),await er(t,Sn),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>Zn(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>tr(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>er(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Qn(t,!1).getAll();return new Yn(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),nr)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ir.type="LOCAL";const sr=ir;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,e){return V(t,"POST","/v2/accounts/mfaSignIn:start",B(t,e))}function ar(t,e){return V(t,"POST","/v2/accounts/mfaSignIn:finalize",B(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cr(t){return(await V(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}function lr(t){return new Promise(((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=b("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",ur().appendChild(r)}))}function hr(t){return`__${t}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=500,fr=6e4,pr=1e12;class gr{constructor(t){this.auth=t,this.counter=pr,this._widgets=new Map}render(t,e){const n=this.counter;return this._widgets.set(n,new mr(t,this.auth.name,e||{})),this.counter++,n}reset(t){var e;const n=t||pr;null===(e=this._widgets.get(n))||void 0===e||e.delete(),this._widgets.delete(n)}getResponse(t){var e;const n=t||pr;return(null===(e=this._widgets.get(n))||void 0===e?void 0:e.getResponse())||""}async execute(t){var e;const n=t||pr;return null===(e=this._widgets.get(n))||void 0===e||e.execute(),""}}class mr{constructor(t,e,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof t?document.getElementById(t):t;I(r,"argument-error",{appName:e}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=yr(50);const{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch(n){}this.isVisible&&this.execute()}),fr)}),dr))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function yr(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=hr("rcb"),br=new N(3e4,6e4),wr="https://www.google.com/recaptcha/api.js?";class _r{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Bn().grecaptcha)||void 0===t?void 0:t.render)}load(t,e=""){return I(xr(e),t,"argument-error"),this.shouldResolveImmediately(e)?Promise.resolve(Bn().grecaptcha):new Promise(((n,r)=>{const s=Bn().setTimeout((()=>{r(b(t,"network-request-failed"))}),br.get());Bn()[vr]=()=>{Bn().clearTimeout(s),delete Bn()[vr];const i=Bn().grecaptcha;if(!i)return void r(b(t,"internal-error"));const o=i.render;i.render=(t,e)=>{const n=o(t,e);return this.counter++,n},this.hostLanguage=e,n(i)};const o=`${wr}?${(0,i.xO)({onload:vr,render:"explicit",hl:e})}`;lr(o).catch((()=>{clearTimeout(s),r(b(t,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var e;return!!(null===(e=Bn().grecaptcha)||void 0===e?void 0:e.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function xr(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Ir{async load(t){return new gr(t)}clearedOneInstance(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="recaptcha",Tr={theme:"light",type:"image"};class Sr{constructor(t,e=Object.assign({},Tr),n){this.parameters=e,this.type=Er,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pt(n),this.isInvisible="invisible"===this.parameters.size,I("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;I(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ir:new _r,this.validateStartingState()}async verify(){this.assertNotDestroyed();const t=await this.render(),e=this.getAssertedRecaptcha(),n=e.getResponse(t);return n||new Promise((n=>{const r=t=>{t&&(this.tokenChangeListeners.delete(r),n(t))};this.tokenChangeListeners.add(r),this.isInvisible&&e.execute(t)}))}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((t=>{throw this.renderPromise=null,t}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((t=>{this.container.removeChild(t)}))}validateStartingState(){I(!this.parameters.sitekey,this.auth,"argument-error"),I(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),I("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach((t=>t(e))),"function"===typeof t)t(e);else if("string"===typeof t){const n=Bn()[t];"function"===typeof n&&n(e)}}}assertNotDestroyed(){I(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId}async init(){I(O()&&!Un(),this.auth,"internal-error"),await kr(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const t=await cr(this.auth);I(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return I(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function kr(){let t=null;return new Promise((e=>{"complete"!==document.readyState?(t=()=>e(),window.addEventListener("load",t)):e()})).catch((e=>{throw t&&window.removeEventListener("load",t),e}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=ae._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}async function Ar(t,e,n){const r=Pt(t),s=await Rr(r,e,(0,i.m9)(n));return new Cr(s,(t=>Me(r,t)))}async function Or(t,e,n){const r=(0,i.m9)(t);await Re(!1,r,"phone");const s=await Rr(r.auth,e,(0,i.m9)(n));return new Cr(s,(t=>Le(r,t)))}async function Dr(t,e,n){const r=(0,i.m9)(t),s=await Rr(r.auth,e,(0,i.m9)(n));return new Cr(s,(t=>Fe(r,t)))}async function Rr(t,e,n){var r;const i=await n.verify();try{let s;if(I("string"===typeof i,t,"argument-error"),I(n.type===Er,t,"argument-error"),s="string"===typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){I("enroll"===e.type,t,"internal-error");const n=await wn(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{I("signin"===e.type,t,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;I(n,t,"missing-multi-factor-info");const o=await or(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await ne(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}}async function Pr(t,e){await De((0,i.m9)(t),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t){this.providerId=Nr.PROVIDER_ID,this.auth=Pt(t)}verifyPhoneNumber(t,e){return Rr(this.auth,t,(0,i.m9)(e))}static credential(t,e){return ae._fromVerification(t,e)}static credentialFromResult(t){const e=t;return Nr.credentialFromTaggedObject(e)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?ae._fromTokenResponse(e,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Mr(t,e){return e?k(e):(I(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr.PROVIDER_ID="phone",Nr.PHONE_SIGN_IN_METHOD="phone";class Lr extends Vt{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zt(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Zt(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Zt(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Fr(t){return Ne(t.auth,new Lr(t),t.bypassAuthState)}function jr(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),Pe(n,new Lr(t),t.bypassAuthState)}async function Br(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),De(n,new Lr(t),t.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Fr;case"linkViaPopup":case"linkViaRedirect":return Br;case"reauthViaPopup":case"reauthViaRedirect":return jr;default:v(this.auth,"internal-error")}}resolve(t){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new N(2e3,1e4);async function $r(t,e,n){const r=Pt(t);_(t,e,de);const i=Mr(r,n),s=new Hr(r,"signInViaPopup",e,i);return s.executeNotNull()}async function zr(t,e,n){const r=(0,i.m9)(t);_(r.auth,e,de);const s=Mr(r.auth,n),o=new Hr(r.auth,"reauthViaPopup",e,s,r);return o.executeNotNull()}async function qr(t,e,n){const r=(0,i.m9)(t);_(r.auth,e,de);const s=Mr(r.auth,n),o=new Hr(r.auth,"linkViaPopup",e,s,r);return o.executeNotNull()}class Hr extends Vr{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return I(t,this.auth,"internal-error"),t}async onExecution(){T(1===this.filter.length,"Popup operations only handle one event");const t=Fn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(b(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(b(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(b(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(t,Ur.get())};t()}}Hr.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Wr="pendingRedirect",Gr=new Map;class Kr extends Vr{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=Gr.get(this.auth._key());if(!t){try{const e=await Yr(this.resolver,this.auth),n=e?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}Gr.set(this.auth._key(),t)}return this.bypassAuthState||Gr.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Yr(t,e){const n=ti(e),r=Zr(t);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}async function Qr(t,e){return Zr(t)._set(ti(e),"true")}function Jr(){Gr.clear()}function Xr(t,e){Gr.set(t._key(),e)}function Zr(t){return k(t._redirectPersistence)}function ti(t){return pt(Wr,t.config.apiKey,t.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,e,n){return ni(t,e,n)}async function ni(t,e,n){const r=Pt(t);_(t,e,de);const i=Mr(r,n);return await Qr(i,r),i._openRedirect(r,e,"signInViaRedirect")}function ri(t,e,n){return ii(t,e,n)}async function ii(t,e,n){const r=(0,i.m9)(t);_(r.auth,e,de);const s=Mr(r.auth,n);await Qr(s,r.auth);const o=await ui(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",o)}function si(t,e,n){return oi(t,e,n)}async function oi(t,e,n){const r=(0,i.m9)(t);_(r.auth,e,de);const s=Mr(r.auth,n);await Re(!1,r,e.providerId),await Qr(s,r.auth);const o=await ui(r);return s._openRedirect(r.auth,e,"linkViaRedirect",o)}async function ai(t,e){return await Pt(t)._initializationPromise,ci(t,e,!1)}async function ci(t,e,n=!1){const r=Pt(t),i=Mr(r,e),s=new Kr(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function ui(t){const e=Fn(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=6e5;class hi{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!pi(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!fi(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(b(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=li&&this.cachedEventUids.clear(),this.cachedEventUids.has(di(t))}saveEventToCache(t){this.cachedEventUids.add(di(t)),this.lastProcessedEventTime=Date.now()}}function di(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function fi({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null===e||void 0===e?void 0:e.code)}function pi(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fi(t);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gi(t,e={}){return V(t,"GET","/v1/projects",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yi=/^https?/;async function vi(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gi(t);for(const r of e)try{if(bi(r))return}catch(n){}v(t,"unauthorized-domain")}function bi(t){const e=A(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!yi.test(n))return!1;if(mi.test(t))return r===t;const i=t.replace(/\./g,"\\."),s=new RegExp("^(.+\\."+i+"|"+i+")$","i");return s.test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new N(3e4,6e4);function _i(){const t=Bn().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}function xi(t){return new Promise(((e,n)=>{var r,i,s;function o(){_i(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_i(),n(b(t,"network-request-failed"))},timeout:wi.get()})}if(null===(i=null===(r=Bn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Bn().gapi)||void 0===s?void 0:s.load)){const e=hr("iframefcb");return Bn()[e]=()=>{gapi.load?o():n(b(t,"network-request-failed"))},lr(`https://apis.google.com/js/api.js?onload=${e}`).catch((t=>n(t)))}o()}})).catch((t=>{throw Ii=null,t}))}let Ii=null;function Ei(t){return Ii=Ii||xi(t),Ii}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new N(5e3,15e3),Si="__/auth/iframe",ki="emulator/auth/iframe",Ci={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ai=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oi(t){const e=t.config;I(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?M(e,ki):`https://${t.config.authDomain}/${Si}`,r={apiKey:e.apiKey,appName:t.name,v:s.SDK_VERSION},o=Ai.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,i.xO)(r).slice(1)}`}async function Di(t){const e=await Ei(t),n=Bn().gapi;return I(n,t,"internal-error"),e.open({where:document.body,url:Oi(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ci,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=b(t,"network-request-failed"),s=Bn().setTimeout((()=>{r(i)}),Ti.get());function o(){Bn().clearTimeout(s),n(e)}e.ping(o).then(o,(()=>{r(i)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pi=500,Ni=600,Mi="_blank",Li="http://localhost";class Fi{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function ji(t,e,n,r=Pi,s=Ni){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},Ri),{width:r.toString(),height:s.toString(),top:o,left:a}),l=(0,i.z$)().toLowerCase();n&&(c=bt(l)?Mi:n),yt(l)&&(e=e||Li,u.scrollbars="yes");const h=Object.entries(u).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(St(l)&&"_self"!==c)return Bi(e||"",c),new Fi(null);const d=window.open(e||"",c,h);I(d,t,"popup-blocked");try{d.focus()}catch(f){}return new Fi(d)}function Bi(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="__/auth/handler",Ui="emulator/auth/handler";function $i(t,e,n,r,o,a){I(t.config.authDomain,t,"auth-domain-config-required"),I(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:s.SDK_VERSION,eventId:o};if(e instanceof de){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",(0,i.xb)(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))c[t]=e}if(e instanceof fe){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(c.scopes=t.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const i of Object.keys(u))void 0===u[i]&&delete u[i];return`${zi(t)}?${(0,i.xO)(u).slice(1)}`}function zi({config:t}){return t.emulator?M(t,Ui):`https://${t.authDomain}/${Vi}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="webStorageSupport";class Hi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nn,this._completeRedirectFn=ci,this._overrideRedirectResult=Xr}async _openPopup(t,e,n,r){var i;T(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");const s=$i(t,e,n,A(),r);return ji(t,s,Fn())}async _openRedirect(t,e,n,r){return await this._originValidation(t),Vn($i(t,e,n,A(),r)),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(T(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await Di(t),n=new hi(t);return e.register("authEvent",(e=>{I(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");const r=n.onEvent(e.authEvent);return{status:r?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){const n=this.iframes[t._key()];n.send(qi,{type:qi},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[qi];void 0!==i&&e(!!i),v(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=vi(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Ct()||vt()||Et()}}const Wi=Hi;class Gi{constructor(t){this.factorId=t}_process(t,e,n){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,n);case"signin":return this._finalizeSignIn(t,e.credential);default:return E("unexpected MultiFactorSessionType")}}}class Ki extends Gi{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new Ki(t)}_finalizeEnroll(t,e,n){return _n(t,{idToken:e,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return ar(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Yi{constructor(){}static assertion(t){return Ki._fromCredential(t)}}Yi.FACTOR_ID="phone";var Qi="@firebase/auth",Ji="0.20.7";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xi{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const e=await this.auth.currentUser.getIdToken(t);return{accessToken:e}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{var n;t((null===(n=e)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function ts(t){(0,s._registerComponent)(new c.wA("auth",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((e,r)=>{I(s&&!s.includes(":"),"invalid-api-key",{appName:e.name}),I(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});const i={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ot(t)},a=new Rt(e,r,i);return C(a,n),a})(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{const r=t.getProvider("auth-internal");r.initialize()}))),(0,s._registerComponent)(new c.wA("auth-internal",(t=>{const e=Pt(t.getProvider("auth").getImmediate());return(t=>new Xi(t))(e)}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)(Qi,Ji,Zi(t)),(0,s.registerVersion)(Qi,Ji,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function es(){return window}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts("Browser");const ns=2e3;async function rs(t,e,n){var r;const{BuildInfo:i}=es();T(e.sessionId,"AuthEvent did not contain a session ID");const s=await cs(e.sessionId),o={};return Et()?o["ibi"]=i.packageName:_t()?o["apn"]=i.packageName:v(t,"operation-not-supported-in-this-environment"),i.displayName&&(o["appDisplayName"]=i.displayName),o["sessionId"]=s,$i(t,n,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,o)}async function is(t){const{BuildInfo:e}=es(),n={};Et()?n.iosBundleId=e.packageName:_t()?n.androidPackageName=e.packageName:v(t,"operation-not-supported-in-this-environment"),await gi(t,n)}function ss(t){const{cordova:e}=es();return new Promise((n=>{e.plugins.browsertab.isAvailable((r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Tt()?"_blank":"_system","location=yes"),n(i)}))}))}async function os(t,e,n){const{cordova:r}=es();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function c(){var t;s();const e=null===(t=r.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof e&&e(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout((()=>{o(b(t,"redirect-cancelled-by-user"))}),ns))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}e.addPassiveListener(c),document.addEventListener("resume",u,!1),_t()&&document.addEventListener("visibilitychange",l,!1),i=()=>{e.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}}))}finally{i()}}function as(t){var e,n,r,i,s,o,a,c,u,l;const h=es();I("function"===typeof(null===(e=null===h||void 0===h?void 0:h.universalLinks)||void 0===e?void 0:e.subscribe),t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),I("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),I("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),I("function"===typeof(null===(c=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),I("function"===typeof(null===(l=null===(u=null===h||void 0===h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===l?void 0:l.open),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function cs(t){const e=us(t),n=await crypto.subtle.digest("SHA-256",e),r=Array.from(new Uint8Array(n));return r.map((t=>t.toString(16).padStart(2,"0"))).join("")}function us(t){if(T(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=20;class hs extends hi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((t=>{this.resolveInialized=t}))}addPassiveListener(t){this.passiveListeners.add(t)}removePassiveListener(t){this.passiveListeners.delete(t)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(t){return this.resolveInialized(),this.passiveListeners.forEach((e=>e(t))),super.onEvent(t)}async initialized(){await this.initPromise}}function ds(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:ms(),postBody:null,tenantId:t.tenantId,error:b(t,"no-auth-event")}}function fs(t,e){return ys()._set(vs(t),e)}async function ps(t){const e=await ys()._get(vs(t));return e&&await ys()._remove(vs(t)),e}function gs(t,e){var n,r;const i=ws(e);if(i.includes("/__/auth/callback")){const e=_s(i),s=e["firebaseError"]?bs(decodeURIComponent(e["firebaseError"])):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s["code"])||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?b(o):null;return a?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function ms(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<ls;n++){const n=Math.floor(Math.random()*e.length);t.push(e.charAt(n))}return t.join("")}function ys(){return k(Rn)}function vs(t){return pt("authEvent",t.config.apiKey,t.name)}function bs(t){try{return JSON.parse(t)}catch(e){return null}}function ws(t){const e=_s(t),n=e["link"]?decodeURIComponent(e["link"]):void 0,r=_s(n)["link"],i=e["deep_link_id"]?decodeURIComponent(e["deep_link_id"]):void 0,s=_s(i)["link"];return s||i||r||n||t}function _s(t){if(!(null===t||void 0===t?void 0:t.includes("?")))return{};const[e,...n]=t.split("?");return(0,i.zd)(n.join("?"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=500;class Is{constructor(){this._redirectPersistence=Nn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ci,this._overrideRedirectResult=Xr}async _initialize(t){const e=t._key();let n=this.eventManagers.get(e);return n||(n=new hs(t),this.eventManagers.set(e,n),this.attachCallbackListeners(t,n)),n}_openPopup(t){v(t,"operation-not-supported-in-this-environment")}async _openRedirect(t,e,n,r){as(t);const i=await this._initialize(t);await i.initialized(),i.resetRedirect(),Jr(),await this._originValidation(t);const s=ds(t,n,r);await fs(t,s);const o=await rs(t,s,e),a=await ss(o);return os(t,i,a)}_isIframeWebStorageSupported(t,e){throw new Error("Method not implemented.")}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=is(t)),this.originValidationPromises[e]}attachCallbackListeners(t,e){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=es(),s=setTimeout((async()=>{await ps(t),e.onEvent(Ts())}),xs),o=async n=>{clearTimeout(s);const r=await ps(t);let i=null;r&&(null===n||void 0===n?void 0:n["url"])&&(i=gs(r,n["url"])),e.onEvent(i||Ts())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,c=`${i.packageName.toLowerCase()}://`;es().handleOpenURL=async t=>{if(t.toLowerCase().startsWith(c)&&o({url:t}),"function"===typeof a)try{a(t)}catch(e){console.error(e)}}}}const Es=Is;function Ts(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:b("no-auth-event")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t,e){Pt(t)._logFramework(e)}var ks="@firebase/auth-compat",Cs="0.2.20";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const As=1e3;function Os(){var t;return(null===(t=null===self||void 0===self?void 0:self.location)||void 0===t?void 0:t.protocol)||null}function Ds(){return"http:"===Os()||"https:"===Os()}function Rs(t=(0,i.z$)()){return!("file:"!==Os()&&"ionic:"!==Os()&&"capacitor:"!==Os()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ps(){return(0,i.b$)()||(0,i.UG)()}function Ns(){return(0,i.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Ms(t=(0,i.z$)()){return/Edge\/\d+/.test(t)}function Ls(t=(0,i.z$)()){return Ns()||Ms(t)}function Fs(){try{const t=self.localStorage,e=Fn();if(t)return t["setItem"](e,"1"),t["removeItem"](e),!Ls()||(0,i.hl)()}catch(t){return js()&&(0,i.hl)()}return!1}function js(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Bs(){return(Ds()||(0,i.ru)()||Rs())&&!Ps()&&Fs()&&!js()}function Vs(){return Rs()&&"undefined"!==typeof document}async function Us(){return!!Vs()&&new Promise((t=>{const e=setTimeout((()=>{t(!1)}),As);document.addEventListener("deviceready",(()=>{clearTimeout(e),t(!0)}))}))}function $s(){return"undefined"!==typeof window?window:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs={LOCAL:"local",NONE:"none",SESSION:"session"},qs=I,Hs="persistence";function Ws(t,e){qs(Object.values(zs).includes(e),t,"invalid-persistence-type"),(0,i.b$)()?qs(e!==zs.SESSION,t,"unsupported-persistence-type"):(0,i.UG)()?qs(e===zs.NONE,t,"unsupported-persistence-type"):js()?qs(e===zs.NONE||e===zs.LOCAL&&(0,i.hl)(),t,"unsupported-persistence-type"):qs(e===zs.NONE||Fs(),t,"unsupported-persistence-type")}async function Gs(t){await t._initializationPromise;const e=Ys(),n=pt(Hs,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function Ks(t,e){const n=Ys();if(!n)return[];const r=pt(Hs,t,e),i=n.getItem(r);switch(i){case zs.NONE:return[ft];case zs.LOCAL:return[sr,Nn];case zs.SESSION:return[Nn];default:return[]}}function Ys(){var t;try{return(null===(t=$s())||void 0===t?void 0:t.sessionStorage)||null}catch(e){return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=I;class Js{constructor(){this.browserResolver=k(Wi),this.cordovaResolver=k(Es),this.underlyingResolver=null,this._redirectPersistence=Nn,this._completeRedirectFn=ci,this._overrideRedirectResult=Xr}async _initialize(t){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(t)}async _openPopup(t,e,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(t,e,n,r)}async _openRedirect(t,e,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(t,e,n,r)}_isIframeWebStorageSupported(t,e){this.assertedUnderlyingResolver._isIframeWebStorageSupported(t,e)}_originValidation(t){return this.assertedUnderlyingResolver._originValidation(t)}get _shouldInitProactively(){return Vs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qs(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const t=await Us();this.underlyingResolver=t?this.cordovaResolver:this.browserResolver}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t){return t.unwrap()}function Zs(t){return t.wrapped()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){return no(t)}function eo(t,e){var n,r;const i=null===(n=e.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=e)||void 0===r?void 0:r.code)){const n=e;n.resolver=new so(t,bn(t,e))}else if(i){const t=no(e),n=e;t&&(n.credential=t,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}function no(t){const{_tokenResponse:e}=t instanceof i.ZR?t.customData:t;if(!e)return null;if(!(t instanceof i.ZR)&&"temporaryProof"in e&&"phoneNumber"in e)return Nr.credentialFromResult(t);const n=e.providerId;if(!n||n===u.PASSWORD)return null;let r;switch(n){case u.GOOGLE:r=me;break;case u.FACEBOOK:r=ge;break;case u.GITHUB:r=ye;break;case u.TWITTER:r=xe;break;default:const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=e;return i||s||t||o?o?n.startsWith("saml.")?be._create(n,o):ee._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:t,accessToken:i}):new pe(n).credential({idToken:t,accessToken:i,rawNonce:a}):null}return t instanceof i.ZR?r.credentialFromError(t):r.credentialFromResult(t)}function ro(t,e){return e.catch((e=>{throw e instanceof i.ZR&&eo(t,e),e})).then((t=>{const e=t.operationType,n=t.user;return{operationType:e,credential:to(t),additionalUserInfo:mn(t),user:oo.getOrCreate(n)}}))}async function io(t,e){const n=await e;return{verificationId:n.verificationId,confirm:e=>ro(t,n.confirm(e))}}class so{constructor(t,e){this.resolver=e,this.auth=Zs(t)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(t){return ro(Xs(this.auth),this.resolver.resolveSignIn(t))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this._delegate=t,this.multiFactor=Tn(t)}static getOrCreate(t){return oo.USER_MAP.has(t)||oo.USER_MAP.set(t,new oo(t)),oo.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(t){return this._delegate.getIdTokenResult(t)}getIdToken(t){return this._delegate.getIdToken(t)}linkAndRetrieveDataWithCredential(t){return this.linkWithCredential(t)}async linkWithCredential(t){return ro(this.auth,Le(this._delegate,t))}async linkWithPhoneNumber(t,e){return io(this.auth,Or(this._delegate,t,e))}async linkWithPopup(t){return ro(this.auth,qr(this._delegate,t,Js))}async linkWithRedirect(t){return await Gs(Pt(this.auth)),si(this._delegate,t,Js)}reauthenticateAndRetrieveDataWithCredential(t){return this.reauthenticateWithCredential(t)}async reauthenticateWithCredential(t){return ro(this.auth,Fe(this._delegate,t))}reauthenticateWithPhoneNumber(t,e){return io(this.auth,Dr(this._delegate,t,e))}reauthenticateWithPopup(t){return ro(this.auth,zr(this._delegate,t,Js))}async reauthenticateWithRedirect(t){return await Gs(Pt(this.auth)),ri(this._delegate,t,Js)}sendEmailVerification(t){return en(this._delegate,t)}async unlink(t){return await Oe(this._delegate,t),this}updateEmail(t){return on(this._delegate,t)}updatePassword(t){return an(this._delegate,t)}updatePhoneNumber(t){return Pr(this._delegate,t)}updateProfile(t){return sn(this._delegate,t)}verifyBeforeUpdateEmail(t,e){return nn(this._delegate,t,e)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}oo.USER_MAP=new WeakMap;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ao=I;class co{constructor(t,e){if(this.app=t,e.isInitialized())return this._delegate=e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=t.options;ao(n,"invalid-api-key",{appName:t.name}),ao(n,"invalid-api-key",{appName:t.name});const r="undefined"!==typeof window?Js:void 0;this._delegate=e.initialize({options:{persistence:lo(n,t.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(f),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?oo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,e){Mt(this._delegate,t,e)}applyActionCode(t){return He(this._delegate,t)}checkActionCode(t){return We(this._delegate,t)}confirmPasswordReset(t,e){return qe(this._delegate,t,e)}async createUserWithEmailAndPassword(t,e){return ro(this._delegate,Ke(this._delegate,t,e))}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return tn(this._delegate,t)}isSignInWithEmailLink(t){return Je(this._delegate,t)}async getRedirectResult(){ao(Bs(),this._delegate,"operation-not-supported-in-this-environment");const t=await ai(this._delegate,Js);return t?ro(this._delegate,Promise.resolve(t)):{credential:null,user:null}}addFrameworkForLogging(t){Ss(this._delegate,t)}onAuthStateChanged(t,e,n){const{next:r,error:i,complete:s}=uo(t,e,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(t,e,n){const{next:r,error:i,complete:s}=uo(t,e,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(t,e){return Qe(this._delegate,t,e)}sendPasswordResetEmail(t,e){return ze(this._delegate,t,e||void 0)}async setPersistence(t){let e;switch(Ws(this._delegate,t),t){case zs.SESSION:e=Nn;break;case zs.LOCAL:const t=await k(sr)._isAvailable();e=t?sr:Rn;break;case zs.NONE:e=ft;break;default:return v("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(e)}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return ro(this._delegate,Se(this._delegate))}signInWithCredential(t){return ro(this._delegate,Me(this._delegate,t))}signInWithCustomToken(t){return ro(this._delegate,Be(this._delegate,t))}signInWithEmailAndPassword(t,e){return ro(this._delegate,Ye(this._delegate,t,e))}signInWithEmailLink(t,e){return ro(this._delegate,Xe(this._delegate,t,e))}signInWithPhoneNumber(t,e){return io(this._delegate,Ar(this._delegate,t,e))}async signInWithPopup(t){return ao(Bs(),this._delegate,"operation-not-supported-in-this-environment"),ro(this._delegate,$r(this._delegate,t,Js))}async signInWithRedirect(t){return ao(Bs(),this._delegate,"operation-not-supported-in-this-environment"),await Gs(this._delegate),ei(this._delegate,t,Js)}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return Ge(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function uo(t,e,n){let r=t;"function"!==typeof t&&({next:r,error:e,complete:n}=t);const i=r,s=t=>i(t&&oo.getOrCreate(t));return{next:s,error:e,complete:n}}function lo(t,e){const n=Ks(t,e);if("undefined"===typeof self||n.includes(sr)||n.push(sr),"undefined"!==typeof window)for(const r of[Rn,Nn])n.includes(r)||n.push(r);return n.includes(ft)||n.push(ft),n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co.Persistence=zs;class ho{constructor(){this.providerId="phone",this._delegate=new Nr(Xs(r.Z.auth()))}static credential(t,e){return Nr.credential(t,e)}verifyPhoneNumber(t,e){return this._delegate.verifyPhoneNumber(t,e)}unwrap(){return this._delegate}}ho.PHONE_SIGN_IN_METHOD=Nr.PHONE_SIGN_IN_METHOD,ho.PROVIDER_ID=Nr.PROVIDER_ID;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const fo=I;class po{constructor(t,e,n=r.Z.app()){var i;fo(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Sr(t,e,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="auth-compat";function mo(t){t.INTERNAL.registerComponent(new c.wA(go,(t=>{const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("auth");return new co(e,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:l.EMAIL_SIGNIN,PASSWORD_RESET:l.PASSWORD_RESET,RECOVER_EMAIL:l.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:l.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:l.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:l.VERIFY_EMAIL}},EmailAuthProvider:he,FacebookAuthProvider:ge,GithubAuthProvider:ye,GoogleAuthProvider:me,OAuthProvider:pe,SAMLAuthProvider:_e,PhoneAuthProvider:ho,PhoneMultiFactorGenerator:Yi,RecaptchaVerifier:po,TwitterAuthProvider:xe,Auth:co,AuthCredential:Vt,Error:i.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(ks,Cs)}mo(r.Z)},4406:function(t,e,n){"use strict";n(8675),n(3462);var r,i=n(2661),s=(n(1703),n(2262),n(4506),n(2801),n(6699),n(9684)),o=n(7142),a=n(5168),c=n(223),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},l={},h=h||{},d=u||self;function f(){}function p(t){var e=typeof t;return e="object"!=e?e:t?Array.isArray(t)?"array":e:"null","array"==e||"object"==e&&"number"==typeof t.length}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++v)}var y="closure_uid_"+(1e9*Math.random()>>>0),v=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return _=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w,_.apply(null,arguments)}function x(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function E(){this.s=this.s,this.o=this.o}var T=0,S={};E.prototype.s=!1,E.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=T)){var t=m(this);delete S[t]}},E.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const k=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function C(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function A(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(p(e)){const n=t.length||0,r=e.length||0;t.length=n+r;for(let i=0;i<r;i++)t[n+i]=e[i]}else t.push(e)}}function O(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{d.addEventListener("test",f,e),d.removeEventListener("test",f,e)}catch(n){}return t}();function R(t){return/^[\s\xa0]*$/.test(t)}var P=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return t<e?-1:t>e?1:0}function M(){var t=d.navigator;return t&&(t=t.userAgent)?t:""}function L(t){return-1!=M().indexOf(t)}function F(t){return F[" "](t),t}function j(t){var e=J;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}F[" "]=f;var B,V=L("Opera"),U=L("Trident")||L("MSIE"),$=L("Edge"),z=$||U,q=L("Gecko")&&!(-1!=M().toLowerCase().indexOf("webkit")&&!L("Edge"))&&!(L("Trident")||L("MSIE"))&&!L("Edge"),H=-1!=M().toLowerCase().indexOf("webkit")&&!L("Edge");function W(){var t=d.document;return t?t.documentMode:void 0}t:{var G="",K=function(){var t=M();return q?/rv:([^\);]+)(\)|;)/.exec(t):$?/Edge\/([\d\.]+)/.exec(t):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):H?/WebKit\/(\S+)/.exec(t):V?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(K&&(G=K?K[1]:""),U){var Y=W();if(null!=Y&&Y>parseFloat(G)){B=String(Y);break t}}B=G}var Q,J={};function X(){return j((function(){let t=0;const e=P(String(B)).split("."),n=P("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=N(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||N(0==i[2].length,0==s[2].length)||N(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}))}if(d.document&&U){var Z=W();Q=Z||(parseInt(B,10)||void 0)}else Q=void 0;var tt=Q;function et(t,e){if(O.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(q){t:{try{F(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:nt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&et.X.h.call(this)}}I(et,O);var nt={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),it=0;function st(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++it,this.ba=this.ea=!1}function ot(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function at(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function ct(t){const e={};for(const n in t)e[n]=t[n];return e}const ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<ut.length;e++)n=ut[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ht(t){this.src=t,this.g={},this.h=0}function dt(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=k(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ot(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ft(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}ht.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ft(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new st(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};var pt="closure_lm_"+(1e6*Math.random()|0),gt={};function mt(t,e,n,r,i){if(r&&r.once)return bt(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)mt(t,e[s],n,r,i);return null}return n=St(n),t&&t[rt]?t.N(e,n,g(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=g(i)?!!i.capture:!!i,a=Et(t);if(a||(t[pt]=a=new ht(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=vt(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)D||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vt(){function t(n){return e.call(t.src,t.listener,n)}const e=It;return t}function bt(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)bt(t,e[s],n,r,i);return null}return n=St(n),t&&t[rt]?t.O(e,n,g(r)?!!r.capture:!!r,i):yt(t,e,n,!0,r,i)}function wt(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)wt(t,e[s],n,r,i);else r=g(r)?!!r.capture:!!r,n=St(n),t&&t[rt]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ft(s,n,r,i),-1<n&&(ot(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=Et(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ft(e,n,r,i)),(n=-1<t?e[t]:null)&&_t(n))}function _t(t){if("number"!==typeof t&&t&&!t.ba){var e=t.src;if(e&&e[rt])dt(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Et(e))?(dt(n,t),0==n.h&&(n.src=null,e[pt]=null)):ot(t)}}}function xt(t){return t in gt?gt[t]:gt[t]="on"+t}function It(t,e){if(t.ba)t=!0;else{e=new et(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&_t(t),t=n.call(r,e)}return t}function Et(t){return t=t[pt],t instanceof ht?t:null}var Tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"===typeof t?t:(t[Tt]||(t[Tt]=function(e){return t.handleEvent(e)}),t[Tt])}function kt(){E.call(this),this.i=new ht(this),this.P=this,this.I=null}function Ct(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"===typeof e)e=new O(e,t);else if(e instanceof O)e.target=e.target||t;else{var i=e;e=new O(r,t),lt(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=At(o,r,!0,e)&&i}if(o=e.g=t,i=At(o,r,!0,e)&&i,i=At(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=At(o,r,!1,e)&&i}function At(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,c=o.ha||o.src;o.ea&&dt(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}I(kt,E),kt.prototype[rt]=!0,kt.prototype.removeEventListener=function(t,e,n,r){wt(this,t,e,n,r)},kt.prototype.M=function(){if(kt.X.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ot(n[r]);delete e.g[t],e.h--}}this.I=null},kt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ot=d.JSON.stringify;function Dt(){var t=Vt;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Rt{constructor(){this.h=this.g=null}add(t,e){const n=Nt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}}var Pt,Nt=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Mt),(t=>t.reset()));class Mt{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Lt(t){d.setTimeout((()=>{throw t}),0)}function Ft(t,e){Pt||jt(),Bt||(Pt(),Bt=!0),Vt.add(t,e)}function jt(){var t=d.Promise.resolve(void 0);Pt=function(){t.then(Ut)}}var Bt=!1,Vt=new Rt;function Ut(){for(var t;t=Dt();){try{t.h.call(t.g)}catch(n){Lt(n)}var e=Nt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bt=!1}function $t(t,e){kt.call(this),this.h=t||1,this.g=e||d,this.j=_(this.kb,this),this.l=Date.now()}function zt(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function qt(t,e,n){if("function"===typeof t)n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:d.setTimeout(t,e||0)}function Ht(t){t.g=qt((()=>{t.g=null,t.i&&(t.i=!1,Ht(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}I($t,kt),r=$t.prototype,r.ca=!1,r.R=null,r.kb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ct(this,"tick"),this.ca&&(zt(this),this.start()))}},r.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){$t.X.M.call(this),zt(this),delete this.g};class Wt extends E{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Ht(this)}M(){super.M(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gt(t){E.call(this),this.h=t,this.g={}}I(Gt,E);var Kt=[];function Yt(t,e,n,r){Array.isArray(n)||(n&&(Kt[0]=n.toString()),n=Kt);for(var i=0;i<n.length;i++){var s=mt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Qt(t){at(t.g,(function(t,e){this.g.hasOwnProperty(e)&&_t(t)}),t),t.g={}}function Jt(){this.g=!0}function Xt(t,e,n,r,i,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}function Zt(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}function te(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+ne(t,n)+(r?" "+r:"")}))}function ee(t,e){t.info((function(){return"TIMEOUT: "+e}))}function ne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ot(n)}catch(a){return e}}Gt.prototype.M=function(){Gt.X.M.call(this),Qt(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jt.prototype.Aa=function(){this.g=!1},Jt.prototype.info=function(){};var re={},ie=null;function se(){return ie=ie||new kt}function oe(t){O.call(this,re.Oa,t)}function ae(t){const e=se();Ct(e,new oe(e,t))}function ce(t,e){O.call(this,re.STAT_EVENT,t),this.stat=e}function ue(t){const e=se();Ct(e,new ce(e,t))}function le(t,e){O.call(this,re.Pa,t),this.size=e}function he(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){t()}),e)}re.Oa="serverreachability",I(oe,O),re.STAT_EVENT="statevent",I(ce,O),re.Pa="timingevent",I(le,O);var de={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},fe={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function pe(){}function ge(t){return t.h||(t.h=t.i())}function me(){}pe.prototype.h=null;var ye,ve={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function be(){O.call(this,"d")}function we(){O.call(this,"c")}function _e(){}function xe(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Gt(this),this.O=Ee,t=z?125:void 0,this.T=new $t(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}I(be,O),I(we,O),I(_e,pe),_e.prototype.g=function(){return new XMLHttpRequest},_e.prototype.i=function(){return{}},ye=new _e;var Ee=45e3,Te={},Se={};function ke(t,e,n){t.K=1,t.v=Ye(qe(e)),t.s=n,t.P=!0,Ce(t,null)}function Ce(t,e){t.F=Date.now(),Re(t),t.A=qe(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),un(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Ie,t.g=fr(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Wt(_(t.Ka,t,t.g),t.N)),Yt(t.S,t.g,"readystatechange",t.hb),e=t.H?ct(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),ae(1),Xt(t.j,t.u,t.A,t.m,t.U,t.s)}function Ae(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Da)}function Oe(t,e,n){let r,i=!0;for(;!t.I&&t.C<n.length;){if(r=De(t,n),r==Se){4==e&&(t.o=4,ue(14),i=!1),te(t.j,t.m,null,"[Incomplete Response]");break}if(r==Te){t.o=4,ue(15),te(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}te(t.j,t.m,r,null),Fe(t,r)}Ae(t)&&r!=Se&&r!=Te&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ue(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),sr(e),e.K=!0,ue(11))):(te(t.j,t.m,n,"[Invalid Chunked Response]"),Le(t),Me(t))}function De(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Se:(n=Number(e.substring(n,r)),isNaN(n)?Te:(r+=1,r+n>e.length?Se:(e=e.substr(r,n),t.C=r+n,e)))}function Re(t){t.V=Date.now()+t.O,Pe(t,t.O)}function Pe(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=he(_(t.fb,t),e)}function Ne(t){t.B&&(d.clearTimeout(t.B),t.B=null)}function Me(t){0==t.l.G||t.I||cr(t.l,t)}function Le(t){Ne(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,zt(t.T),Qt(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Fe(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||yn(n.h,t)))if(!t.J&&yn(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;ar(n),Qn(n)}ir(n),ue(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=he(_(n.bb,n),6e3));if(1>=mn(n.h)&&n.ja){try{n.ja()}catch(u){}n.ja=void 0}}else lr(n,11)}else if((t.J||n.g==t)&&ar(n),!R(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.I=u[1],n.ka=u[2];const e=u[3];null!=e&&(n.ma=e,n.j.info("VER="+n.ma));const i=u[4];null!=i&&(n.Ca=i,n.j.info("SVER="+n.Ca));const l=u[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(vn(s,s.h),s.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.za=t,Ke(r.F,r.D,t))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=dr(r,r.H?r.ka:null,r.V),o.J){bn(r.h,o);var a=o,c=r.J;c&&a.setTimeout(c),a.B&&(Ne(a),Re(a)),r.g=o}else rr(r);0<n.i.length&&Xn(n)}else"stop"!=u[0]&&"close"!=u[0]||lr(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?lr(n,7):Yn(n):"noop"!=u[0]&&n.l&&n.l.wa(u),n.A=0)}ae(4)}catch(u){}}function je(t){if(t.W&&"function"==typeof t.W)return t.W();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Be(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(p(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Ve(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=Be(t),r=je(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}r=xe.prototype,r.setTimeout=function(t){this.O=t},r.hb=function(t){t=t.target;const e=this.L;e&&3==zn(t)?e.l():this.Ka(t)},r.Ka=function(t){try{if(t==this.g)t:{const l=zn(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>l)&&(3!=l||z||this.g&&(this.h.h||this.g.fa()||qn(this.g)))){this.I||4!=l||7==e||ae(8==e||0>=h?3:2),Ne(this);var n=this.g.aa();this.Y=n;e:if(Ae(this)){var r=qn(this.g);t="";var i=r.length,s=4==zn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Le(this),Me(this);var o="";break e}this.h.i=new d.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,Zt(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){e:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(a)){var u=a;break e}}u=null}if(!(n=u)){this.i=!1,this.o=3,ue(12),Le(this),Me(this);break t}te(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fe(this,n)}this.P?(Oe(this,l,o),z&&this.i&&3==l&&(Yt(this.S,this.T,"tick",this.gb),this.T.start())):(te(this.j,this.m,o,null),Fe(this,o)),4==l&&Le(this),this.i&&!this.I&&(4==l?cr(this.l,this):(this.i=!1,Re(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ue(12)):(this.o=0,ue(13)),Le(this),Me(this)}}}catch(l){}},r.gb=function(){if(this.g){var t=zn(this.g),e=this.g.fa();this.C<e.length&&(Ne(this),Oe(this,t,e),this.i&&4!=t&&Re(this))}},r.cancel=function(){this.I=!0,Le(this)},r.fb=function(){this.B=null;const t=Date.now();0<=t-this.V?(ee(this.j,this.A),2!=this.K&&(ae(3),ue(17)),Le(this),this.o=2,Me(this)):Pe(this,this.V-t)};var Ue=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $e(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ze(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ze){this.h=void 0!==e?e:t.h,He(this,t.j),this.s=t.s,this.g=t.g,We(this,t.m),this.l=t.l,e=t.i;var n=new sn;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ge(this,n),this.o=t.o}else t&&(n=String(t).match(Ue))?(this.h=!!e,He(this,n[1]||"",!0),this.s=Qe(n[2]||""),this.g=Qe(n[3]||"",!0),We(this,n[4]),this.l=Qe(n[5]||"",!0),Ge(this,n[6]||"",!0),this.o=Qe(n[7]||"")):(this.h=!!e,this.i=new sn(null,this.h))}function qe(t){return new ze(t)}function He(t,e,n){t.j=n?Qe(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function We(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ge(t,e,n){e instanceof sn?(t.i=e,hn(t.i,t.h)):(n||(e=Je(e,nn)),t.i=new sn(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function Ye(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Je(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Xe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Xe(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}ze.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Je(e,Ze,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Je(e,Ze,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Je(n,"/"==n.charAt(0)?en:tn,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Je(n,rn)),t.join("")};var Ze=/[#\/\?@]/g,tn=/[#\?:]/g,en=/[#\?]/g,nn=/[#\?@]/g,rn=/#/g;function sn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function on(t){t.g||(t.g=new Map,t.h=0,t.i&&$e(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function an(t,e){on(t),e=ln(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function cn(t,e){return on(t),e=ln(t,e),t.g.has(e)}function un(t,e,n){an(t,e),0<n.length&&(t.i=null,t.g.set(ln(t,e),C(n)),t.h+=n.length)}function ln(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function hn(t,e){e&&!t.j&&(on(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(an(this,e),un(this,n,t))}),t)),t.j=e}r=sn.prototype,r.add=function(t,e){on(this),this.i=null,t=ln(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},r.forEach=function(t,e){on(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},r.oa=function(){on(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},r.W=function(t){on(this);let e=[];if("string"===typeof t)cn(this,t)&&(e=e.concat(this.g.get(ln(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},r.set=function(t,e){return on(this),this.i=null,t=ln(this,t),cn(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},r.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var dn=class{constructor(t,e){this.h=t,this.g=e}};function fn(t){this.l=t||pn,d.PerformanceNavigationTiming?(t=d.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(d.g&&d.g.Ga&&d.g.Ga()&&d.g.Ga().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pn=10;function gn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function mn(t){return t.h?1:t.g?t.g.size:0}function yn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function vn(t,e){t.g?t.g.add(e):t.h=e}function bn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function wn(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return C(t.i)}function _n(){}function xn(){this.g=new _n}function In(t,e,n){const r=n||"";try{Ve(t,(function(t,n){let i=t;g(t)&&(i=Ot(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function En(t,e){const n=new Jt;if(d.Image){const r=new Image;r.onload=x(Tn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=x(Tn,n,r,"TestLoadImage: error",!1,e),r.onabort=x(Tn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=x(Tn,n,r,"TestLoadImage: timeout",!1,e),d.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}function Tn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Sn(t){this.l=t.$b||null,this.j=t.ib||!1}function kn(t,e){kt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Cn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fn.prototype.cancel=function(){if(this.i=wn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},_n.prototype.stringify=function(t){return d.JSON.stringify(t,void 0)},_n.prototype.parse=function(t){return d.JSON.parse(t,void 0)},I(Sn,pe),Sn.prototype.g=function(){return new kn(this.l,this.j)},Sn.prototype.i=function(t){return function(){return t}}({}),I(kn,kt);var Cn=0;function An(t){t.j.read().then(t.Sa.bind(t)).catch(t.ga.bind(t))}function On(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Dn(t)}function Dn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}r=kn.prototype,r.open=function(t,e){if(this.readyState!=Cn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Dn(this)},r.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||d).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,On(this)),this.readyState=Cn},r.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if("undefined"!==typeof d.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;An(this)}else t.text().then(this.Ua.bind(this),this.ga.bind(this))},r.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?On(this):Dn(this),3==this.readyState&&An(this)}},r.Ua=function(t){this.g&&(this.response=this.responseText=t,On(this))},r.Ta=function(t){this.g&&(this.response=t,On(this))},r.ga=function(){this.g&&On(this)},r.setRequestHeader=function(t,e){this.v.append(t,e)},r.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(kn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Rn=d.JSON.parse;function Pn(t){kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Nn,this.K=this.L=!1}I(Pn,kt);var Nn="",Mn=/^https?$/i,Ln=["POST","PUT"];function Fn(t){return U&&X()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function jn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Bn(t),Un(t)}function Bn(t){t.D||(t.D=!0,Ct(t,"complete"),Ct(t,"error"))}function Vn(t){if(t.h&&"undefined"!=typeof h&&(!t.C[1]||4!=zn(t)||2!=t.aa()))if(t.v&&4==zn(t))qt(t.Ha,0,t);else if(Ct(t,"readystatechange"),4==zn(t)){t.h=!1;try{const c=t.aa();t:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===c){var i=String(t.H).match(Ue)[1]||null;if(!i&&d.self&&d.self.location){var s=d.self.location.protocol;i=s.substr(0,s.length-1)}r=!Mn.test(i?i.toLowerCase():"")}n=r}if(n)Ct(t,"complete"),Ct(t,"success");else{t.m=6;try{var o=2<zn(t)?t.g.statusText:""}catch(a){o=""}t.j=o+" ["+t.aa()+"]",Bn(t)}}finally{Un(t)}}}function Un(t,e){if(t.g){$n(t);const r=t.g,i=t.C[0]?f:null;t.g=null,t.C=null,e||Ct(t,"ready");try{r.onreadystatechange=i}catch(n){}}}function $n(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(d.clearTimeout(t.A),t.A=null)}function zn(t){return t.g?t.g.readyState:0}function qn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Nn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(Or){return null}}function Hn(t){let e="";return at(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Wn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Hn(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Ke(t,e,n))}function Gn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Kn(t){this.Ca=0,this.i=[],this.j=new Jt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Gn("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Gn("baseRetryDelayMs",5e3,t),this.ab=Gn("retryDelaySeedMs",1e4,t),this.Za=Gn("forwardChannelMaxRetries",2,t),this.ta=Gn("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Yb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new fn(t&&t.concurrentRequestLimit),this.Fa=new xn,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=t&&t.Wb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Yn(t){if(Jn(t),3==t.G){var e=t.U++,n=qe(t.F);Ke(n,"SID",t.I),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),er(t,n),e=new xe(t,t.j,e,void 0),e.K=2,e.v=Ye(qe(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(e.v.toString(),"")),!n&&d.Image&&((new Image).src=e.v,n=!0),n||(e.g=fr(e.l,null),e.g.da(e.v)),e.F=Date.now(),Re(e)}hr(t)}function Qn(t){t.g&&(sr(t),t.g.cancel(),t.g=null)}function Jn(t){Qn(t),t.u&&(d.clearTimeout(t.u),t.u=null),ar(t),t.h.cancel(),t.m&&("number"===typeof t.m&&d.clearTimeout(t.m),t.m=null)}function Xn(t){gn(t.h)||t.m||(t.m=!0,Ft(t.Ja,t),t.C=0)}function Zn(t,e){return!(mn(t.h)>=t.h.j-(t.m?1:0))&&(t.m?(t.i=e.D.concat(t.i),!0):!(1==t.G||2==t.G||t.C>=(t.Ya?0:t.Za))&&(t.m=he(_(t.Ja,t,e),ur(t,t.C)),t.C++,!0))}function tr(t,e){var n;n=e?e.m:t.U++;const r=qe(t.F);Ke(r,"SID",t.I),Ke(r,"RID",n),Ke(r,"AID",t.T),er(t,r),t.o&&t.s&&Wn(r,t.o,t.s),n=new xe(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=nr(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),vn(t.h,n),ke(n,r,e)}function er(t,e){t.ia&&at(t.ia,(function(t,n){Ke(e,n,t)})),t.l&&Ve({},(function(t,n){Ke(e,n,t)}))}function nr(t,e,n){n=Math.min(t.i.length,n);var r=t.l?_(t.l.Qa,t.l,t):null;t:{var i=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=e,0>n)e=Math.max(0,i[o].h-100),s=!1;else try{In(a,t,"req"+n+"_")}catch($r){r&&r(a)}}if(s){r=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,r}function rr(t){t.g||t.u||(t.Z=1,Ft(t.Ia,t),t.A=0)}function ir(t){return!(t.g||t.u||3<=t.A)&&(t.Z++,t.u=he(_(t.Ia,t),ur(t,t.A)),t.A++,!0)}function sr(t){null!=t.B&&(d.clearTimeout(t.B),t.B=null)}function or(t){t.g=new xe(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=qe(t.sa);Ke(e,"RID","rpc"),Ke(e,"SID",t.I),Ke(e,"CI",t.L?"0":"1"),Ke(e,"AID",t.T),Ke(e,"TYPE","xmlhttp"),er(t,e),t.o&&t.s&&Wn(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Ye(qe(e)),n.s=null,n.P=!0,Ce(n,t)}function ar(t){null!=t.v&&(d.clearTimeout(t.v),t.v=null)}function cr(t,e){var n=null;if(t.g==e){ar(t),sr(t),t.g=null;var r=2}else{if(!yn(t.h,e))return;n=e.D,bn(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=se(),Ct(r,new le(r,n,e,i)),Xn(t)}else rr(t);else if(i=e.o,3==i||0==i&&0<t.pa||!(1==r&&Zn(t,e)||2==r&&ir(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:lr(t,5);break;case 4:lr(t,10);break;case 3:lr(t,6);break;default:lr(t,2)}}function ur(t,e){let n=t.Wa+Math.floor(Math.random()*t.ab);return t.l||(n*=2),n*e}function lr(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=_(t.jb,t);n||(n=new ze("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||He(n,"https"),Ye(n)),En(n.toString(),r)}else ue(2);t.G=0,t.l&&t.l.va(e),hr(t),Jn(t)}function hr(t){if(t.G=0,t.la=[],t.l){const e=wn(t.h);0==e.length&&0==t.i.length||(A(t.la,e),A(t.la,t.i),t.h.i.length=0,C(t.i),t.i.length=0),t.l.ua()}}function dr(t,e,n){var r=n instanceof ze?qe(n):new ze(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),We(r,r.m);else{var i=d.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ze(null,void 0);r&&He(s,r),e&&(s.g=e),i&&We(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Ke(r,n,e),Ke(r,"VER",t.ma),er(t,r),r}function fr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Pn(new Sn({ib:!0})):new Pn(t.ra),e.L=t.H,e}function pr(){}function gr(){if(U&&!(10<=Number(tt)))throw Error("Environmental error: no available transport.")}function mr(t,e){kt.call(this),this.g=new Kn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Xb)&&!R(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!R(e)&&(this.g.D=e,t=this.h,null!==t&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new br(this)}function yr(t){be.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vr(){we.call(this),this.status=1}function br(t){this.g=t}r=Pn.prototype,r.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ye.g(),this.C=this.u?ge(this.u):ge(ye),this.g.onreadystatechange=_(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void jn(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),i=d.FormData&&t instanceof d.FormData,!(0<=k(Ln,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$n(this),0<this.B&&((this.K=Fn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_(this.qa,this)):this.A=qt(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){jn(this,s)}},r.qa=function(){"undefined"!=typeof h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ct(this,"timeout"),this.abort(8))},r.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ct(this,"complete"),Ct(this,"abort"),Un(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Un(this,!0)),Pn.X.M.call(this)},r.Ha=function(){this.s||(this.F||this.v||this.l?Vn(this):this.eb())},r.eb=function(){Vn(this)},r.aa=function(){try{return 2<zn(this)?this.g.status:-1}catch(t){return-1}},r.fa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},r.Ra=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Rn(e)}},r.Ea=function(){return this.m},r.Na=function(){return"string"===typeof this.j?this.j:String(this.j)},r=Kn.prototype,r.ma=8,r.G=1,r.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new xe(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=ct(s),lt(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)t:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(r="__data__"in r.g&&(r=r.g.__data__,"string"===typeof r)?r.length:void 0,void 0===r)break;if(e+=r,4096<e){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=nr(this,i,e),n=qe(this.F),Ke(n,"RID",t),Ke(n,"CVER",22),this.D&&Ke(n,"X-HTTP-Session-Id",this.D),er(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(Hn(s)))+"&"+e:this.o&&Wn(n,this.o,s)),vn(this.h,i),this.Xa&&Ke(n,"TYPE","init"),this.O?(Ke(n,"$req",e),Ke(n,"SID","null"),i.Z=!0,ke(i,n,null)):ke(i,n,e),this.G=2}}else 3==this.G&&(t?tr(this,t):0==this.i.length||gn(this.h)||tr(this))},r.Ia=function(){if(this.u=null,or(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=he(_(this.cb,this),t)}},r.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ue(10),Qn(this),or(this))},r.bb=function(){null!=this.v&&(this.v=null,Qn(this),ir(this),ue(19))},r.jb=function(t){t?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))},r=pr.prototype,r.xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Qa=function(){},gr.prototype.g=function(t,e){return new mr(t,e)},I(mr,kt),mr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;ue(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=dr(t,null,t.V),Xn(t)},mr.prototype.close=function(){Yn(this.g)},mr.prototype.u=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ot(t),t=n);e.i.push(new dn(e.$a++,t)),3==e.G&&Xn(e)},mr.prototype.M=function(){this.g.l=null,delete this.j,Yn(this.g),delete this.g,mr.X.M.call(this)},I(yr,be),I(vr,we),I(br,pr),br.prototype.xa=function(){Ct(this.g,"a")},br.prototype.wa=function(t){Ct(this.g,new yr(t))},br.prototype.va=function(t){Ct(this.g,new vr(t))},br.prototype.ua=function(){Ct(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,mr.prototype.send=mr.prototype.u,mr.prototype.open=mr.prototype.m,mr.prototype.close=mr.prototype.close,de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,fe.COMPLETE="complete",me.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",kt.prototype.listen=kt.prototype.N,Pn.prototype.listenOnce=Pn.prototype.O,Pn.prototype.getLastError=Pn.prototype.Na,Pn.prototype.getLastErrorCode=Pn.prototype.Ea,Pn.prototype.getStatus=Pn.prototype.aa,Pn.prototype.getResponseJson=Pn.prototype.Ra,Pn.prototype.getResponseText=Pn.prototype.fa,Pn.prototype.send=Pn.prototype.da;var wr=l.createWebChannelTransport=function(){return new gr},_r=l.getStatEventTarget=function(){return se()},xr=l.ErrorCode=de,Ir=l.EventType=fe,Er=l.Event=re,Tr=l.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Sr=l.FetchXmlHttpFactory=Sn,kr=l.WebChannel=me,Cr=l.XhrIo=Pn;const Ar="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Dr="9.10.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new a.Yd("@firebase/firestore");function Pr(){return Rr.logLevel}function Nr(t){Rr.setLogLevel(t)}function Mr(t,...e){if(Rr.logLevel<=a["in"].DEBUG){const n=e.map(jr);Rr.debug(`Firestore (${Dr}): ${t}`,...n)}}function Lr(t,...e){if(Rr.logLevel<=a["in"].ERROR){const n=e.map(jr);Rr.error(`Firestore (${Dr}): ${t}`,...n)}}function Fr(t,...e){if(Rr.logLevel<=a["in"].WARN){const n=e.map(jr);Rr.warn(`Firestore (${Dr}): ${t}`,...n)}}function jr(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t="Unexpected state"){const e=`FIRESTORE (${Dr}) INTERNAL ASSERTION FAILED: `+t;throw Lr(e),new Error(e)}function Vr(t,e){t||Br()}function Ur(t,e){t||Br()}function $r(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qr extends c.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Gr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Or.UNAUTHENTICATED)))}shutdown(){}}class Kr{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Yr{constructor(t){this.t=t,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hr,t.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},o=t=>{Mr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Mr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hr)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Mr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Vr("string"==typeof e.accessToken),new Wr(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Vr(null===t||"string"==typeof t),new Or(t)}}class Qr{constructor(t,e,n,r){this.h=t,this.l=e,this.m=n,this.g=r,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Vr(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Jr{constructor(t,e,n,r){this.h=t,this.l=e,this.m=n,this.g=r}getToken(){return Promise.resolve(new Qr(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable((()=>e(Or.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xr{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zr{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const n=t=>{null!=t.error&&Mr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.A;return this.A=t.token,Mr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{Mr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.T.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.T.getImmediate({optional:!0});t?r(t):Mr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Vr("string"==typeof t.token),this.A=t.token,new Xr(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ti(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=ti(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length))}return n}}function ni(t,e){return t<e?-1:t>e?1:0}function ri(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}function ii(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new qr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new qr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new qr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new qr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return si.fromMillis(Date.now())}static fromDate(t){return si.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new si(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ni(this.nanoseconds,t.nanoseconds):ni(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this.timestamp=t}static fromTimestamp(t){return new oi(t)}static min(){return new oi(new si(0,0))}static max(){return new oi(new si(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t,e,n){void 0===e?e=0:e>t.length&&Br(),void 0===n?n=t.length-e:n>t.length-e&&Br(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===ai.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ci extends ai{construct(t,e,n){return new ci(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new qr(zr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new ci(e)}static emptyPath(){return new ci([])}}const ui=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class li extends ai{construct(t,e,n){return new li(t,e,n)}static isValidIdentifier(t){return ui.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),li.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new li(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new qr(zr.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new qr(zr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new qr(zr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new qr(zr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new li(e)}static emptyPath(){return new li([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this.path=t}static fromPath(t){return new hi(ci.fromString(t))}static fromName(t){return new hi(ci.fromString(t).popFirst(5))}static empty(){return new hi(ci.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ci.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ci.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new hi(new ci(t.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}function fi(t){return t.fields.find((t=>2===t.kind))}function pi(t){return t.fields.filter((t=>2!==t.kind))}di.UNKNOWN_ID=-1;class gi{constructor(t,e){this.fieldPath=t,this.kind=e}}class mi{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new mi(0,bi.min())}}function yi(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oi.fromTimestamp(1e9===r?new si(n+1,0):new si(n,r));return new bi(i,hi.empty(),e)}function vi(t){return new bi(t.readTime,t.key,-1)}class bi{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new bi(oi.min(),hi.empty(),-1)}static max(){return new bi(oi.max(),hi.empty(),-1)}}function wi(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=hi.comparator(t.documentKey,e.documentKey),0!==n?n:ni(t.largestBatchId,e.largestBatchId))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ii(t){if(t.code!==zr.FAILED_PRECONDITION||t.message!==_i)throw t;Mr("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Br(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ei(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Ei?e:Ei.resolve(e)}catch(t){return Ei.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Ei.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Ei.reject(e)}static resolve(t){return new Ei(((e,n)=>{e(t)}))}static reject(t){return new Ei(((e,n)=>{n(t)}))}static waitFor(t){return new Ei(((e,n)=>{let r=0,i=0,s=!1;t.forEach((t=>{++r,t.next((()=>{++i,s&&i===r&&e()}),(t=>n(t)))})),s=!0,i===r&&e()}))}static or(t){let e=Ei.resolve(!1);for(const n of t)e=e.next((t=>t?Ei.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new Ei(((n,r)=>{const i=t.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;e(t[c]).next((t=>{s[c]=t,++o,o===i&&n(s)}),(t=>r(t)))}}))}static doWhile(t,e){return new Ei(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Hr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new Ci(t,e.error)):this.P.resolve()},this.transaction.onerror=e=>{const n=Pi(e.target.error);this.P.reject(new Ci(t,n))}}static open(t,e,n,r){try{return new Ti(e,t.transaction(r,n))}catch(t){throw new Ci(e,t)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Mr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Oi(e)}}class Si{constructor(t,e,n){this.name=t,this.version=e,this.S=n,12.2===Si.D((0,c.z$)())&&Lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Mr("SimpleDb","Removing database:",t),Di(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,c.hl)())return!1;if(Si.N())return!0;const t=(0,c.z$)(),e=Si.D(t),n=0<e&&e<10,r=Si.k(t),i=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||i)}static N(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",BASE_URL:"/"})||void 0===t?void 0:t.M)}static O(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static k(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async F(t){return this.db||(Mr("SimpleDb","Opening database:",this.name),this.db=await new Promise(((e,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=t=>{const n=t.target.result;e(n)},r.onblocked=()=>{n(new Ci(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=e=>{const r=e.target.error;"VersionError"===r.name?n(new qr(zr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new qr(zr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Ci(t,r))},r.onupgradeneeded=t=>{Mr("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',t.oldVersion);const e=t.target.result;this.S.$(e,r.transaction,t.oldVersion,this.version).next((()=>{Mr("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=t=>this.B(t)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,n,r){const i="readonly"===e;let s=0;for(;;){++s;try{this.db=await this.F(t);const e=Ti.open(this.db,t,i?"readonly":"readwrite",n),s=r(e).next((t=>(e.V(),t))).catch((t=>(e.abort(t),Ei.reject(t)))).toPromise();return s.catch((()=>{})),await e.v,s}catch(t){const e=t,n="FirebaseError"!==e.name&&s<3;if(Mr("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),this.close(),!n)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ki{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return Di(this.U.delete())}}class Ci extends qr{constructor(t,e){super(zr.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Ai(t){return"IndexedDbTransactionError"===t.name}class Oi{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(Mr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Mr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Di(n)}add(t){return Mr("SimpleDb","ADD",this.store.name,t,t),Di(this.store.add(t))}get(t){return Di(this.store.get(t)).next((e=>(void 0===e&&(e=null),Mr("SimpleDb","GET",this.store.name,t,e),e)))}delete(t){return Mr("SimpleDb","DELETE",this.store.name,t),Di(this.store.delete(t))}count(){return Mr("SimpleDb","COUNT",this.store.name),Di(this.store.count())}W(t,e){const n=this.options(t,e);if(n.index||"function"!=typeof this.store.getAll){const t=this.cursor(n),e=[];return this.H(t,((t,n)=>{e.push(n)})).next((()=>e))}{const t=this.store.getAll(n.range);return new Ei(((e,n)=>{t.onerror=t=>{n(t.target.error)},t.onsuccess=t=>{e(t.target.result)}}))}}J(t,e){const n=this.store.getAll(t,null===e?void 0:e);return new Ei(((t,e)=>{n.onerror=t=>{e(t.target.error)},n.onsuccess=e=>{t(e.target.result)}}))}Y(t,e){Mr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.X=!1;const r=this.cursor(n);return this.H(r,((t,e,n)=>n.delete()))}Z(t,e){let n;e?n=t:(n={},e=t);const r=this.cursor(n);return this.H(r,e)}tt(t){const e=this.cursor({});return new Ei(((n,r)=>{e.onerror=t=>{const e=Pi(t.target.error);r(e)},e.onsuccess=e=>{const r=e.target.result;r?t(r.primaryKey,r.value).next((t=>{t?r.continue():n()})):n()}}))}H(t,e){const n=[];return new Ei(((r,i)=>{t.onerror=t=>{i(t.target.error)},t.onsuccess=t=>{const i=t.target.result;if(!i)return void r();const s=new ki(i),o=e(i.primaryKey,i.value,s);if(o instanceof Ei){const t=o.catch((t=>(s.done(),Ei.reject(t))));n.push(t)}s.isDone?r():null===s.G?i.continue():i.continue(s.G)}})).next((()=>Ei.waitFor(n)))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.X?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Di(t){return new Ei(((e,n)=>{t.onsuccess=t=>{const n=t.target.result;e(n)},t.onerror=t=>{const e=Pi(t.target.error);n(e)}}))}let Ri=!1;function Pi(t){const e=Si.D((0,c.z$)());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new qr("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ri||(Ri=!0,setTimeout((()=>{throw t}),0)),t}}return t}class Ni{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){Mr("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{Mr("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(t){Ai(t)?Mr("IndexBackiller","Ignoring IndexedDB error during index backfill: ",t):await Ii(t)}await this.nt(6e4)}))}}class Mi{constructor(t,e){this.localStore=t,this.persistence=e}async st(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.it(e,t)))}it(t,e){const n=new Set;let r=e,i=!0;return Ei.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((e=>{if(null!==e&&!n.has(e))return Mr("IndexBackiller",`Processing collection: ${e}`),this.rt(t,e,r).next((t=>{r-=t,n.add(e)}));i=!1})))).next((()=>e-r))}rt(t,e,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((r=>this.localStore.localDocuments.getNextDocuments(t,e,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(t,i).next((()=>this.ot(r,n))).next((n=>(Mr("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(t,e,n)))).next((()=>i.size))}))))}ot(t,e){let n=t;return e.changes.forEach(((t,e)=>{const r=vi(e);wi(r,n)>0&&(n=r)})),new bi(n.readTime,n.documentKey,Math.max(e.batchId,t.largestBatchId))}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ut(t),this.ct=t=>e.writeSequenceNumber(t))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Bi(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li.at=-1;class Vi{constructor(t,e){this.comparator=t,this.root=e||$i.EMPTY}insert(t,e){return new Vi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(t){return new Vi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$i.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ui(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ui(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ui(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ui(this.root,t,this.comparator,!0)}}class Ui{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $i{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:$i.RED,this.left=null!=r?r:$i.EMPTY,this.right=null!=i?i:$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new $i(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return $i.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Br();if(this.right.isRed())throw Br();const t=this.left.check();if(t!==this.right.check())throw Br();return t+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1,$i.EMPTY=new class{constructor(){this.size=0}get key(){throw Br()}get value(){throw Br()}get color(){throw Br()}get left(){throw Br()}get right(){throw Br()}copy(t,e,n,r,i){return this}insert(t,e,n){return new $i(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zi{constructor(t){this.comparator=t,this.data=new Vi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new qi(this.data.getIterator())}getIteratorFrom(t){return new qi(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof zi))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new zi(this.comparator);return e.data=t,e}}class qi{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hi(t){return t.hasNext()?t.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t){this.fields=t,t.sort(li.comparator)}static empty(){return new Wi([])}unionWith(t){let e=new zi(li.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Wi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ri(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Ki(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Ki(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ni(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ki.EMPTY_BYTE_STRING=new Ki("");const Yi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(t){if(Vr(!!t),"string"==typeof t){let e=0;const n=Yi.exec(t);if(Vr(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ji(t.seconds),nanos:Ji(t.nanos)}}function Ji(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Xi(t){return"string"==typeof t?Ki.fromBase64String(t):Ki.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ts(t){const e=t.mapValue.fields.__previous_value__;return Zi(e)?ts(e):e}function es(t){const e=Qi(t.mapValue.fields.__local_write_time__.timestampValue);return new si(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class rs{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new rs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof rs&&t.projectId===this.projectId&&t.database===this.database}}function is(t){return null==t}function ss(t){return 0===t&&1/t==-1/0}function os(t){return"number"==typeof t&&Number.isInteger(t)&&!ss(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cs={nullValue:"NULL_VALUE"};function us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zi(t)?4:Is(t)?9007199254740991:10:Br()}function ls(t,e){if(t===e)return!0;const n=us(t);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return es(t).isEqual(es(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Qi(t.timestampValue),r=Qi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Xi(t.bytesValue).isEqual(Xi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ji(t.geoPointValue.latitude)===Ji(e.geoPointValue.latitude)&&Ji(t.geoPointValue.longitude)===Ji(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ji(t.integerValue)===Ji(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=Ji(t.doubleValue),r=Ji(e.doubleValue);return n===r?ss(n)===ss(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ri(t.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Fi(n)!==Fi(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ls(n[i],r[i])))return!1;return!0}(t,e);default:return Br()}}function hs(t,e){return void 0!==(t.values||[]).find((t=>ls(t,e)))}function ds(t,e){if(t===e)return 0;const n=us(t),r=us(e);if(n!==r)return ni(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ni(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=Ji(t.integerValue||t.doubleValue),r=Ji(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return fs(t.timestampValue,e.timestampValue);case 4:return fs(es(t),es(e));case 5:return ni(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Xi(t),r=Xi(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=ni(n[i],r[i]);if(0!==t)return t}return ni(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=ni(Ji(t.latitude),Ji(e.latitude));return 0!==n?n:ni(Ji(t.longitude),Ji(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=ds(n[i],r[i]);if(t)return t}return ni(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===as.mapValue&&e===as.mapValue)return 0;if(t===as.mapValue)return 1;if(e===as.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const t=ni(r[o],s[o]);if(0!==t)return t;const e=ds(n[r[o]],i[s[o]]);if(0!==e)return e}return ni(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Br()}}function fs(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ni(t,e);const n=Qi(t),r=Qi(e),i=ni(n.seconds,r.seconds);return 0!==i?i:ni(n.nanos,r.nanos)}function ps(t){return gs(t)}function gs(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Qi(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Xi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,hi.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=gs(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${gs(t.fields[i])}`;return n+"}"}(t.mapValue):Br();var e,n}function ms(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ys(t){return!!t&&"integerValue"in t}function vs(t){return!!t&&"arrayValue"in t}function bs(t){return!!t&&"nullValue"in t}function ws(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _s(t){return!!t&&"mapValue"in t}function xs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ji(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=xs(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Is(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function Es(t){return"nullValue"in t?cs:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ms(rs.empty(),hi.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Br()}function Ts(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ms(rs.empty(),hi.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?as:Br()}function Ss(t,e){const n=ds(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function ks(t,e){const n=ds(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t){this.value=t}static empty(){return new Cs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!_s(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=xs(e)}setAll(t){let e=li.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=xs(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());_s(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ls(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];_s(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){ji(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new Cs(xs(this.value))}}function As(t){const e=[];return ji(t.fields,((t,n)=>{const r=new li([t]);if(_s(n)){const t=As(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new Wi(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Os{constructor(t,e,n,r,i,s){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.data=i,this.documentState=s}static newInvalidDocument(t){return new Os(t,0,oi.min(),oi.min(),Cs.empty(),0)}static newFoundDocument(t,e,n){return new Os(t,1,e,oi.min(),n,0)}static newNoDocument(t,e){return new Os(t,2,e,oi.min(),Cs.empty(),0)}static newUnknownDocument(t,e){return new Os(t,3,e,oi.min(),Cs.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oi.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Os&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Os(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,e=null,n=[],r=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ht=null}}function Rs(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ds(t,e,n,r,i,s,o)}function Ps(t){const e=$r(t);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>{return(e=t).field.canonicalString()+e.op.toString()+ps(e.value);var e})).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),is(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>ps(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>ps(t))).join(",")),e.ht=t}return e.ht}function Ns(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>{return`${(e=t).field.canonicalString()} ${e.op} ${ps(e.value)}`;var e})).join(", ")}]`),is(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>ps(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>ps(t))).join(",")),`Target(${e})`}function Ms(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Js(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!ls(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zs(t.startAt,e.startAt)&&Zs(t.endAt,e.endAt)}function Ls(t){return hi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Fs(t,e){return t.filters.filter((t=>t instanceof Vs&&t.field.isEqual(e)))}function js(t,e,n){let r=cs,i=!0;for(const s of Fs(t,e)){let t=cs,e=!0;switch(s.op){case"<":case"<=":t=Es(s.value);break;case"==":case"in":case">=":t=s.value;break;case">":t=s.value,e=!1;break;case"!=":case"not-in":t=cs}Ss({value:r,inclusive:i},{value:t,inclusive:e})<0&&(r=t,i=e)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const t=n.position[s];Ss({value:r,inclusive:i},{value:t,inclusive:n.inclusive})<0&&(r=t,i=n.inclusive);break}return{value:r,inclusive:i}}function Bs(t,e,n){let r=as,i=!0;for(const s of Fs(t,e)){let t=as,e=!0;switch(s.op){case">=":case">":t=Ts(s.value),e=!1;break;case"==":case"in":case"<=":t=s.value;break;case"<":t=s.value,e=!1;break;case"!=":case"not-in":t=as}ks({value:r,inclusive:i},{value:t,inclusive:e})>0&&(r=t,i=e)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const t=n.position[s];ks({value:r,inclusive:i},{value:t,inclusive:n.inclusive})>0&&(r=t,i=n.inclusive);break}return{value:r,inclusive:i}}class Vs extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,n):new Us(t,e,n):"array-contains"===e?new Hs(t,n):"in"===e?new Ws(t,n):"not-in"===e?new Gs(t,n):"array-contains-any"===e?new Ks(t,n):new Vs(t,e,n)}static lt(t,e,n){return"in"===e?new $s(t,n):new zs(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(ds(e,this.value)):null!==e&&us(this.value)===us(e)&&this.ft(ds(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Br()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Us extends Vs{constructor(t,e,n){super(t,e,n),this.key=hi.fromName(n.referenceValue)}matches(t){const e=hi.comparator(t.key,this.key);return this.ft(e)}}class $s extends Vs{constructor(t,e){super(t,"in",e),this.keys=qs("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class zs extends Vs{constructor(t,e){super(t,"not-in",e),this.keys=qs("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function qs(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>hi.fromName(t.referenceValue)))}class Hs extends Vs{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return vs(e)&&hs(e.arrayValue,this.value)}}class Ws extends Vs{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&hs(this.value.arrayValue,e)}}class Gs extends Vs{constructor(t,e){super(t,"not-in",e)}matches(t){if(hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!hs(this.value.arrayValue,e)}}class Ks extends Vs{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!vs(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>hs(this.value.arrayValue,t)))}}class Ys{constructor(t,e){this.position=t,this.inclusive=e}}class Qs{constructor(t,e="asc"){this.field=t,this.dir=e}}function Js(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Xs(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?hi.comparator(hi.fromName(o.referenceValue),n.key):ds(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Zs(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ls(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,e=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this._t=null,this.wt=null,this.startAt,this.endAt}}function eo(t,e,n,r,i,s,o,a){return new to(t,e,n,r,i,s,o,a)}function no(t){return new to(t)}function ro(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function io(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function so(t){for(const e of t.filters)if(e.dt())return e.field;return null}function oo(t){return null!==t.collectionGroup}function ao(t){const e=$r(t);if(null===e._t){e._t=[];const t=so(e),n=io(e);if(null!==t&&null===n)t.isKeyField()||e._t.push(new Qs(t)),e._t.push(new Qs(li.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e._t.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Qs(li.keyField(),t))}}}return e._t}function co(t){const e=$r(t);if(!e.wt)if("F"===e.limitType)e.wt=Rs(e.path,e.collectionGroup,ao(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const i of ao(e)){const e="desc"===i.dir?"asc":"desc";t.push(new Qs(i.field,e))}const n=e.endAt?new Ys(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ys(e.startAt.position,e.startAt.inclusive):null;e.wt=Rs(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e.wt}function uo(t,e,n){return new to(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lo(t,e){return Ms(co(t),co(e))&&t.limitType===e.limitType}function ho(t){return`${Ps(co(t))}|lt:${t.limitType}`}function fo(t){return`Query(target=${Ns(co(t))}; limitType=${t.limitType})`}function po(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):hi.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=Xs(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,ao(t),e))&&!(t.endAt&&!function(t,e,n){const r=Xs(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,ao(t),e))}(t,e)}function go(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mo(t){return(e,n)=>{let r=!1;for(const i of ao(t)){const t=yo(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function yo(t,e,n){const r=t.field.isKeyField()?hi.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ds(r,i):Br()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Br()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ss(e)?"-0":e}}function bo(t){return{integerValue:""+t}}function wo(t,e){return os(e)?bo(e):vo(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this._=void 0}}function xo(t,e,n){return t instanceof To?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof So?ko(t,e):t instanceof Co?Ao(t,e):function(t,e){const n=Eo(t,e),r=Do(n)+Do(t.yt);return ys(n)&&ys(t.yt)?bo(r):vo(t.It,r)}(t,e)}function Io(t,e,n){return t instanceof So?ko(t,e):t instanceof Co?Ao(t,e):n}function Eo(t,e){return t instanceof Oo?ys(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class To extends _o{}class So extends _o{constructor(t){super(),this.elements=t}}function ko(t,e){const n=Ro(e);for(const r of t.elements)n.some((t=>ls(t,r)))||n.push(r);return{arrayValue:{values:n}}}class Co extends _o{constructor(t){super(),this.elements=t}}function Ao(t,e){let n=Ro(e);for(const r of t.elements)n=n.filter((t=>!ls(t,r)));return{arrayValue:{values:n}}}class Oo extends _o{constructor(t,e){super(),this.It=t,this.yt=e}}function Do(t){return Ji(t.integerValue||t.doubleValue)}function Ro(t){return vs(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,e){this.field=t,this.transform=e}}function No(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof So&&e instanceof So||t instanceof Co&&e instanceof Co?ri(t.elements,e.elements,ls):t instanceof Oo&&e instanceof Oo?ls(t.yt,e.yt):t instanceof To&&e instanceof To}(t.transform,e.transform)}class Mo{constructor(t,e){this.version=t,this.transformResults=e}}class Lo{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Lo}static exists(t){return new Lo(void 0,t)}static updateTime(t){return new Lo(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class jo{}function Bo(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Yo(t.key,Lo.none()):new qo(t.key,t.data,Lo.none());{const n=t.data,r=Cs.empty();let i=new zi(li.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new Ho(t.key,r,new Wi(i.toArray()),Lo.none())}}function Vo(t,e,n){t instanceof qo?function(t,e,n){const r=t.value.clone(),i=Go(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Ho?function(t,e,n){if(!Fo(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=Go(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Wo(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Uo(t,e,n,r){return t instanceof qo?function(t,e,n,r){if(!Fo(t.precondition,e))return n;const i=t.value.clone(),s=Ko(t.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ho?function(t,e,n,r){if(!Fo(t.precondition,e))return n;const i=Ko(t.fieldTransforms,r,e),s=e.data;return s.setAll(Wo(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return Fo(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function $o(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=Eo(r.transform,t||null);null!=i&&(null===n&&(n=Cs.empty()),n.set(r.field,i))}return n||null}function zo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ri(t,e,((t,e)=>No(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qo extends jo{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ho extends jo{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Wo(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Go(t,e,n){const r=new Map;Vr(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Io(o,a,n[i]))}return r}function Ko(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,xo(t,s,e))}return r}class Yo extends jo{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qo extends jo{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t){this.count=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xo,Zo;function ta(t){switch(t){default:return Br();case zr.CANCELLED:case zr.UNKNOWN:case zr.DEADLINE_EXCEEDED:case zr.RESOURCE_EXHAUSTED:case zr.INTERNAL:case zr.UNAVAILABLE:case zr.UNAUTHENTICATED:return!1;case zr.INVALID_ARGUMENT:case zr.NOT_FOUND:case zr.ALREADY_EXISTS:case zr.PERMISSION_DENIED:case zr.FAILED_PRECONDITION:case zr.ABORTED:case zr.OUT_OF_RANGE:case zr.UNIMPLEMENTED:case zr.DATA_LOSS:return!0}}function ea(t){if(void 0===t)return Lr("GRPC error has no .code"),zr.UNKNOWN;switch(t){case Xo.OK:return zr.OK;case Xo.CANCELLED:return zr.CANCELLED;case Xo.UNKNOWN:return zr.UNKNOWN;case Xo.DEADLINE_EXCEEDED:return zr.DEADLINE_EXCEEDED;case Xo.RESOURCE_EXHAUSTED:return zr.RESOURCE_EXHAUSTED;case Xo.INTERNAL:return zr.INTERNAL;case Xo.UNAVAILABLE:return zr.UNAVAILABLE;case Xo.UNAUTHENTICATED:return zr.UNAUTHENTICATED;case Xo.INVALID_ARGUMENT:return zr.INVALID_ARGUMENT;case Xo.NOT_FOUND:return zr.NOT_FOUND;case Xo.ALREADY_EXISTS:return zr.ALREADY_EXISTS;case Xo.PERMISSION_DENIED:return zr.PERMISSION_DENIED;case Xo.FAILED_PRECONDITION:return zr.FAILED_PRECONDITION;case Xo.ABORTED:return zr.ABORTED;case Xo.OUT_OF_RANGE:return zr.OUT_OF_RANGE;case Xo.UNIMPLEMENTED:return zr.UNIMPLEMENTED;case Xo.DATA_LOSS:return zr.DATA_LOSS;default:return Br()}}(Zo=Xo||(Xo={}))[Zo.OK=0]="OK",Zo[Zo.CANCELLED=1]="CANCELLED",Zo[Zo.UNKNOWN=2]="UNKNOWN",Zo[Zo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zo[Zo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zo[Zo.NOT_FOUND=5]="NOT_FOUND",Zo[Zo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zo[Zo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zo[Zo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zo[Zo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zo[Zo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zo[Zo.ABORTED=10]="ABORTED",Zo[Zo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zo[Zo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zo[Zo.INTERNAL=13]="INTERNAL",Zo[Zo.UNAVAILABLE=14]="UNAVAILABLE",Zo[Zo.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class na{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ji(this.inner,((e,n)=>{for(const[r,i]of n)t(r,i)}))}isEmpty(){return Bi(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Vi(hi.comparator);function ia(){return ra}const sa=new Vi(hi.comparator);function oa(...t){let e=sa;for(const n of t)e=e.insert(n.key,n);return e}function aa(t){let e=sa;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function ca(){return la()}function ua(){return la()}function la(){return new na((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ha=new Vi(hi.comparator),da=new zi(hi.comparator);function fa(...t){let e=da;for(const n of t)e=e.add(n);return e}const pa=new zi(ni);function ga(){return pa}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,ya.createSynthesizedTargetChangeForCurrentChange(t,e)),new ma(oi.min(),n,ga(),ia(),fa())}}class ya{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e){return new ya(Ki.EMPTY_BYTE_STRING,e,fa(),fa(),fa())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,e,n,r){this.Tt=t,this.removedTargetIds=e,this.key=n,this.Et=r}}class ba{constructor(t,e){this.targetId=t,this.At=e}}class wa{constructor(t,e,n=Ki.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class _a{constructor(){this.Rt=0,this.bt=Ea(),this.Pt=Ki.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=fa(),e=fa(),n=fa();return this.bt.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Br()}})),new ya(this.Pt,this.vt,t,e,n)}Nt(){this.Vt=!1,this.bt=Ea()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Mt(t){this.Vt=!0,this.bt=this.bt.remove(t)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class xa{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=ia(),this.qt=Ia(),this.Kt=new zi(ni)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,(e=>{const n=this.zt(e);switch(t.state){case 0:this.Ht(e)&&n.Ct(t.resumeToken);break;case 1:n.Ft(),n.St||n.Nt(),n.Ct(t.resumeToken);break;case 2:n.Ft(),n.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(n.$t(),n.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),n.Ct(t.resumeToken));break;default:Br()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach(((t,n)=>{this.Ht(n)&&e(n)}))}Yt(t){const e=t.targetId,n=t.At.count,r=this.Xt(e);if(r){const t=r.target;if(Ls(t))if(0===n){const n=new hi(t.path);this.jt(e,n,Os.newNoDocument(n,oi.min()))}else Vr(1===n);else this.Zt(e)!==n&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach(((n,r)=>{const i=this.Xt(r);if(i){if(n.current&&Ls(i.target)){const e=new hi(i.target.path);null!==this.Ut.get(e)||this.ee(r,e)||this.jt(r,e,Os.newNoDocument(e,t))}n.Dt&&(e.set(r,n.xt()),n.Nt())}}));let n=fa();this.qt.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.Xt(t);return!e||2===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.Ut.forEach(((e,n)=>n.setReadTime(t)));const r=new ma(t,e,this.Kt,this.Ut,n);return this.Ut=ia(),this.qt=Ia(),this.Kt=new zi(ni),r}Qt(t,e){if(!this.Ht(t))return;const n=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,n),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,n){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Mt(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),n&&(this.Ut=this.Ut.insert(e,n))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.zt(t).Ot()}zt(t){let e=this.Lt.get(t);return e||(e=new _a,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new zi(ni),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||Mr("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new _a),this.Bt.getRemoteKeysForTarget(t).forEach((e=>{this.jt(t,e,null)}))}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function Ia(){return new Vi(hi.comparator)}function Ea(){return new Vi(hi.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=(()=>{const t={asc:"ASCENDING",desc:"DESCENDING"};return t})(),Sa=(()=>{const t={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return t})();class ka{constructor(t,e){this.databaseId=t,this.gt=e}}function Ca(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Aa(t,e){return t.gt?e.toBase64():e.toUint8Array()}function Oa(t,e){return Ca(t,e.toTimestamp())}function Da(t){return Vr(!!t),oi.fromTimestamp(function(t){const e=Qi(t);return new si(e.seconds,e.nanos)}(t))}function Ra(t,e){return function(t){return new ci(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Pa(t){const e=ci.fromString(t);return Vr(sc(e)),e}function Na(t,e){return Ra(t.databaseId,e.path)}function Ma(t,e){const n=Pa(e);if(n.get(1)!==t.databaseId.projectId)throw new qr(zr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new qr(zr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new hi(Ba(n))}function La(t,e){return Ra(t.databaseId,e)}function Fa(t){const e=Pa(t);return 4===e.length?ci.emptyPath():Ba(e)}function ja(t){return new ci(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ba(t){return Vr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Va(t,e,n){return{name:Na(t,e),fields:n.value.mapValue.fields}}function Ua(t,e,n){const r=Ma(t,e.name),i=Da(e.updateTime),s=new Cs({mapValue:{fields:e.fields}}),o=Os.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function $a(t,e){return"found"in e?function(t,e){Vr(!!e.found),e.found.name,e.found.updateTime;const n=Ma(t,e.found.name),r=Da(e.found.updateTime),i=new Cs({mapValue:{fields:e.found.fields}});return Os.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Vr(!!e.missing),Vr(!!e.readTime);const n=Ma(t,e.missing),r=Da(e.readTime);return Os.newNoDocument(n,r)}(t,e):Br()}function za(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Br()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.gt?(Vr(void 0===e||"string"==typeof e),Ki.fromBase64String(e||"")):(Vr(void 0===e||e instanceof Uint8Array),Ki.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?zr.UNKNOWN:ea(t.code);return new qr(e,t.message||"")}(o);n=new wa(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ma(t,r.document.name),s=Da(r.document.updateTime),o=new Cs({mapValue:{fields:r.document.fields}}),a=Os.newFoundDocument(i,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new va(c,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ma(t,r.document),s=r.readTime?Da(r.readTime):oi.min(),o=Os.newNoDocument(i,s),a=r.removedTargetIds||[];n=new va([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ma(t,r.document),s=r.removedTargetIds||[];n=new va([],s,i,null)}else{if(!("filter"in e))return Br();{e.filter;const t=e.filter;t.targetId;const r=t.count||0,i=new Jo(r),s=t.targetId;n=new ba(s,i)}}return n}function qa(t,e){let n;if(e instanceof qo)n={update:Va(t,e.key,e.value)};else if(e instanceof Yo)n={delete:Na(t,e.key)};else if(e instanceof Ho)n={update:Va(t,e.key,e.data),updateMask:ic(e.fieldMask)};else{if(!(e instanceof Qo))return Br();n={verify:Na(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof To)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof So)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Co)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Oo)return{fieldPath:e.field.canonicalString(),increment:n.yt};throw Br()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Oa(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Br()}(t,e.precondition)),n}function Ha(t,e){const n=e.currentDocument?function(t){return void 0!==t.updateTime?Lo.updateTime(Da(t.updateTime)):void 0!==t.exists?Lo.exists(t.exists):Lo.none()}(e.currentDocument):Lo.none(),r=e.updateTransforms?e.updateTransforms.map((e=>function(t,e){let n=null;if("setToServerValue"in e)Vr("REQUEST_TIME"===e.setToServerValue),n=new To;else if("appendMissingElements"in e){const t=e.appendMissingElements.values||[];n=new So(t)}else if("removeAllFromArray"in e){const t=e.removeAllFromArray.values||[];n=new Co(t)}else"increment"in e?n=new Oo(t,e.increment):Br();const r=li.fromServerFormat(e.fieldPath);return new Po(r,n)}(t,e))):[];if(e.update){e.update.name;const i=Ma(t,e.update.name),s=new Cs({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=function(t){const e=t.fieldPaths||[];return new Wi(e.map((t=>li.fromServerFormat(t))))}(e.updateMask);return new Ho(i,s,t,n,r)}return new qo(i,s,n,r)}if(e.delete){const r=Ma(t,e.delete);return new Yo(r,n)}if(e.verify){const r=Ma(t,e.verify);return new Qo(r,n)}return Br()}function Wa(t,e){return t&&t.length>0?(Vr(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Da(t.updateTime):Da(e);return n.isEqual(oi.min())&&(n=Da(e)),new Mo(n,t.transformResults||[])}(t,e)))):[]}function Ga(t,e){return{documents:[La(t,e.path)]}}function Ka(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=La(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=La(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0===t.length)return;const e=t.map((t=>function(t){if("=="===t.op){if(ws(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NAN"}};if(bs(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ws(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NOT_NAN"}};if(bs(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tc(t.field),op:Za(t.op),value:t.value}}}(t)));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:tc(t.field),direction:Xa(t.dir)}}(t)))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(t,e){return t.gt||is(e)?e:{value:e}}(t,e.limit);var a;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function Ya(t){let e=Fa(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Vr(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=Ja(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((t=>function(t){return new Qs(ec(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,is(e)?null:e}(n.limit));let c=null;n.startAt&&(c=function(t){const e=!!t.before,n=t.values||[];return new Ys(n,e)}(n.startAt));let u=null;return n.endAt&&(u=function(t){const e=!t.before,n=t.values||[];return new Ys(n,e)}(n.endAt)),eo(e,i,o,s,a,"F",c,u)}function Qa(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Br()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}function Ja(t){return t?void 0!==t.unaryFilter?[rc(t)]:void 0!==t.fieldFilter?[nc(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((t=>Ja(t))).reduce(((t,e)=>t.concat(e))):Br():[]}function Xa(t){return Ta[t]}function Za(t){return Sa[t]}function tc(t){return{fieldPath:t.canonicalString()}}function ec(t){return li.fromServerFormat(t.fieldPath)}function nc(t){return Vs.create(ec(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Br()}}(t.fieldFilter.op),t.fieldFilter.value)}function rc(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ec(t.unaryFilter.field);return Vs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ec(t.unaryFilter.field);return Vs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ec(t.unaryFilter.field);return Vs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ec(t.unaryFilter.field);return Vs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Br()}}function ic(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function sc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cc(e)),e=ac(t.get(n),e);return cc(e)}function ac(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const e=t.charAt(i);switch(e){case"\0":n+="";break;case"":n+="";break;default:n+=e}}return n}function cc(t){return t+""}function uc(t){const e=t.length;if(Vr(e>=2),2===e)return Vr(""===t.charAt(0)&&""===t.charAt(1)),ci.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const e=t.indexOf("",s);switch((e<0||e>n)&&Br(),t.charAt(e+1)){case"":const n=t.substring(s,e);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=t.substring(s,e),i+="\0";break;case"":i+=t.substring(s,e+1);break;default:Br()}s=e+2}return new ci(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t,e){return[t,oc(e)]}function dc(t,e,n){return[t,oc(e),n]}const fc={},pc=["prefixPath","collectionGroup","readTime","documentId"],gc=["prefixPath","collectionGroup","documentId"],mc=["collectionGroup","readTime","prefixPath","documentId"],yc=["canonicalId","targetId"],vc=["targetId","path"],bc=["path","targetId"],wc=["collectionId","parent"],_c=["indexId","uid"],xc=["uid","sequenceNumber"],Ic=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ec=["indexId","uid","orderedDocumentKey"],Tc=["userId","collectionPath","documentId"],Sc=["userId","collectionPath","largestBatchId"],kc=["userId","collectionGroup","largestBatchId"],Cc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ac=[...Cc,"documentOverlays"],Oc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Dc=Oc,Rc=[...Dc,"indexConfiguration","indexState","indexEntries"];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends xi{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function Nc(t,e){const n=$r(t);return Si.O(n.ie,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&Vo(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Uo(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Uo(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=ua();return this.mutations.forEach((r=>{const i=t.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=e.has(r.key)?null:o;const a=Bo(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(oi.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),fa())}isEqual(t){return this.batchId===t.batchId&&ri(this.mutations,t.mutations,((t,e)=>zo(t,e)))&&ri(this.baseMutations,t.baseMutations,((t,e)=>zo(t,e)))}}class Lc{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Vr(t.mutations.length===n.length);let r=ha;const i=t.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Lc(t,e,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,e,n,r,i=oi.min(),s=oi.min(),o=Ki.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new jc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new jc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t){this.re=t}}function Vc(t,e){let n;if(e.document)n=Ua(t.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const t=hi.fromSegments(e.noDocument.path),r=qc(e.noDocument.readTime);n=Os.newNoDocument(t,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Br();{const t=hi.fromSegments(e.unknownDocument.path),r=qc(e.unknownDocument.version);n=Os.newUnknownDocument(t,r)}}return e.readTime&&n.setReadTime(function(t){const e=new si(t[0],t[1]);return oi.fromTimestamp(e)}(e.readTime)),n}function Uc(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:$c(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(t,e){return{name:Na(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Ca(t,e.version.toTimestamp())}}(t.re,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:zc(e.version)};else{if(!e.isUnknownDocument())return Br();r.unknownDocument={path:n.path.toArray(),version:zc(e.version)}}return r}function $c(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function zc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qc(t){const e=new si(t.seconds,t.nanoseconds);return oi.fromTimestamp(e)}function Hc(t,e){const n=(e.baseMutations||[]).map((e=>Ha(t.re,e)));for(let s=0;s<e.mutations.length-1;++s){const t=e.mutations[s];if(s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform){const n=e.mutations[s+1];t.updateTransforms=n.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((e=>Ha(t.re,e))),i=si.fromMillis(e.localWriteTimeMs);return new Mc(e.batchId,i,n,r)}function Wc(t){const e=qc(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?qc(t.lastLimboFreeSnapshotVersion):oi.min();let r;var i;return void 0!==t.query.documents?(Vr(1===(i=t.query).documents.length),r=co(no(Fa(i.documents[0])))):r=function(t){return co(Ya(t))}(t.query),new jc(r,t.targetId,0,t.lastListenSequenceNumber,e,n,Ki.fromBase64String(t.resumeToken))}function Gc(t,e){const n=zc(e.snapshotVersion),r=zc(e.lastLimboFreeSnapshotVersion);let i;i=Ls(e.target)?Ga(t.re,e.target):Ka(t.re,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ps(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Kc(t){const e=Ya({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?uo(e,e.limit,"L"):e}function Yc(t,e){return new Fc(e.largestBatchId,Ha(t.re,e.overlayMutation))}function Qc(t,e){const n=e.path.lastSegment();return[t,oc(e.path.popLast()),n]}function Jc(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:zc(r.readTime),documentKey:oc(r.documentKey.path),largestBatchId:r.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{getBundleMetadata(t,e){return Zc(t).get(e).next((t=>{if(t)return{id:(e=t).bundleId,createTime:qc(e.createTime),version:e.version};var e}))}saveBundleMetadata(t,e){return Zc(t).put({bundleId:(n=e).id,createTime:zc(Da(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return tu(t).get(e).next((t=>{if(t)return{name:(e=t).name,query:Kc(e.bundledQuery),readTime:qc(e.readTime)};var e}))}saveNamedQuery(t,e){return tu(t).put(function(t){return{name:t.name,readTime:zc(Da(t.readTime)),bundledQuery:t.bundledQuery}}(e))}}function Zc(t){return Nc(t,"bundles")}function tu(t){return Nc(t,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){const n=e.uid||"";return new eu(t,n)}getOverlay(t,e){return nu(t).get(Qc(this.userId,e)).next((t=>t?Yc(this.It,t):null))}getOverlays(t,e){const n=ca();return Ei.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){const r=[];return n.forEach(((n,i)=>{const s=new Fc(e,i);r.push(this.ue(t,s))})),Ei.waitFor(r)}removeOverlaysForBatchId(t,e,n){const r=new Set;e.forEach((t=>r.add(oc(t.getCollectionPath()))));const i=[];return r.forEach((e=>{const r=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,n+1],!1,!0);i.push(nu(t).Y("collectionPathOverlayIndex",r))})),Ei.waitFor(i)}getOverlaysForCollection(t,e,n){const r=ca(),i=oc(e),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return nu(t).W("collectionPathOverlayIndex",s).next((t=>{for(const e of t){const t=Yc(this.It,e);r.set(t.getKey(),t)}return r}))}getOverlaysForCollectionGroup(t,e,n,r){const i=ca();let s;const o=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,Number.POSITIVE_INFINITY],!0);return nu(t).Z({index:"collectionGroupOverlayIndex",range:o},((t,e,n)=>{const o=Yc(this.It,e);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ue(t,e){return nu(t).put(function(t,e,n){const[r,i,s]=Qc(e,n.mutation.key);return{userId:e,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:qa(t.re,n.mutation)}}(this.It,this.userId,e))}}function nu(t){return Nc(t,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(Ji(t.integerValue));else if("doubleValue"in t){const n=Ji(t.doubleValue);isNaN(n)?this.le(e,13):(this.le(e,15),ss(n)?e.fe(0):e.fe(n))}else if("timestampValue"in t){const n=t.timestampValue;this.le(e,20),"string"==typeof n?e.de(n):(e.de(`${n.seconds||""}`),e.fe(n.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(Xi(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.le(e,45),e.fe(n.latitude||0),e.fe(n.longitude||0)}else"mapValue"in t?Is(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):Br()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const n=t.fields||{};this.le(e,55);for(const r of Object.keys(n))this._e(r,e),this.ae(n[r],e)}pe(t,e){const n=t.values||[];this.le(e,50);for(const r of n)this.ae(r,e)}ge(t,e){this.le(e,37),hi.fromName(t).path.forEach((t=>{this.le(e,60),this.Ie(t,e)}))}le(t,e){t.fe(e)}we(t){t.fe(2)}}function iu(t){if(0===t)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function su(t){const e=64-function(t){let e=0;for(let n=0;n<8;++n){const r=iu(255&t[n]);if(e+=r,8!==r)break}return e}(t);return Math.ceil(e/8)}ru.Te=new ru;class ou{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Ae(n.value),n=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Pe(n.value),n=e.next();this.ve()}Ve(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.Ae(t);else if(t<2048)this.Ae(960|t>>>6),this.Ae(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|t>>>12),this.Ae(128|63&t>>>6),this.Ae(128|63&t);else{const t=e.codePointAt(0);this.Ae(240|t>>>18),this.Ae(128|63&t>>>12),this.Ae(128|63&t>>>6),this.Ae(128|63&t)}}this.Re()}Se(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.Pe(t);else if(t<2048)this.Pe(960|t>>>6),this.Pe(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|t>>>12),this.Pe(128|63&t>>>6),this.Pe(128|63&t);else{const t=e.codePointAt(0);this.Pe(240|t>>>18),this.Pe(128|63&t>>>12),this.Pe(128|63&t>>>6),this.Pe(128|63&t)}}this.ve()}De(t){const e=this.Ce(t),n=su(e);this.xe(1+n),this.buffer[this.position++]=255&n;for(let r=e.length-n;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),n=su(e);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(let r=e.length-n;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(t){const e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,t,!1),new Uint8Array(e.buffer)}(t),n=0!=(128&e[0]);e[0]^=n?255:128;for(let r=1;r<e.length;++r)e[r]^=n?255:0;return e}Ae(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let n=2*this.buffer.length;n<e&&(n=e);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class au{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class cu{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Oe()}}class uu{constructor(){this.Be=new ou,this.Le=new au(this.Be),this.Ue=new cu(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(t,e,n,r){this.indexId=t,this.documentKey=e,this.arrayValue=n,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,n=new Uint8Array(e);return n.set(this.directionalValue,0),e!==t?n.set([0],this.directionalValue.length):++n[n.length-1],new lu(this.indexId,this.documentKey,this.arrayValue,n)}}function hu(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=du(t.arrayValue,e.arrayValue),0!==n?n:(n=du(t.directionalValue,e.directionalValue),0!==n?n:hi.comparator(t.documentKey,e.documentKey)))}function du(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const t=e;t.dt()?this.je=t:this.Qe.push(t)}}We(t){const e=fi(t);if(void 0!==e&&!this.ze(e))return!1;const n=pi(t);let r=0,i=0;for(;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){const t=n[r];if(!this.He(this.je,t)||!this.Je(this.Ge[i++],t))return!1;++r}for(;r<n.length;++r){const t=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],t))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){if(void 0===t||!t.field.isEqual(e.fieldPath))return!1;const n="array-contains"===t.op||"array-contains-any"===t.op;return 2===e.kind===n}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.Ye=new gu}addToCollectionParentIndex(t,e){return this.Ye.add(e),Ei.resolve()}getCollectionParents(t,e){return Ei.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return Ei.resolve()}deleteFieldIndex(t,e){return Ei.resolve()}getDocumentsMatchingTarget(t,e){return Ei.resolve(null)}getIndexType(t,e){return Ei.resolve(0)}getFieldIndexes(t,e){return Ei.resolve([])}getNextCollectionGroupToUpdate(t){return Ei.resolve(null)}getMinOffset(t,e){return Ei.resolve(bi.min())}getMinOffsetFromCollectionGroup(t,e){return Ei.resolve(bi.min())}updateCollectionGroup(t,e,n){return Ei.resolve()}updateIndexEntries(t,e){return Ei.resolve()}}class gu{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new zi(ci.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new zi(ci.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Uint8Array(0);class yu{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new gu,this.Ze=new na((t=>Ps(t)),((t,e)=>Ms(t,e))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const n=e.lastSegment(),r=e.popLast();t.addOnCommittedListener((()=>{this.Xe.add(e)}));const i={collectionId:n,parent:oc(r)};return vu(t).put(i)}return Ei.resolve()}getCollectionParents(t,e){const n=[],r=IDBKeyRange.bound([e,""],[ii(e),""],!1,!0);return vu(t).W(r).next((t=>{for(const r of t){if(r.collectionId!==e)break;n.push(uc(r.parent))}return n}))}addFieldIndex(t,e){const n=wu(t),r=function(t){return{indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map((t=>[t.fieldPath.canonicalString(),t.kind]))}}(e);delete r.indexId;const i=n.add(r);if(e.indexState){const n=_u(t);return i.next((t=>{n.put(Jc(t,this.user,e.indexState.sequenceNumber,e.indexState.offset))}))}return i.next()}deleteFieldIndex(t,e){const n=wu(t),r=_u(t),i=bu(t);return n.delete(e.indexId).next((()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}getDocumentsMatchingTarget(t,e){const n=bu(t);let r=!0;const i=new Map;return Ei.forEach(this.tn(e),(e=>this.en(t,e).next((t=>{r&&(r=!!t),i.set(e,t)})))).next((()=>{if(r){let t=fa();const r=[];return Ei.forEach(i,((i,s)=>{var o;Mr("IndexedDbIndexManager",`Using index ${o=i,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map((t=>`${t.fieldPath}:${t.kind}`)).join(",")}`} to execute ${Ps(e)}`);const a=function(t,e){const n=fi(e);if(void 0===n)return null;for(const r of Fs(t,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),c=function(t,e){const n=new Map;for(const r of pi(e))for(const e of Fs(t,r.fieldPath))switch(e.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),e.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),e.value),Array.from(n.values())}return null}(s,i),u=function(t,e){const n=[];let r=!0;for(const i of pi(e)){const e=0===i.kind?js(t,i.fieldPath,t.startAt):Bs(t,i.fieldPath,t.startAt);n.push(e.value),r&&(r=e.inclusive)}return new Ys(n,r)}(s,i),l=function(t,e){const n=[];let r=!0;for(const i of pi(e)){const e=0===i.kind?Bs(t,i.fieldPath,t.endAt):js(t,i.fieldPath,t.endAt);n.push(e.value),r&&(r=e.inclusive)}return new Ys(n,r)}(s,i),h=this.nn(i,s,u),d=this.nn(i,s,l),f=this.sn(i,s,c),p=this.rn(i.indexId,a,h,u.inclusive,d,l.inclusive,f);return Ei.forEach(p,(i=>n.J(i,e.limit).next((e=>{e.forEach((e=>{const n=hi.fromSegments(e.documentKey);t.has(n)||(t=t.add(n),r.push(n))}))}))))})).next((()=>r))}return Ei.resolve(null)}))}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,n,r,i,s,o){const a=(null!=e?e.length:1)*Math.max(n.length,i.length),c=a/(null!=e?e.length:1),u=[];for(let l=0;l<a;++l){const a=e?this.on(e[l/c]):mu,h=this.un(t,a,n[l%c],r),d=this.cn(t,a,i[l%c],s),f=o.map((e=>this.un(t,a,e,!0)));u.push(...this.createRange(h,d,f))}return u}un(t,e,n,r){const i=new lu(t,hi.empty(),e,n);return r?i:i.Ke()}cn(t,e,n,r){const i=new lu(t,hi.empty(),e,n);return r?i.Ke():i}en(t,e){const n=new fu(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next((t=>{let e=null;for(const r of t)n.We(r)&&(!e||r.fields.length>e.fields.length)&&(e=r);return e}))}getIndexType(t,e){let n=2;return Ei.forEach(this.tn(e),(e=>this.en(t,e).next((t=>{t?0!==n&&t.fields.length<function(t){let e=new zi(li.comparator),n=!1;for(const r of t.filters){const t=r;t.field.isKeyField()||("array-contains"===t.op||"array-contains-any"===t.op?n=!0:e=e.add(t.field))}for(const r of t.orderBy)r.field.isKeyField()||(e=e.add(r.field));return e.size+(n?1:0)}(e)&&(n=1):n=0})))).next((()=>n))}an(t,e){const n=new uu;for(const r of pi(t)){const t=e.data.field(r.fieldPath);if(null==t)return null;const i=n.qe(r.kind);ru.Te.ce(t,i)}return n.$e()}on(t){const e=new uu;return ru.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const n=new uu;return ru.Te.ce(ms(this.databaseId,e),n.qe(function(t){const e=pi(t);return 0===e.length?0:e[e.length-1].kind}(t))),n.$e()}sn(t,e,n){if(null===n)return[];let r=[];r.push(new uu);let i=0;for(const s of pi(t)){const t=n[i++];for(const n of r)if(this.ln(e,s.fieldPath)&&vs(t))r=this.fn(r,s,t);else{const e=n.qe(s.kind);ru.Te.ce(t,e)}}return this.dn(r)}nn(t,e,n){return this.sn(t,e,n.position)}dn(t){const e=[];for(let n=0;n<t.length;++n)e[n]=t[n].$e();return e}fn(t,e,n){const r=[...t],i=[];for(const s of n.arrayValue.values||[])for(const t of r){const n=new uu;n.seed(t.$e()),ru.Te.ce(s,n.qe(e.kind)),i.push(n)}return i}ln(t,e){return!!t.filters.find((t=>t instanceof Vs&&t.field.isEqual(e)&&("in"===t.op||"not-in"===t.op)))}getFieldIndexes(t,e){const n=wu(t),r=_u(t);return(e?n.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):n.W()).next((t=>{const e=[];return Ei.forEach(t,(t=>r.get([t.indexId,this.uid]).next((n=>{e.push(function(t,e){const n=e?new mi(e.sequenceNumber,new bi(qc(e.readTime),new hi(uc(e.documentKey)),e.largestBatchId)):mi.empty(),r=t.fields.map((([t,e])=>new gi(li.fromServerFormat(t),e)));return new di(t.indexId,t.collectionGroup,r,n)}(t,n))})))).next((()=>e))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((t=>0===t.length?null:(t.sort(((t,e)=>{const n=t.indexState.sequenceNumber-e.indexState.sequenceNumber;return 0!==n?n:ni(t.collectionGroup,e.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(t,e,n){const r=wu(t),i=_u(t);return this._n(t).next((t=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next((e=>Ei.forEach(e,(e=>i.put(Jc(e.indexId,this.user,t,n))))))))}updateIndexEntries(t,e){const n=new Map;return Ei.forEach(e,((e,r)=>{const i=n.get(e.collectionGroup);return(i?Ei.resolve(i):this.getFieldIndexes(t,e.collectionGroup)).next((i=>(n.set(e.collectionGroup,i),Ei.forEach(i,(n=>this.wn(t,e,n).next((e=>{const i=this.mn(r,n);return e.isEqual(i)?Ei.resolve():this.gn(t,r,n,e,i)})))))))}))}yn(t,e,n,r){return bu(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,e.key),documentKey:e.key.path.toArray()})}pn(t,e,n,r){return bu(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,e.key),e.key.path.toArray()])}wn(t,e,n){const r=bu(t);let i=new zi(hu);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,e)])},((t,r)=>{i=i.add(new lu(n.indexId,e,r.arrayValue,r.directionalValue))})).next((()=>i))}mn(t,e){let n=new zi(hu);const r=this.an(e,t);if(null==r)return n;const i=fi(e);if(null!=i){const s=t.data.field(i.fieldPath);if(vs(s))for(const i of s.arrayValue.values||[])n=n.add(new lu(e.indexId,t.key,this.on(i),r))}else n=n.add(new lu(e.indexId,t.key,mu,r));return n}gn(t,e,n,r,i){Mr("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(t,e,n,r,i){const s=t.getIterator(),o=e.getIterator();let a=Hi(s),c=Hi(o);for(;a||c;){let t=!1,e=!1;if(a&&c){const r=n(a,c);r<0?e=!0:r>0&&(t=!0)}else null!=a?e=!0:t=!0;t?(r(c),c=Hi(o)):e?(i(a),a=Hi(s)):(a=Hi(s),c=Hi(o))}}(r,i,hu,(r=>{s.push(this.yn(t,e,n,r))}),(r=>{s.push(this.pn(t,e,n,r))})),Ei.waitFor(s)}_n(t){let e=1;return _u(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((t,n,r)=>{r.done(),e=n.sequenceNumber+1})).next((()=>e))}createRange(t,e,n){n=n.sort(((t,e)=>hu(t,e))).filter(((t,e,n)=>!e||0!==hu(t,n[e-1])));const r=[];r.push(t);for(const s of n){const n=hu(s,t),i=hu(s,e);if(0===n)r[0]=t.Ke();else if(n>0&&i<0)r.push(s),r.push(s.Ke());else if(i>0)break}r.push(e);const i=[];for(let s=0;s<r.length;s+=2)i.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,mu,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,mu,[]]));return i}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(xu)}getMinOffset(t,e){return Ei.mapArray(this.tn(e),(e=>this.en(t,e).next((t=>t||Br())))).next(xu)}}function vu(t){return Nc(t,"collectionParents")}function bu(t){return Nc(t,"indexEntries")}function wu(t){return Nc(t,"indexConfiguration")}function _u(t){return Nc(t,"indexState")}function xu(t){Vr(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;wi(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new bi(e.readTime,e.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Eu{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Eu(t,Eu.DEFAULT_COLLECTION_PERCENTILE,Eu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Z({range:o},((t,e,n)=>(a++,n.delete())));s.push(c.next((()=>{Vr(1===a)})));const u=[];for(const l of n.mutations){const t=dc(e,l.key.path,n.batchId);s.push(i.delete(t)),u.push(l.key)}return Ei.waitFor(s).next((()=>u))}function Su(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Br();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eu.DEFAULT_COLLECTION_PERCENTILE=10,Eu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Eu.DEFAULT=new Eu(41943040,Eu.DEFAULT_COLLECTION_PERCENTILE,Eu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Eu.DISABLED=new Eu(-1,0,0);class ku{constructor(t,e,n,r){this.userId=t,this.It=e,this.indexManager=n,this.referenceDelegate=r,this.In={}}static oe(t,e,n,r){Vr(""!==t.uid);const i=t.isAuthenticated()?t.uid:"";return new ku(i,e,n,r)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Au(t).Z({index:"userMutationsIndex",range:n},((t,n,r)=>{e=!1,r.done()})).next((()=>e))}addMutationBatch(t,e,n,r){const i=Ou(t),s=Au(t);return s.add({}).next((o=>{Vr("number"==typeof o);const a=new Mc(o,e,n,r),c=function(t,e,n){const r=n.baseMutations.map((e=>qa(t.re,e))),i=n.mutations.map((e=>qa(t.re,e)));return{userId:e,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.It,this.userId,a),u=[];let l=new zi(((t,e)=>ni(t.canonicalString(),e.canonicalString())));for(const t of r){const e=dc(this.userId,t.key.path,o);l=l.add(t.key.path.popLast()),u.push(s.put(c)),u.push(i.put(e,fc))}return l.forEach((e=>{u.push(this.indexManager.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((()=>{this.In[o]=a.keys()})),Ei.waitFor(u).next((()=>a))}))}lookupMutationBatch(t,e){return Au(t).get(e).next((t=>t?(Vr(t.userId===this.userId),Hc(this.It,t)):null))}Tn(t,e){return this.In[e]?Ei.resolve(this.In[e]):this.lookupMutationBatch(t,e).next((t=>{if(t){const n=t.keys();return this.In[e]=n,n}return null}))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Au(t).Z({index:"userMutationsIndex",range:r},((t,e,r)=>{e.userId===this.userId&&(Vr(e.batchId>=n),i=Hc(this.It,e)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Au(t).Z({index:"userMutationsIndex",range:e,reverse:!0},((t,e,r)=>{n=e.batchId,r.done()})).next((()=>n))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Au(t).W("userMutationsIndex",e).next((t=>t.map((t=>Hc(this.It,t)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=hc(this.userId,e.path),r=IDBKeyRange.lowerBound(n),i=[];return Ou(t).Z({range:r},((n,r,s)=>{const[o,a,c]=n,u=uc(a);if(o===this.userId&&e.path.isEqual(u))return Au(t).get(c).next((t=>{if(!t)throw Br();Vr(t.userId===this.userId),i.push(Hc(this.It,t))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new zi(ni);const r=[];return e.forEach((e=>{const i=hc(this.userId,e.path),s=IDBKeyRange.lowerBound(i),o=Ou(t).Z({range:s},((t,r,i)=>{const[s,o,a]=t,c=uc(o);s===this.userId&&e.path.isEqual(c)?n=n.add(a):i.done()}));r.push(o)})),Ei.waitFor(r).next((()=>this.En(t,n)))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1,i=hc(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new zi(ni);return Ou(t).Z({range:s},((t,e,i)=>{const[s,a,c]=t,u=uc(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(c)):i.done()})).next((()=>this.En(t,o)))}En(t,e){const n=[],r=[];return e.forEach((e=>{r.push(Au(t).get(e).next((t=>{if(null===t)throw Br();Vr(t.userId===this.userId),n.push(Hc(this.It,t))})))})),Ei.waitFor(r).next((()=>n))}removeMutationBatch(t,e){return Tu(t.ie,this.userId,e).next((n=>(t.addOnCommittedListener((()=>{this.An(e.batchId)})),Ei.forEach(n,(e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return Ei.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return Ou(t).Z({range:n},((t,e,n)=>{if(t[0]===this.userId){const e=uc(t[1]);r.push(e)}else n.done()})).next((()=>{Vr(0===r.length)}))}))}containsKey(t,e){return Cu(t,this.userId,e)}Rn(t){return Du(t).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Cu(t,e,n){const r=hc(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ou(t).Z({range:s,X:!0},((t,n,r)=>{const[s,a,c]=t;s===e&&a===i&&(o=!0),r.done()})).next((()=>o))}function Au(t){return Nc(t,"mutations")}function Ou(t){return Nc(t,"documentMutations")}function Du(t){return Nc(t,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Ru(0)}static vn(){return new Ru(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next((e=>{const n=new Ru(e.highestTargetId);return e.highestTargetId=n.next(),this.Sn(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.Vn(t).next((t=>oi.fromTimestamp(new si(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.Vn(t).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(t,e,n){return this.Vn(t).next((r=>(r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r))))}addTargetData(t,e){return this.Dn(t,e).next((()=>this.Vn(t).next((n=>(n.targetCount+=1,this.Cn(e,n),this.Sn(t,n))))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>Nu(t).delete(e.targetId))).next((()=>this.Vn(t))).next((e=>(Vr(e.targetCount>0),e.targetCount-=1,this.Sn(t,e))))}removeTargets(t,e,n){let r=0;const i=[];return Nu(t).Z(((s,o)=>{const a=Wc(o);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(t,a)))})).next((()=>Ei.waitFor(i))).next((()=>r))}forEachTarget(t,e){return Nu(t).Z(((t,n)=>{const r=Wc(n);e(r)}))}Vn(t){return Mu(t).get("targetGlobalKey").next((t=>(Vr(null!==t),t)))}Sn(t,e){return Mu(t).put("targetGlobalKey",e)}Dn(t,e){return Nu(t).put(Gc(this.It,e))}Cn(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.Vn(t).next((t=>t.targetCount))}getTargetData(t,e){const n=Ps(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Nu(t).Z({range:r,index:"queryTargetsIndex"},((t,n,r)=>{const s=Wc(n);Ms(e,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(t,e,n){const r=[],i=Lu(t);return e.forEach((e=>{const s=oc(e.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(t,n,e))})),Ei.waitFor(r)}removeMatchingKeys(t,e,n){const r=Lu(t);return Ei.forEach(e,(e=>{const i=oc(e.path);return Ei.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(t,n,e)])}))}removeMatchingKeysForTargetId(t,e){const n=Lu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Lu(t);let i=fa();return r.Z({range:n,X:!0},((t,e,n)=>{const r=uc(t[1]),s=new hi(r);i=i.add(s)})).next((()=>i))}containsKey(t,e){const n=oc(e.path),r=IDBKeyRange.bound([n],[ii(n)],!1,!0);let i=0;return Lu(t).Z({index:"documentTargetsIndex",X:!0,range:r},(([t,e],n,r)=>{0!==t&&(i++,r.done())})).next((()=>i>0))}se(t,e){return Nu(t).get(e).next((t=>t?Wc(t):null))}}function Nu(t){return Nc(t,"targets")}function Mu(t){return Nc(t,"targetGlobal")}function Lu(t){return Nc(t,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu([t,e],[n,r]){const i=ni(t,n);return 0===i?ni(e,r):i}class ju{constructor(t){this.xn=t,this.buffer=new zi(Fu),this.Nn=0}kn(){return++this.Nn}Mn(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Fu(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Bu{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(t){Mr("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.On=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ai(t)?Mr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ii(t)}await this.Fn(3e5)}))}}class Vu{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return Ei.resolve(Li.at);const n=new ju(e);return this.$n.forEachTarget(t,(t=>n.Mn(t.sequenceNumber))).next((()=>this.$n.Ln(t,(t=>n.Mn(t))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.$n.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Mr("LruGarbageCollector","Garbage collection skipped; disabled"),Ei.resolve(Iu)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(Mr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iu):this.Un(t,e)))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let n,r,i,s,o,c,u;const l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(Mr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),r=this.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),this.nthSequenceNumber(t,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(t,n,e)))).next((e=>(i=e,c=Date.now(),this.removeOrphanedDocuments(t,n)))).next((t=>(u=Date.now(),Pr()<=a["in"].DEBUG&&Mr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-l}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(c-o)+"ms\n"+`\tRemoved ${t} documents in `+(u-c)+"ms\n"+`Total Duration: ${u-l}ms`),Ei.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t}))))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(t,e){this.db=t,this.garbageCollector=function(t,e){return new Vu(t,e)}(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}qn(t){let e=0;return this.Ln(t,(t=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,((t,n)=>e(n)))}addReference(t,e,n){return $u(t,n)}removeReference(t,e,n){return $u(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return $u(t,e)}Gn(t,e){return function(t,e){let n=!1;return Du(t).tt((r=>Cu(t,r,e).next((t=>(t&&(n=!0),Ei.resolve(!t)))))).next((()=>n))}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Kn(t,((s,o)=>{if(o<=e){const e=this.Gn(t,s).next((e=>{if(!e)return i++,n.getEntry(t,s).next((()=>(n.removeEntry(s,oi.min()),Lu(t).delete([0,oc(s.path)]))))}));r.push(e)}})).next((()=>Ei.waitFor(r))).next((()=>n.apply(t))).next((()=>i))}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return $u(t,e)}Kn(t,e){const n=Lu(t);let r,i=Li.at;return n.Z({index:"documentTargetsIndex"},(([t,n],{path:s,sequenceNumber:o})=>{0===t?(i!==Li.at&&e(new hi(uc(r)),i),i=o,r=s):i=Li.at})).next((()=>{i!==Li.at&&e(new hi(uc(r)),i)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function $u(t,e){return Lu(t).put(function(t,e){return{targetId:0,path:oc(t.path),sequenceNumber:e}}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.changes=new na((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Os.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Ei.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,n){return Ku(t).put(n)}removeEntry(t,e,n){return Ku(t).delete(function(t,e){const n=t.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],$c(e),n[n.length-1]]}(e,n))}updateMetadata(t,e){return this.getMetadata(t).next((n=>(n.byteSize+=e,this.Qn(t,n))))}getEntry(t,e){let n=Os.newInvalidDocument(e);return Ku(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Yu(e))},((t,r)=>{n=this.jn(e,r)})).next((()=>n))}Wn(t,e){let n={size:0,document:Os.newInvalidDocument(e)};return Ku(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Yu(e))},((t,r)=>{n={document:this.jn(e,r),size:Su(r)}})).next((()=>n))}getEntries(t,e){let n=ia();return this.zn(t,e,((t,e)=>{const r=this.jn(t,e);n=n.insert(t,r)})).next((()=>n))}Hn(t,e){let n=ia(),r=new Vi(hi.comparator);return this.zn(t,e,((t,e)=>{const i=this.jn(t,e);n=n.insert(t,i),r=r.insert(t,Su(e))})).next((()=>({documents:n,Jn:r})))}zn(t,e,n){if(e.isEmpty())return Ei.resolve();let r=new zi(Ju);e.forEach((t=>r=r.add(t)));const i=IDBKeyRange.bound(Yu(r.first()),Yu(r.last())),s=r.getIterator();let o=s.getNext();return Ku(t).Z({index:"documentKeyIndex",range:i},((t,e,r)=>{const i=hi.fromSegments([...e.prefixPath,e.collectionGroup,e.documentId]);for(;o&&Ju(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,e),o=s.hasNext()?s.getNext():null),o?r.j(Yu(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getAllFromCollection(t,e,n){const r=[e.popLast().toArray(),e.lastSegment(),$c(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],i=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ku(t).W(IDBKeyRange.bound(r,i,!0)).next((t=>{let e=ia();for(const n of t){const t=this.jn(hi.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);e=e.insert(t.key,t)}return e}))}getAllFromCollectionGroup(t,e,n,r){let i=ia();const s=Qu(e,n),o=Qu(e,bi.max());return Ku(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((t,e,n)=>{const s=this.jn(hi.fromSegments(e.prefixPath.concat(e.collectionGroup,e.documentId)),e);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(t){return new Wu(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((t=>t.byteSize))}getMetadata(t){return Gu(t).get("remoteDocumentGlobalKey").next((t=>(Vr(!!t),t)))}Qn(t,e){return Gu(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const t=Vc(this.It,e);if(!t.isNoDocument()||!t.version.isEqual(oi.min()))return t}return Os.newInvalidDocument(t)}}function Hu(t){return new qu(t)}class Wu extends zu{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new na((t=>t.toString()),((t,e)=>t.isEqual(e)))}applyChanges(t){const e=[];let n=0,r=new zi(((t,e)=>ni(t.canonicalString(),e.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.Xn.get(i);if(e.push(this.Yn.removeEntry(t,i,o.readTime)),s.isValidDocument()){const a=Uc(this.Yn.It,s);r=r.add(i.path.popLast());const c=Su(a);n+=c-o.size,e.push(this.Yn.addEntry(t,i,a))}else if(n-=o.size,this.trackRemovals){const n=Uc(this.Yn.It,s.convertToNoDocument(oi.min()));e.push(this.Yn.addEntry(t,i,n))}})),r.forEach((n=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,n))})),e.push(this.Yn.updateMetadata(t,n)),Ei.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next((t=>(this.Xn.set(e,{size:t.size,readTime:t.document.readTime}),t.document)))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next((({documents:t,Jn:e})=>(e.forEach(((e,n)=>{this.Xn.set(e,{size:n,readTime:t.get(e).readTime})})),t)))}}function Gu(t){return Nc(t,"remoteDocumentGlobal")}function Ku(t){return Nc(t,"remoteDocumentsV14")}function Yu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Qu(t,e){const n=e.documentKey.path.toArray();return[t,$c(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ju(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ni(n[s],r[s]),i)return i;return i=ni(n.length,r.length),i||(i=ni(n[n.length-2],r[r.length-2]),i||ni(n[n.length-1],r[r.length-1]))
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Xu{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.getBaseDocument(t,e,n)))).next((t=>(null!==n&&Uo(n.mutation,t,Wi.empty(),si.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,fa()).next((()=>e))))}getLocalViewOfDocuments(t,e,n=fa()){const r=ca();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=oa();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=ca();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,fa())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=ia();const s=la(),o=la();return e.forEach(((t,e)=>{const o=n.get(e.key);r.has(e.key)&&(void 0===o||o.mutation instanceof Ho)?i=i.insert(e.key,e):void 0!==o&&(s.set(e.key,o.mutation.getFieldMask()),Uo(o.mutation,e,o.mutation.getFieldMask(),si.now()))})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new Xu(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=la();let r=new Vi(((t,e)=>t-e)),i=fa();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||Wi.empty();o=i.applyToLocalView(s,o),n.set(t,o);const a=(r.get(i.batchId)||fa()).add(t);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,u=ua();c.forEach((t=>{if(!i.has(t)){const r=Bo(e.get(t),n.get(t));null!==r&&u.set(t,r),i=i.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,u))}return Ei.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n){return function(t){return hi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):oo(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):Ei.resolve(ca());let o=-1,a=i;return s.next((e=>Ei.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(e)?Ei.resolve():this.getBaseDocument(t,e,n).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,a,e,fa()))).next((t=>({batchId:o,changes:aa(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new hi(e)).next((t=>{let e=oa();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n){const r=e.collectionGroup;let i=oa();return this.indexManager.getCollectionParents(t,r).next((s=>Ei.forEach(s,(s=>{const o=function(t,e){return new to(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(r));return this.getDocumentsMatchingCollectionQuery(t,o,n).next((t=>{t.forEach(((t,e)=>{i=i.insert(t,e)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(t,e,n){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,n).next((i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId)))).next((t=>{t.forEach(((t,e)=>{const n=e.getKey();null===r.get(n)&&(r=r.insert(n,Os.newInvalidDocument(n)))}));let n=oa();return r.forEach(((r,i)=>{const s=t.get(r);void 0!==s&&Uo(s.mutation,i,Wi.empty(),si.now()),po(e,i)&&(n=n.insert(r,i))})),n}))}getBaseDocument(t,e,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(t,e):Ei.resolve(Os.newInvalidDocument(e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return Ei.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var n;return this.Zn.set(e.id,{id:(n=e).id,version:n.version,createTime:Da(n.createTime)}),Ei.resolve()}getNamedQuery(t,e){return Ei.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,function(t){return{name:t.name,query:Kc(t.bundledQuery),readTime:Da(t.readTime)}}(e)),Ei.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.overlays=new Vi(hi.comparator),this.es=new Map}getOverlay(t,e){return Ei.resolve(this.overlays.get(e))}getOverlays(t,e){const n=ca();return Ei.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.ue(t,e,r)})),Ei.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.es.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.es.delete(n)),Ei.resolve()}getOverlaysForCollection(t,e,n){const r=ca(),i=e.length+1,s=new hi(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return Ei.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new Vi(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=ca(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=ca(),a=i.getIterator();for(;a.hasNext();)if(a.getNext().value.forEach(((t,e)=>o.set(t,e))),o.size()>=r)break;return Ei.resolve(o)}ue(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new Fc(e,n));let i=this.es.get(e);void 0===i&&(i=fa(),this.es.set(e,i)),this.es.set(e,i.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.ns=new zi(rl.ss),this.rs=new zi(rl.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const n=new rl(t,e);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.cs(new rl(t,e))}hs(t,e){t.forEach((t=>this.removeReference(t,e)))}ls(t){const e=new hi(new ci([])),n=new rl(e,t),r=new rl(e,t+1),i=[];return this.rs.forEachInRange([n,r],(t=>{this.cs(t),i.push(t.key)})),i}fs(){this.ns.forEach((t=>this.cs(t)))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new hi(new ci([])),n=new rl(e,t),r=new rl(e,t+1);let i=fa();return this.rs.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new rl(t,0),n=this.ns.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class rl{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return hi.comparator(t.key,e.key)||ni(t._s,e._s)}static os(t,e){return ni(t._s,e._s)||hi.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new zi(rl.ss)}checkEmpty(t){return Ei.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Mc(i,e,n,r);this.mutationQueue.push(s);for(const o of r)this.gs=this.gs.add(new rl(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Ei.resolve(s)}lookupMutationBatch(t,e){return Ei.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.ps(n),i=r<0?0:r;return Ei.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ei.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return Ei.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new rl(e,0),r=new rl(e,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([n,r],(t=>{const e=this.ys(t._s);i.push(e)})),Ei.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new zi(ni);return e.forEach((t=>{const e=new rl(t,0),r=new rl(t,Number.POSITIVE_INFINITY);this.gs.forEachInRange([e,r],(t=>{n=n.add(t._s)}))})),Ei.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;hi.isDocumentKey(i)||(i=i.child(""));const s=new rl(new hi(i),0);let o=new zi(ni);return this.gs.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t._s)),!0)}),s),Ei.resolve(this.Is(o))}Is(t){const e=[];return t.forEach((t=>{const n=this.ys(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Vr(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return Ei.forEach(e.mutations,(r=>{const i=new rl(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.gs=n}))}An(t){}containsKey(t,e){const n=new rl(e,0),r=this.gs.firstAfterOrEqual(n);return Ei.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ei.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t){this.Es=t,this.docs=new Vi(hi.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,s=this.Es(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Ei.resolve(n?n.document.mutableCopy():Os.newInvalidDocument(e))}getEntries(t,e){let n=ia();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Os.newInvalidDocument(t))})),Ei.resolve(n)}getAllFromCollection(t,e,n){let r=ia();const i=new hi(e.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:t,value:{document:i}}=s.getNext();if(!e.isPrefixOf(t.path))break;t.path.length>e.length+1||wi(vi(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return Ei.resolve(r)}getAllFromCollectionGroup(t,e,n,r){Br()}As(t,e){return Ei.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new ol(this)}getSize(t){return Ei.resolve(this.size)}}class ol extends zu{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(n)})),Ei.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t){this.persistence=t,this.Rs=new na((t=>Ps(t)),Ms),this.lastRemoteSnapshotVersion=oi.min(),this.highestTargetId=0,this.bs=0,this.Ps=new nl,this.targetCount=0,this.vs=Ru.Pn()}forEachTarget(t,e){return this.Rs.forEach(((t,n)=>e(n))),Ei.resolve()}getLastRemoteSnapshotVersion(t){return Ei.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ei.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),Ei.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.bs&&(this.bs=e),Ei.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Ru(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,Ei.resolve()}updateTargetData(t,e){return this.Dn(e),Ei.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,Ei.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Rs.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Rs.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)})),Ei.waitFor(i).next((()=>r))}getTargetCount(t){return Ei.resolve(this.targetCount)}getTargetData(t,e){const n=this.Rs.get(e)||null;return Ei.resolve(n)}addMatchingKeys(t,e,n){return this.Ps.us(e,n),Ei.resolve()}removeMatchingKeys(t,e,n){this.Ps.hs(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),Ei.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),Ei.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Ps.ds(e);return Ei.resolve(n)}containsKey(t,e){return Ei.resolve(this.Ps.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Li(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new al(this),this.indexManager=new pu,this.remoteDocumentCache=function(t){return new sl(t)}((t=>this.referenceDelegate.xs(t))),this.It=new Bc(e),this.Ns=new tl(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new el,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Vs[t.toKey()];return n||(n=new il(e,this.referenceDelegate),this.Vs[t.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,n){Mr("MemoryPersistence","Starting transaction:",t);const r=new ul(this.Ss.next());return this.referenceDelegate.ks(),n(r).next((t=>this.referenceDelegate.Ms(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Os(t,e){return Ei.or(Object.values(this.Vs).map((n=>()=>n.containsKey(t,e))))}}class ul extends xi{constructor(t){super(),this.currentSequenceNumber=t}}class ll{constructor(t){this.persistence=t,this.Fs=new nl,this.$s=null}static Bs(t){return new ll(t)}get Ls(){if(this.$s)return this.$s;throw Br()}addReference(t,e,n){return this.Fs.addReference(n,e),this.Ls.delete(n.toString()),Ei.resolve()}removeReference(t,e,n){return this.Fs.removeReference(n,e),this.Ls.add(n.toString()),Ei.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),Ei.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach((t=>this.Ls.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Ls.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}ks(){this.$s=new Set}Ms(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ei.forEach(this.Ls,(n=>{const r=hi.fromPath(n);return this.Us(t,r).next((t=>{t||e.removeEntry(r,oi.min())}))})).next((()=>(this.$s=null,e.apply(t))))}updateLimboDocument(t,e){return this.Us(t,e).next((t=>{t?this.Ls.delete(e.toString()):this.Ls.add(e.toString())}))}xs(t){return 0}Us(t,e){return Ei.or([()=>Ei.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(t){this.It=t}$(t,e,n,r){const i=new Ti("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore("owner")}(t),function(t){t.createObjectStore("mutationQueues",{keyPath:"userId"}),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lc,{unique:!0}),t.createObjectStore("documentMutations")}(t),dl(t),function(t){t.createObjectStore("remoteDocuments")}(t));let s=Ei.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore("targetDocuments"),t.deleteObjectStore("targets"),t.deleteObjectStore("targetGlobal")}(t),dl(t)),s=s.next((()=>function(t){const e=t.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:oi.min().toTimestamp(),targetCount:0};return e.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(t,e){return e.store("mutations").W().next((n=>{t.deleteObjectStore("mutations"),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lc,{unique:!0});const r=e.store("mutations"),i=n.map((t=>r.put(t)));return Ei.waitFor(i)}))}(t,i)))),s=s.next((()=>{!function(t){t.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)}))),n<5&&r>=5&&(s=s.next((()=>this.qs(i)))),n<6&&r>=6&&(s=s.next((()=>(function(t){t.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(i))))),n<7&&r>=7&&(s=s.next((()=>this.Gs(i)))),n<8&&r>=8&&(s=s.next((()=>this.Qs(t,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t)}))),n<10&&r>=10&&(s=s.next((()=>this.js(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(t){t.createObjectStore("bundles",{keyPath:"bundleId"})}(t),function(t){t.createObjectStore("namedQueries",{keyPath:"name"})}(t)}))),n<12&&r>=12&&(s=s.next((()=>{!function(t){const e=t.createObjectStore("documentOverlays",{keyPath:Tc});e.createIndex("collectionPathOverlayIndex",Sc,{unique:!1}),e.createIndex("collectionGroupOverlayIndex",kc,{unique:!1})}(t)}))),n<13&&r>=13&&(s=s.next((()=>function(t){const e=t.createObjectStore("remoteDocumentsV14",{keyPath:pc});e.createIndex("documentKeyIndex",gc),e.createIndex("collectionGroupIndex",mc)}(t))).next((()=>this.Ws(t,i))).next((()=>t.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.zs(t,i)))),n<15&&r>=15&&(s=s.next((()=>function(t){t.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),t.createObjectStore("indexState",{keyPath:_c}).createIndex("sequenceNumberIndex",xc,{unique:!1}),t.createObjectStore("indexEntries",{keyPath:Ic}).createIndex("documentKeyIndex",Ec,{unique:!1})}(t)))),s}Ks(t){let e=0;return t.store("remoteDocuments").Z(((t,n)=>{e+=Su(n)})).next((()=>{const n={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}qs(t){const e=t.store("mutationQueues"),n=t.store("mutations");return e.W().next((e=>Ei.forEach(e,(e=>{const r=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Ei.forEach(n,(n=>{Vr(n.userId===e.userId);const r=Hc(this.It,n);return Tu(t,e.userId,r).next((()=>{}))}))))}))))}Gs(t){const e=t.store("targetDocuments"),n=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next((t=>{const r=[];return n.Z(((n,i)=>{const s=new ci(n),o=function(t){return[0,oc(t)]}(s);r.push(e.get(o).next((n=>n?Ei.resolve():(n=>e.put({targetId:0,path:oc(n),sequenceNumber:t.highestListenSequenceNumber}))(s))))})).next((()=>Ei.waitFor(r)))}))}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:wc});const n=e.store("collectionParents"),r=new gu,i=t=>{if(r.add(t)){const e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:oc(r)})}};return e.store("remoteDocuments").Z({X:!0},((t,e)=>{const n=new ci(t);return i(n.popLast())})).next((()=>e.store("documentMutations").Z({X:!0},(([t,e,n],r)=>{const s=uc(e);return i(s.popLast())}))))}js(t){const e=t.store("targets");return e.Z(((t,n)=>{const r=Wc(n),i=Gc(this.It,r);return e.put(i)}))}Ws(t,e){const n=e.store("remoteDocuments"),r=[];return n.Z(((t,n)=>{const i=e.store("remoteDocumentsV14"),s=(o=n,o.document?new hi(ci.fromString(o.document.name).popFirst(5)):o.noDocument?hi.fromSegments(o.noDocument.path):o.unknownDocument?hi.fromSegments(o.unknownDocument.path):Br()).path.toArray();var o;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>Ei.waitFor(r)))}zs(t,e){const n=e.store("mutations"),r=Hu(this.It),i=new cl(ll.Bs,this.It.re);return n.W().next((t=>{const n=new Map;return t.forEach((t=>{var e;let r=null!==(e=n.get(t.userId))&&void 0!==e?e:fa();Hc(this.It,t).keys().forEach((t=>r=r.add(t))),n.set(t.userId,r)})),Ei.forEach(n,((t,n)=>{const s=new Or(n),o=eu.oe(this.It,s),a=i.getIndexManager(s),c=ku.oe(s,this.It,a,i.referenceDelegate);return new Zu(r,c,o,a).recalculateAndSaveOverlaysForDocumentKeys(new Pc(e,Li.at),t).next()}))}))}}function dl(t){t.createObjectStore("targetDocuments",{keyPath:vc}).createIndex("documentTargetsIndex",bc,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yc,{unique:!0}),t.createObjectStore("targetGlobal")}const fl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pl{constructor(t,e,n,r,i,s,o,a,c,u,l=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Hs=i,this.window=s,this.document=o,this.Js=c,this.Ys=u,this.Xs=l,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=t=>Promise.resolve(),!pl.C())throw new qr(zr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uu(this,r),this.ii=e+"main",this.It=new Bc(a),this.ri=new Si(this.ii,this.Xs,new hl(this.It)),this.Cs=new Pu(this.referenceDelegate,this.It),this.remoteDocumentCache=Hu(this.It),this.Ns=new Xc,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===u&&Lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qr(zr.FAILED_PRECONDITION,fl);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Cs.getHighestSequenceNumber(t)))})).then((t=>{this.Ss=new Li(t,this.Js)})).then((()=>{this.Ds=!0})).catch((t=>(this.ri&&this.ri.close(),Promise.reject(t))))}li(t){return this.si=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L((async e=>{null===e.newVersion&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((async()=>{this.started&&await this.ui()})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>ml(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(t).next((t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable((()=>this.si(!1))))}))})).next((()=>this.di(t))).next((e=>this.isPrimary&&!e?this._i(t).next((()=>!1)):!!e&&this.wi(t).next((()=>!0)))))).catch((t=>{if(Ai(t))return Mr("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Mr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable((()=>this.si(t))),this.isPrimary=t}))}fi(t){return gl(t).get("owner").next((t=>Ei.resolve(this.mi(t))))}gi(t){return ml(t).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const e=Nc(t,"clientMetadata");return e.W().next((t=>{const n=this.Ii(t,18e5),r=t.filter((t=>-1===n.indexOf(t)));return Ei.forEach(r,(t=>e.delete(t.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.oi)for(const e of t)this.oi.removeItem(this.Ti(e.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.ui().then((()=>this.yi())).then((()=>this.hi()))))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?Ei.resolve(!0):gl(t).get("owner").next((e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new qr(zr.FAILED_PRECONDITION,fl);return!1}}return!(!this.networkEnabled||!this.inForeground)||ml(t).W().next((t=>void 0===this.Ii(t,5e3).find((t=>{if(this.clientId!==t.clientId){const e=!this.networkEnabled&&t.networkEnabled,n=!this.inForeground&&t.inForeground,r=this.networkEnabled===t.networkEnabled;if(e||n&&r)return!0}return!1}))))})).next((t=>(this.isPrimary!==t&&Mr("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(t=>{const e=new Pc(t,Li.at);return this._i(e).next((()=>this.gi(e)))})),this.ri.close(),this.Pi()}Ii(t,e){return t.filter((t=>this.pi(t.updateTimeMs,e)&&!this.Ei(t.clientId)))}vi(){return this.runTransaction("getActiveClients","readonly",(t=>ml(t).W().next((t=>this.Ii(t,18e5).map((t=>t.clientId))))))}get started(){return this.Ds}getMutationQueue(t,e){return ku.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new yu(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return eu.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,n){Mr("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",i=15===(s=this.Xs)?Rc:14===s?Dc:13===s?Oc:12===s?Ac:11===s?Cc:void Br();var s;let o;return this.ri.runTransaction(t,r,i,(r=>(o=new Pc(r,this.Ss?this.Ss.next():Li.at),"readwrite-primary"===e?this.fi(o).next((t=>!!t||this.di(o))).next((e=>{if(!e)throw Lr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable((()=>this.si(!1))),new qr(zr.FAILED_PRECONDITION,_i);return n(o)})).next((t=>this.wi(o).next((()=>t)))):this.Vi(o).next((()=>n(o)))))).then((t=>(o.raiseOnCommittedEvent(),t)))}Vi(t){return gl(t).get("owner").next((t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new qr(zr.FAILED_PRECONDITION,fl)}))}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gl(t).put("owner",e)}static C(){return Si.C()}_i(t){const e=gl(t);return e.get("owner").next((t=>this.mi(t)?(Mr("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ei.resolve()))}pi(t,e){const n=Date.now();return!(t<n-e)&&(!(t>n)||(Lr(`Detected an update time that is in the future: ${t} > ${n}`),!1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.ui())))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,c.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const n=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Mr("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(t){return Lr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(I){Lr("Failed to set zombie client id.",I)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(I){}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function gl(t){return Nc(t,"owner")}function ml(t){return Nc(t,"clientMetadata")}function yl(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class vl{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Si=n,this.Di=r}static Ci(t,e){let n=fa(),r=fa();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new vl(t,e.fromCache,n,r)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,n,r){return this.ki(t,e).next((i=>i||this.Mi(t,e,r,n))).next((n=>n||this.Oi(t,e)))}ki(t,e){if(ro(e))return Ei.resolve(null);let n=co(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=uo(e,null,"F"),n=co(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=fa(...r);return this.Ni.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.Fi(e,r);return this.$i(e,s,i,n.readTime)?this.ki(t,uo(e,null,"F")):this.Bi(t,s,e,n)}))))})))))}Mi(t,e,n,r){return ro(e)||r.isEqual(oi.min())?this.Oi(t,e):this.Ni.getDocuments(t,n).next((i=>{const s=this.Fi(e,i);return this.$i(e,s,n,r)?this.Oi(t,e):(Pr()<=a["in"].DEBUG&&Mr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fo(e)),this.Bi(t,s,e,yi(r,-1)))}))}Fi(t,e){let n=new zi(mo(t));return e.forEach(((e,r)=>{po(t,r)&&(n=n.add(r))})),n}$i(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Oi(t,e){return Pr()<=a["in"].DEBUG&&Mr("QueryEngine","Using full collection scan to execute query:",fo(e)),this.Ni.getDocumentsMatchingQuery(t,e,bi.min())}Bi(t,e,n,r){return this.Ni.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,e,n,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new Vi(ni),this.qi=new na((t=>Ps(t)),Ms),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(n)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Zu(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ui)))}}function _l(t,e,n,r){return new wl(t,e,n,r)}async function xl(t,e){const n=$r(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n.Qi(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],s=[];let o=fa();for(const t of r){i.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({ji:t,removedBatchIds:i,addedBatchIds:s})))}))}))}function Il(t,e){const n=$r(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let o=Ei.resolve();return s.forEach((t=>{o=o.next((()=>r.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);Vr(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=fa();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}function El(t){const e=$r(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Cs.getLastRemoteSnapshotVersion(t)))}function Tl(t,e){const n=$r(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const o=[];e.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.Cs.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.Cs.addMatchingKeys(t,s.addedDocuments,a))));let u=c.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(a)?u=u.withResumeToken(Ki.EMPTY_BYTE_STRING,oi.min()).withLastLimboFreeSnapshotVersion(oi.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(c,u,s)&&o.push(n.Cs.updateTargetData(t,u))}));let a=ia(),c=fa();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),o.push(Sl(t,s,e.documentUpdates).next((t=>{a=t.Wi,c=t.zi}))),!r.isEqual(oi.min())){const e=n.Cs.getLastRemoteSnapshotVersion(t).next((e=>n.Cs.setTargetsMetadata(t,t.currentSequenceNumber,r)));o.push(e)}return Ei.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,c))).next((()=>a))})).then((t=>(n.Ui=i,t)))}function Sl(t,e,n){let r=fa(),i=fa();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=ia();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(oi.min())?(e.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),r=r.insert(n,s)):Mr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Wi:r,zi:i}}))}function kl(t,e){const n=$r(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Cl(t,e){const n=$r(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.Cs.getTargetData(t,e).next((i=>i?(r=i,Ei.resolve(r)):n.Cs.allocateTargetId(t).next((i=>(r=new jc(e,i,0,t.currentSequenceNumber),n.Cs.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.Ui.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(t.targetId,t),n.qi.set(e,t.targetId)),t}))}async function Al(t,e,n){const r=$r(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!Ai(t))throw t;Mr("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function Ol(t,e,n){const r=$r(t);let i=oi.min(),s=fa();return r.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const r=$r(t),i=r.qi.get(n);return void 0!==i?Ei.resolve(r.Ui.get(i)):r.Cs.getTargetData(e,n)}(r,t,co(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>r.Li.getDocumentsMatchingQuery(t,e,n?i:oi.min(),n?s:fa()))).next((t=>(Pl(r,go(e),t),{documents:t,Hi:s})))))}function Dl(t,e){const n=$r(t),r=$r(n.Cs),i=n.Ui.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(t=>r.se(t,e).next((t=>t?t.target:null))))}function Rl(t,e){const n=$r(t),r=n.Ki.get(e)||oi.min();return n.persistence.runTransaction("Get new document changes","readonly",(t=>n.Gi.getAllFromCollectionGroup(t,e,yi(r,-1),Number.MAX_SAFE_INTEGER))).then((t=>(Pl(n,e,t),t)))}function Pl(t,e,n){let r=oi.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.Ki.set(e,r)}async function Nl(t,e,n,r){const i=$r(t);let s=fa(),o=ia();for(const u of n){const t=e.Ji(u.metadata.name);u.document&&(s=s.add(t));const n=e.Yi(u);n.setReadTime(e.Xi(u.metadata.readTime)),o=o.insert(t,n)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),c=await Cl(i,function(t){return co(no(ci.fromString(`__bundle__/docs/${t}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(t=>Sl(t,a,o).next((e=>(a.apply(t),e))).next((e=>i.Cs.removeMatchingKeysForTargetId(t,c.targetId).next((()=>i.Cs.addMatchingKeys(t,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(t,e.Wi,e.zi))).next((()=>e.Wi))))))}async function Ml(t,e,n=fa()){const r=await Cl(t,co(Kc(e.bundledQuery))),i=$r(t);return i.persistence.runTransaction("Save named query","readwrite",(t=>{const s=Da(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ns.saveNamedQuery(t,e);const o=r.withResumeToken(Ki.EMPTY_BYTE_STRING,s);return i.Ui=i.Ui.insert(o.targetId,o),i.Cs.updateTargetData(t,o).next((()=>i.Cs.removeMatchingKeysForTargetId(t,r.targetId))).next((()=>i.Cs.addMatchingKeys(t,n,r.targetId))).next((()=>i.Ns.saveNamedQuery(t,e)))}))}function Ll(t,e){return`firestore_clients_${t}_${e}`}function Fl(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function jl(t,e){return`firestore_targets_${t}_${e}`}class Bl{constructor(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}static Zi(t,e,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new qr(r.error.code,r.error.message))),s?new Bl(t,e,r.state,i):(Lr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Vl{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static Zi(t,e){const n=JSON.parse(e);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new qr(n.error.code,n.error.message))),i?new Vl(t,n.state,r):(Lr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ul{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const n=JSON.parse(e);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=ga();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=os(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Ul(t,i):(Lr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class $l{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new $l(e.clientId,e.onlineState):(Lr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class zl{constructor(){this.activeTargetIds=ga()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ql{constructor(t,e,n,r,i){this.window=t,this.Hs=e,this.persistenceKey=n,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Vi(ni),this.started=!1,this.cr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ar=Ll(this.persistenceKey,this.sr),this.hr=function(t){return`firestore_sequence_number_${t}`}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.ur=this.ur.insert(this.sr,new zl),this.lr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.wr=function(t){return`firestore_online_state_${t}`}(this.persistenceKey),this.mr=function(t){return`firestore_bundle_loaded_v2_${t}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.vi();for(const n of t){if(n===this.sr)continue;const t=this.getItem(Ll(this.persistenceKey,n));if(t){const e=Ul.Zi(n,t);e&&(this.ur=this.ur.insert(e.clientId,e))}}this.gr();const e=this.storage.getItem(this.wr);if(e){const t=this.yr(e);t&&this.pr(t)}for(const n of this.cr)this.rr(n);this.cr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach(((n,r)=>{r.activeTargetIds.has(t)&&(e=!0)})),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,n){this.Tr(t,e,n),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(jl(this.persistenceKey,t));if(n){const r=Vl.Zi(t,n);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(jl(this.persistenceKey,t))}updateQueryState(t,e,n){this.Rr(t,e,n)}handleUserChange(t,e,n){e.forEach((t=>{this.Er(t)})),this.currentUser=t,n.forEach((t=>{this.addPendingMutation(t)}))}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Mr("SharedClientState","READ",t,e),e}setItem(t,e){Mr("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Mr("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){const e=t;if(e.storageArea===this.storage){if(Mr("SharedClientState","EVENT",e.key,e.newValue),e.key===this.ar)return void Lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((async()=>{if(this.started){if(null!==e.key)if(this.lr.test(e.key)){if(null==e.newValue){const t=this.vr(e.key);return this.Vr(t,null)}{const t=this.Sr(e.key,e.newValue);if(t)return this.Vr(t.clientId,t)}}else if(this.dr.test(e.key)){if(null!==e.newValue){const t=this.Dr(e.key,e.newValue);if(t)return this.Cr(t)}}else if(this._r.test(e.key)){if(null!==e.newValue){const t=this.Nr(e.key,e.newValue);if(t)return this.kr(t)}}else if(e.key===this.wr){if(null!==e.newValue){const t=this.yr(e.newValue);if(t)return this.pr(t)}}else if(e.key===this.hr){const t=function(t){let e=Li.at;if(null!=t)try{const n=JSON.parse(t);Vr("number"==typeof n),e=n}catch(t){Lr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(e.newValue);t!==Li.at&&this.sequenceNumberHandler(t)}else if(e.key===this.mr){const t=this.Mr(e.newValue);await Promise.all(t.map((t=>this.syncEngine.Or(t))))}}else this.cr.push(e)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,n){const r=new Bl(this.currentUser,t,e,n),i=Fl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.tr())}Er(t){const e=Fl(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){const e={clientId:this.sr,onlineState:t};this.storage.setItem(this.wr,JSON.stringify(e))}Rr(t,e,n){const r=jl(this.persistenceKey,t),i=new Vl(t,e,n);this.setItem(r,i.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const n=this.vr(t);return Ul.Zi(n,e)}Dr(t,e){const n=this.dr.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Bl.Zi(new Or(i),r,e)}Nr(t,e){const n=this._r.exec(t),r=Number(n[1]);return Vl.Zi(r,e)}yr(t){return $l.Zi(t)}Mr(t){return JSON.parse(t)}async Cr(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.Fr(t.batchId,t.state,t.error);Mr("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const n=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),i=this.Ir(n),s=[],o=[];return i.forEach((t=>{r.has(t)||s.push(t)})),r.forEach((t=>{i.has(t)||o.push(t)})),this.syncEngine.Br(s,o).then((()=>{this.ur=n}))}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=ga();return t.forEach(((t,n)=>{e=e.unionWith(n.activeTargetIds)})),e}}class Hl{constructor(){this.Lr=new zl,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,n){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new zl,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{qr(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Mr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Mr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.oo=e+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,n,r,i){const s=this.ao(t,e);Mr("RestConnection","Sending: ",s,n);const o={};return this.ho(o,r,i),this.lo(t,s,o,n).then((t=>(Mr("RestConnection","Received: ",t),t)),(e=>{throw Fr("RestConnection",`${t} failed with error: `,e,"url: ",s,"request:",n),e}))}fo(t,e,n,r,i,s){return this.co(t,e,n,r,i)}ho(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Dr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}ao(t,e){const n=Kl[t];return`${this.oo}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,n,r){return new Promise(((i,s)=>{const o=new Cr;o.listenOnce(Ir.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case xr.NO_ERROR:const e=o.getResponseJson();Mr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case xr.TIMEOUT:Mr("Connection",'RPC "'+t+'" timed out'),s(new qr(zr.DEADLINE_EXCEEDED,"Request time out"));break;case xr.HTTP_ERROR:const n=o.getStatus();if(Mr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const t=o.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(zr).indexOf(e)>=0?e:zr.UNKNOWN}(t.status);s(new qr(e,t.message))}else s(new qr(zr.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new qr(zr.UNAVAILABLE,"Connection failed."));break;default:Br()}}finally{Mr("Connection",'RPC "'+t+'" completed.')}}));const a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))}_o(t,e,n){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=wr(),s=_r(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Sr({})),this.ho(o.initMessageHeaders,e,n),o.encodeInitMessageHeaders=!0;const a=r.join("");Mr("Connection","Creating WebChannel: "+a,o);const c=i.createWebChannel(a,o);let u=!1,l=!1;const h=new Yl({Hr:t=>{l?Mr("Connection","Not sending because WebChannel is closed:",t):(u||(Mr("Connection","Opening WebChannel transport."),c.open(),u=!0),Mr("Connection","WebChannel sending:",t),c.send(t))},Jr:()=>c.close()}),d=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return d(c,kr.EventType.OPEN,(()=>{l||Mr("Connection","WebChannel transport opened.")})),d(c,kr.EventType.CLOSE,(()=>{l||(l=!0,Mr("Connection","WebChannel transport closed"),h.io())})),d(c,kr.EventType.ERROR,(t=>{l||(l=!0,Fr("Connection","WebChannel transport errored:",t),h.io(new qr(zr.UNAVAILABLE,"The operation could not be completed")))})),d(c,kr.EventType.MESSAGE,(t=>{var e;if(!l){const n=t.data[0];Vr(!!n);const r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Mr("Connection","WebChannel received error:",i);const t=i.status;let e=function(t){const e=Xo[t];if(void 0!==e)return ea(e)}(t),n=i.message;void 0===e&&(e=zr.INTERNAL,n="Unknown error status: "+t+" with message "+i.message),l=!0,h.io(new qr(e,n)),c.close()}else Mr("Connection","WebChannel received:",n),h.ro(n)}})),d(s,Er.STAT_EVENT,(t=>{t.stat===Tr.PROXY?Mr("Connection","Detected buffering proxy"):t.stat===Tr.NOPROXY&&Mr("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.so()}),0),h}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(){return"undefined"!=typeof window?window:null}function Xl(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){return new ka(t,!0)}class th{constructor(t,e,n=1e3,r=1.5,i=6e4){this.Hs=t,this.timerId=e,this.wo=n,this.mo=r,this.yo=i,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),n=Math.max(0,Date.now()-this.To),r=Math.max(0,e-n);r>0&&Mr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,(()=>(this.To=Date.now(),t()))),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,e,n,r,i,s,o,a){this.Hs=t,this.Po=n,this.vo=r,this.Vo=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new th(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(()=>this.$o())))}Bo(t){this.Lo(),this.stream.send(t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(t,e){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():e&&e.code===zr.RESOURCE_EXHAUSTED?(Lr(e.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):e&&e.code===zr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(e)}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.So===e&&this.Go(t,n)}),(e=>{t((()=>{const t=new qr(zr.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Qo(t)}))}))}Go(t,e){const n=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr((()=>{n((()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,(()=>(this.ko()&&(this.state=3),Promise.resolve()))),this.listener.Yr())))})),this.stream.Zr((t=>{n((()=>this.Qo(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}Mo(){this.state=5,this.xo.Ao((async()=>{this.state=0,this.start()}))}Qo(t){return Mr("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget((()=>this.So===t?e():(Mr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nh extends eh{constructor(t,e,n,r,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,s),this.It=i}jo(t,e){return this.Vo._o("Listen",t,e)}onMessage(t){this.xo.reset();const e=za(this.It,t),n=function(t){if(!("targetChange"in t))return oi.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?oi.min():e.readTime?Da(e.readTime):oi.min()}(t);return this.listener.Wo(e,n)}zo(t){const e={};e.database=ja(this.It),e.addTarget=function(t,e){let n;const r=e.target;return n=Ls(r)?{documents:Ga(t,r)}:{query:Ka(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Aa(t,e.resumeToken):e.snapshotVersion.compareTo(oi.min())>0&&(n.readTime=Ca(t,e.snapshotVersion.toTimestamp())),n}(this.It,t);const n=Qa(this.It,t);n&&(e.labels=n),this.Bo(e)}Ho(t){const e={};e.database=ja(this.It),e.removeTarget=t,this.Bo(e)}}class rh extends eh{constructor(t,e,n,r,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,s),this.It=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.Vo._o("Write",t,e)}onMessage(t){if(Vr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=Wa(t.writeResults,t.commitTime),n=Da(t.commitTime);return this.listener.Zo(n,e)}return Vr(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=ja(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>qa(this.It,t)))};this.Bo(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.Vo=n,this.It=r,this.nu=!1}su(){if(this.nu)throw new qr(zr.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.Vo.co(t,e,n,r,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===zr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new qr(zr.UNKNOWN,t.toString())}))}fo(t,e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.Vo.fo(t,e,n,i,s,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===zr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new qr(zr.UNKNOWN,t.toString())}))}terminate(){this.nu=!0}}class sh{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Lr(e),this.ou=!1):Mr("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.qr((t=>{n.enqueueAndForget((async()=>{gh(this)&&(Mr("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=$r(t);e._u.add(4),await ch(e),e.gu.set("Unknown"),e._u.delete(4),await ah(e)}(this))}))})),this.gu=new sh(n,r)}}async function ah(t){if(gh(t))for(const e of t.wu)await e(!0)}async function ch(t){for(const e of t.wu)await e(!1)}function uh(t,e){const n=$r(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),ph(n)?fh(n):Ph(n).ko()&&hh(n,e))}function lh(t,e){const n=$r(t),r=Ph(n);n.du.delete(e),r.ko()&&dh(n,e),0===n.du.size&&(r.ko()?r.Fo():gh(n)&&n.gu.set("Unknown"))}function hh(t,e){t.yu.Ot(e.targetId),Ph(t).zo(e)}function dh(t,e){t.yu.Ot(e),Ph(t).Ho(e)}function fh(t){t.yu=new xa({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),Ph(t).start(),t.gu.uu()}function ph(t){return gh(t)&&!Ph(t).No()&&t.du.size>0}function gh(t){return 0===$r(t)._u.size}function mh(t){t.yu=void 0}async function yh(t){t.du.forEach(((e,n)=>{hh(t,e)}))}async function vh(t,e){mh(t),ph(t)?(t.gu.hu(e),fh(t)):t.gu.set("Unknown")}async function bh(t,e,n){if(t.gu.set("Online"),e instanceof wa&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.du.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.du.delete(r),t.yu.removeTarget(r))}(t,e)}catch(n){Mr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await wh(t,n)}else if(e instanceof va?t.yu.Gt(e):e instanceof ba?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(oi.min()))try{const e=await El(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.yu.te(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.du.get(r);i&&t.du.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((e=>{const n=t.du.get(e);if(!n)return;t.du.set(e,n.withResumeToken(Ki.EMPTY_BYTE_STRING,n.snapshotVersion)),dh(t,e);const r=new jc(n.target,e,1,n.sequenceNumber);hh(t,r)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Mr("RemoteStore","Failed to raise snapshot:",e),await wh(t,e)}}async function wh(t,e,n){if(!Ai(e))throw e;t._u.add(1),await ch(t),t.gu.set("Offline"),n||(n=()=>El(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Mr("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await ah(t)}))}function _h(t,e){return e().catch((n=>wh(t,n,e)))}async function xh(t){const e=$r(t),n=Nh(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Ih(e);)try{const t=await kl(e.localStore,r);if(null===t){0===e.fu.length&&n.Fo();break}r=t.batchId,Eh(e,t)}catch(t){await wh(e,t)}Th(e)&&Sh(e)}function Ih(t){return gh(t)&&t.fu.length<10}function Eh(t,e){t.fu.push(e);const n=Nh(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function Th(t){return gh(t)&&!Nh(t).No()&&t.fu.length>0}function Sh(t){Nh(t).start()}async function kh(t){Nh(t).eu()}async function Ch(t){const e=Nh(t);for(const n of t.fu)e.Xo(n.mutations)}async function Ah(t,e,n){const r=t.fu.shift(),i=Lc.from(r,e,n);await _h(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await xh(t)}async function Oh(t,e){e&&Nh(t).Yo&&await async function(t,e){if(n=e.code,ta(n)&&n!==zr.ABORTED){const n=t.fu.shift();Nh(t).Oo(),await _h(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await xh(t)}var n}(t,e),Th(t)&&Sh(t)}async function Dh(t,e){const n=$r(t);n.asyncQueue.verifyOperationInProgress(),Mr("RemoteStore","RemoteStore received new credentials");const r=gh(n);n._u.add(3),await ch(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await ah(n)}async function Rh(t,e){const n=$r(t);e?(n._u.delete(2),await ah(n)):e||(n._u.add(2),await ch(n),n.gu.set("Unknown"))}function Ph(t){return t.pu||(t.pu=function(t,e,n){const r=$r(t);return r.su(),new nh(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t.datastore,t.asyncQueue,{Yr:yh.bind(null,t),Zr:vh.bind(null,t),Wo:bh.bind(null,t)}),t.wu.push((async e=>{e?(t.pu.Oo(),ph(t)?fh(t):t.gu.set("Unknown")):(await t.pu.stop(),mh(t))}))),t.pu}function Nh(t){return t.Iu||(t.Iu=function(t,e,n){const r=$r(t);return r.su(),new rh(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(t.datastore,t.asyncQueue,{Yr:kh.bind(null,t),Zr:Oh.bind(null,t),tu:Ch.bind(null,t),Zo:Ah.bind(null,t)}),t.wu.push((async e=>{e?(t.Iu.Oo(),await xh(t)):(await t.Iu.stop(),t.fu.length>0&&(Mr("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))}))),t.Iu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Mh{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,o=new Mh(t,e,s,r,i);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qr(zr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lh(t,e){if(Lr("AsyncQueue",`${e}: ${t}`),Ai(t))return new qr(zr.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t){this.comparator=t?(e,n)=>t(e,n)||hi.comparator(e.key,n.key):(t,e)=>hi.comparator(t.key,e.key),this.keyedMap=oa(),this.sortedSet=new Vi(this.comparator)}static emptySet(t){return new Fh(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Fh))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Fh;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this.Tu=new Vi(hi.comparator)}track(t){const e=t.doc.key,n=this.Tu.get(e);n?0!==t.type&&3===n.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==n.type?this.Tu=this.Tu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Tu=this.Tu.remove(e):1===t.type&&2===n.type?this.Tu=this.Tu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):Br():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Bh{constructor(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,r){const i=[];return e.forEach((t=>{i.push({type:0,doc:t})})),new Bh(t,e,Fh.emptySet(e),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this.Au=void 0,this.listeners=[]}}class Uh{constructor(){this.queries=new na((t=>ho(t)),lo),this.onlineState="Unknown",this.Ru=new Set}}async function $h(t,e){const n=$r(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Vh),i)try{s.Au=await n.onListen(r)}catch(t){const n=Lh(t,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&Wh(n)}async function zh(t,e){const n=$r(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function qh(t,e){const n=$r(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.listeners)t.Pu(i)&&(r=!0);e.Au=i}}r&&Wh(n)}function Hh(t,e,n){const r=$r(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Wh(t){t.Ru.forEach((t=>{t.next()}))}class Gh{constructor(t,e,n){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Bh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.Nu||!n)&&(!t.docs.isEmpty()||"Offline"===e)}Du(t){if(t.docChanges.length>0)return!0;const e=this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}xu(t){t=Bh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Vu=!0,this.vu.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,e){this.payload=t,this.byteLength=e}ku(){return"metadata"in this.payload}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t){this.It=t}Ji(t){return Ma(this.It,t)}Yi(t){return t.metadata.exists?Ua(this.It,t.document,!1):Os.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Da(t)}}class Qh{constructor(t,e,n){this.Mu=t,this.localStore=e,this.It=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Jh(t)}Ou(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const n=ci.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Fu(t){const e=new Map,n=new Yh(this.It);for(const r of t)if(r.metadata.queries){const t=n.Ji(r.metadata.name);for(const n of r.metadata.queries){const r=(e.get(n)||fa()).add(t);e.set(n,r)}}return e}async complete(){const t=await Nl(this.localStore,new Yh(this.It),this.documents,this.Mu.id),e=this.Fu(this.documents);for(const n of this.queries)await Ml(this.localStore,n,e.get(n.name));return this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:t}}}function Jh(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t){this.key=t}}class Zh{constructor(t){this.key=t}}class td{constructor(t,e){this.query=t,this.Lu=e,this.Uu=null,this.current=!1,this.qu=fa(),this.mutatedKeys=fa(),this.Ku=mo(t),this.Gu=new Fh(this.Ku)}get Qu(){return this.Lu}ju(t,e){const n=e?e.Wu:new jh,r=e?e.Gu:this.Gu;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const u=r.get(t),l=po(this.query,e)?e:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.zu(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Ku(l,a)>0||c&&this.Ku(l,c)<0)&&(o=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{Gu:s,Wu:n,$i:o,mutatedKeys:i}}zu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const i=t.Wu.Eu();i.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Br()}};return n(t)-n(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.type,e.type)||this.Ku(t.doc,e.doc))),this.Hu(n);const s=e?this.Ju():[],o=0===this.qu.size&&this.current?1:0,a=o!==this.Uu;return this.Uu=o,0!==i.length||a?{snapshot:new Bh(this.query,t.Gu,r,i,t.mutatedKeys,0===o,a,!1),Yu:s}:{Yu:s}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new jh,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach((t=>this.Lu=this.Lu.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.Lu=this.Lu.delete(t))),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.qu;this.qu=fa(),this.Gu.forEach((t=>{this.Xu(t.key)&&(this.qu=this.qu.add(t.key))}));const e=[];return t.forEach((t=>{this.qu.has(t)||e.push(new Zh(t))})),this.qu.forEach((n=>{t.has(n)||e.push(new Xh(n))})),e}Zu(t){this.Lu=t.Hi,this.qu=fa();const e=this.ju(t.documents);return this.applyChanges(e,!0)}tc(){return Bh.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class ed{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class nd{constructor(t){this.key=t,this.ec=!1}}class rd{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nc={},this.sc=new na((t=>ho(t)),lo),this.ic=new Map,this.rc=new Set,this.oc=new Vi(hi.comparator),this.uc=new Map,this.cc=new nl,this.ac={},this.hc=new Map,this.lc=Ru.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}async function id(t,e){const n=Pd(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const t=await Cl(n.localStore,co(e));n.isPrimaryClient&&uh(n.remoteStore,t);const s=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=await sd(n,e,r,"current"===s)}return i}async function sd(t,e,n,r){t.dc=(e,n,r)=>async function(t,e,n,r){let i=e.view.ju(n);i.$i&&(i=await Ol(t.localStore,e.query,!1).then((({documents:t})=>e.view.ju(t,i))));const s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s);return vd(t,e.targetId,o.Yu),o.snapshot}(t,e,n,r);const i=await Ol(t.localStore,e,!0),s=new td(e,i.Hi),o=s.ju(i.documents),a=ya.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=s.applyChanges(o,t.isPrimaryClient,a);vd(t,n,c.Yu);const u=new ed(e,n,s);return t.sc.set(e,u),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),c.snapshot}async function od(t,e){const n=$r(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter((t=>!lo(t,e)))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Al(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),lh(n.remoteStore,r.targetId),md(n,r.targetId)})).catch(Ii)):(md(n,r.targetId),await Al(n.localStore,r.targetId,!0))}async function ad(t,e,n){const r=Nd(t);try{const t=await function(t,e){const n=$r(t),r=si.now(),i=e.reduce(((t,e)=>t.add(e.key)),fa());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=ia(),c=fa();return n.Gi.getEntries(t,i).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(c=c.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((i=>{s=i;const o=[];for(const t of e){const e=$o(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new Ho(t.key,e,As(e.value.mapValue),Lo.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,o,e)})).next((e=>{o=e;const r=e.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:aa(s)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.ac[t.currentUser.toKey()];r||(r=new Vi(ni)),r=r.insert(e,n),t.ac[t.currentUser.toKey()]=r}(r,t.batchId,n),await _d(r,t.changes),await xh(r.remoteStore)}catch(t){const e=Lh(t,"Failed to persist write");n.reject(e)}}async function cd(t,e){const n=$r(t);try{const t=await Tl(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.uc.get(e);r&&(Vr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.ec=!0:t.modifiedDocuments.size>0?Vr(r.ec):t.removedDocuments.size>0&&(Vr(r.ec),r.ec=!1))})),await _d(n,t,e)}catch(t){await Ii(t)}}function ud(t,e,n){const r=$r(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.sc.forEach(((n,r)=>{const i=r.view.bu(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=$r(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const i of n.listeners)i.bu(e)&&(r=!0)})),r&&Wh(n)}(r.eventManager,e),t.length&&r.nc.Wo(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ld(t,e,n){const r=$r(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let t=new Vi(hi.comparator);t=t.insert(s,Os.newNoDocument(s,oi.min()));const n=fa().add(s),i=new ma(oi.min(),new Map,new zi(ni),t,n);await cd(r,i),r.oc=r.oc.remove(s),r.uc.delete(e),wd(r)}else await Al(r.localStore,e,!1).then((()=>md(r,e,n))).catch(Ii)}async function hd(t,e){const n=$r(t),r=e.batch.batchId;try{const t=await Il(n.localStore,e);gd(n,r,null),pd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _d(n,t)}catch(t){await Ii(t)}}async function dd(t,e,n){const r=$r(t);try{const t=await function(t,e){const n=$r(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(Vr(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);gd(r,e,n),pd(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _d(r,t)}catch(n){await Ii(n)}}async function fd(t,e){const n=$r(t);gh(n.remoteStore)||Mr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=await function(t){const e=$r(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(t=>e.mutationQueue.getHighestUnacknowledgedBatchId(t)))}(n.localStore);if(-1===t)return void e.resolve();const r=n.hc.get(t)||[];r.push(e),n.hc.set(t,r)}catch(t){const n=Lh(t,"Initialization of waitForPendingWrites() operation failed");e.reject(n)}}function pd(t,e){(t.hc.get(e)||[]).forEach((t=>{t.resolve()})),t.hc.delete(e)}function gd(t,e,n){const r=$r(t);let i=r.ac[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function md(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc._c(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach((e=>{t.cc.containsKey(e)||yd(t,e)}))}function yd(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);null!==n&&(lh(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),wd(t))}function vd(t,e,n){for(const r of n)r instanceof Xh?(t.cc.addReference(r.key,e),bd(t,r)):r instanceof Zh?(Mr("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||yd(t,r.key)):Br()}function bd(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(Mr("SyncEngine","New document in limbo: "+n),t.rc.add(r),wd(t))}function wd(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new hi(ci.fromString(e)),r=t.lc.next();t.uc.set(r,new nd(n)),t.oc=t.oc.insert(n,r),uh(t.remoteStore,new jc(co(no(n.path)),r,2,Li.at))}}async function _d(t,e,n){const r=$r(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach(((t,a)=>{o.push(r.dc(a,e,n).then((t=>{if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);const e=vl.Ci(a.targetId,t);s.push(e)}})))})),await Promise.all(o),r.nc.Wo(i),await async function(t,e){const n=$r(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>Ei.forEach(e,(e=>Ei.forEach(e.Si,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>Ei.forEach(e.Di,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!Ai(t))throw t;Mr("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.Ui.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ui=n.Ui.insert(t,i)}}}(r.localStore,s))}async function xd(t,e){const n=$r(t);if(!n.currentUser.isEqual(e)){Mr("SyncEngine","User change. New user:",e.toKey());const t=await xl(n.localStore,e);n.currentUser=e,function(t,e){t.hc.forEach((t=>{t.forEach((t=>{t.reject(new qr(zr.CANCELLED,e))}))})),t.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await _d(n,t.ji)}}function Id(t,e){const n=$r(t),r=n.uc.get(e);if(r&&r.ec)return fa().add(r.key);{let t=fa();const r=n.ic.get(e);if(!r)return t;for(const e of r){const r=n.sc.get(e);t=t.unionWith(r.view.Qu)}return t}}async function Ed(t,e){const n=$r(t),r=await Ol(n.localStore,e.query,!0),i=e.view.Zu(r);return n.isPrimaryClient&&vd(n,e.targetId,i.Yu),i}async function Td(t,e){const n=$r(t);return Rl(n.localStore,e).then((t=>_d(n,t)))}async function Sd(t,e,n,r){const i=$r(t),s=await function(t,e){const n=$r(t),r=$r(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(t=>r.Tn(t,e).next((e=>e?n.localDocuments.getDocuments(t,e):Ei.resolve(null)))))}(i.localStore,e);null!==s?("pending"===n?await xh(i.remoteStore):"acknowledged"===n||"rejected"===n?(gd(i,e,r||null),pd(i,e),function(t,e){$r($r(t).mutationQueue).An(e)}(i.localStore,e)):Br(),await _d(i,s)):Mr("SyncEngine","Cannot apply mutation batch with id: "+e)}async function kd(t,e){const n=$r(t);if(Pd(n),Nd(n),!0===e&&!0!==n.fc){const t=n.sharedClientState.getAllActiveQueryTargets(),e=await Cd(n,t.toArray());n.fc=!0,await Rh(n.remoteStore,!0);for(const r of e)uh(n.remoteStore,r)}else if(!1===e&&!1!==n.fc){const t=[];let e=Promise.resolve();n.ic.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?t.push(i):e=e.then((()=>(md(n,i),Al(n.localStore,i,!0)))),lh(n.remoteStore,i)})),await e,await Cd(n,t),function(t){const e=$r(t);e.uc.forEach(((t,n)=>{lh(e.remoteStore,n)})),e.cc.fs(),e.uc=new Map,e.oc=new Vi(hi.comparator)}(n),n.fc=!1,await Rh(n.remoteStore,!1)}}async function Cd(t,e,n){const r=$r(t),i=[],s=[];for(const o of e){let t;const e=r.ic.get(o);if(e&&0!==e.length){t=await Cl(r.localStore,co(e[0]));for(const t of e){const e=r.sc.get(t),n=await Ed(r,e);n.snapshot&&s.push(n.snapshot)}}else{const e=await Dl(r.localStore,o);t=await Cl(r.localStore,e),await sd(r,Ad(e),o,!1)}i.push(t)}return r.nc.Wo(s),i}function Ad(t){return eo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Od(t){const e=$r(t);return $r($r(e.localStore).persistence).vi()}async function Dd(t,e,n,r){const i=$r(t);if(i.fc)return void Mr("SyncEngine","Ignoring unexpected query state notification.");const s=i.ic.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const t=await Rl(i.localStore,go(s[0])),r=ma.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);await _d(i,t,r);break}case"rejected":await Al(i.localStore,e,!0),md(i,e,r);break;default:Br()}}async function Rd(t,e,n){const r=Pd(t);if(r.fc){for(const t of e){if(r.ic.has(t)){Mr("SyncEngine","Adding an already active target "+t);continue}const e=await Dl(r.localStore,t),n=await Cl(r.localStore,e);await sd(r,Ad(e),n.targetId,!1),uh(r.remoteStore,n)}for(const t of n)r.ic.has(t)&&await Al(r.localStore,t,!1).then((()=>{lh(r.remoteStore,t),md(r,t)})).catch(Ii)}}function Pd(t){const e=$r(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Id.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ld.bind(null,e),e.nc.Wo=qh.bind(null,e.eventManager),e.nc._c=Hh.bind(null,e.eventManager),e}function Nd(t){const e=$r(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dd.bind(null,e),e}function Md(t,e,n){const r=$r(t);(async function(t,e,n){try{const r=await e.getMetadata();if(await function(t,e){const n=$r(t),r=Da(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(t=>n.Ns.getBundleMetadata(t,e.id))).then((t=>!!t&&t.createTime.compareTo(r)>=0))}(t.localStore,r))return await e.close(),n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Jh(r));const i=new Qh(r,t.localStore,e.It);let s=await e.wc();for(;s;){const t=await i.Ou(s);t&&n._updateProgress(t),s=await e.wc()}const o=await i.complete();return await _d(t,o.Bu,void 0),await function(t,e){const n=$r(t);return n.persistence.runTransaction("Save bundle","readwrite",(t=>n.Ns.saveBundleMetadata(t,e)))}(t.localStore,r),n._completeWith(o.progress),Promise.resolve(o.$u)}catch(t){return Fr("SyncEngine",`Loading bundle failed with ${t}`),n._failWith(t),Promise.resolve(new Set)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(r,e,n).then((t=>{r.sharedClientState.notifyBundleLoaded(t)}))}class Ld{constructor(){this.synchronizeTabs=!1}async initialize(t){this.It=Zl(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),await this.persistence.start(),this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore)}Ic(t,e){return null}Tc(t,e){return null}yc(t){return _l(this.persistence,new bl,t.initialUser,this.It)}gc(t){return new cl(ll.Bs,this.It)}mc(t){return new Hl}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Fd extends Ld{constructor(t,e,n){super(),this.Ec=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.Ec.initialize(this,t),await Nd(this.Ec.syncEngine),await xh(this.Ec.remoteStore),await this.persistence.li((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}yc(t){return _l(this.persistence,new bl,t.initialUser,this.It)}Ic(t,e){const n=this.persistence.referenceDelegate.garbageCollector;return new Bu(n,t.asyncQueue,e)}Tc(t,e){const n=new Mi(e,this.persistence);return new Ni(t.asyncQueue,n)}gc(t){const e=yl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Eu.withCacheSize(this.cacheSizeBytes):Eu.DEFAULT;return new pl(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Jl(),Xl(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(t){return new Hl}}class jd extends Fd{constructor(t,e){super(t,e,!1),this.Ec=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.Ec.syncEngine;this.sharedClientState instanceof ql&&(this.sharedClientState.syncEngine={Fr:Sd.bind(null,e),$r:Dd.bind(null,e),Br:Rd.bind(null,e),vi:Od.bind(null,e),Or:Td.bind(null,e)},await this.sharedClientState.start()),await this.persistence.li((async t=>{await kd(this.Ec.syncEngine,t),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start():t||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(t&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():t||this.indexBackfillerScheduler.stop())}))}mc(t){const e=Jl();if(!ql.C(e))throw new qr(zr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=yl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ql(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class Bd{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>ud(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=xd.bind(null,this.syncEngine),await Rh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Uh}createDatastore(t){const e=Zl(t.databaseInfo.databaseId),n=(r=t.databaseInfo,new Ql(r));var r;return function(t,e,n,r){return new ih(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>ud(this.syncEngine,t,0),s=Gl.C()?new Gl:new Wl,new oh(e,n,r,i,s);var e,n,r,i,s}createSyncEngine(t,e){return function(t,e,n,r,i,s,o){const a=new rd(t,e,n,r,i,s);return o&&(a.fc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=$r(t);Mr("RemoteStore","RemoteStore shutting down."),e._u.add(5),await ch(e),e.mu.shutdown(),e.gu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ac(this.observer.next,t)}error(t){this.observer.error?this.Ac(this.observer.error,t):Lr("Uncaught Error in snapshot listener:",t)}Rc(){this.muted=!0}Ac(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(t,e){this.bc=t,this.It=e,this.metadata=new Hr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((t=>{t&&t.ku()?this.metadata.resolve(t.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==t?void 0:t.payload)}`))}),(t=>this.metadata.reject(t)))}close(){return this.bc.cancel()}async getMetadata(){return this.metadata.promise}async wc(){return await this.getMetadata(),this.vc()}async vc(){const t=await this.Vc();if(null===t)return null;const e=this.Pc.decode(t),n=Number(e);isNaN(n)&&this.Sc(`length string (${e}) is not valid number`);const r=await this.Dc(n);return new Kh(JSON.parse(r),t.length+n)}Cc(){return this.buffer.findIndex((t=>t==="{".charCodeAt(0)))}async Vc(){for(;this.Cc()<0;)if(await this.xc())break;if(0===this.buffer.length)return null;const t=this.Cc();t<0&&this.Sc("Reached the end of bundle when a length string is expected.");const e=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),e}async Dc(t){for(;this.buffer.length<t;)await this.xc()&&this.Sc("Reached the end of bundle when more is expected.");const e=this.Pc.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),e}Sc(t){throw this.bc.cancel(),new Error(`Invalid bundle format: ${t}`)}async xc(){const t=await this.bc.read();if(!t.done){const e=new Uint8Array(this.buffer.length+t.value.length);e.set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e}return t.done}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new qr(zr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const e=await async function(t,e){const n=$r(t),r=ja(n.It)+"/documents",i={documents:e.map((t=>Na(n.It,t)))},s=await n.fo("BatchGetDocuments",r,i,e.length),o=new Map;s.forEach((t=>{const e=$a(n.It,t);o.set(e.key.toString(),e)}));const a=[];return e.forEach((t=>{const e=o.get(t.toString());Vr(!!e),a.push(e)})),a}(this.datastore,t);return e.forEach((t=>this.recordVersion(t))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())}delete(t){this.write(new Yo(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((t,e)=>{const n=hi.fromPath(e);this.mutations.push(new Qo(n,this.precondition(n)))})),await async function(t,e){const n=$r(t),r=ja(n.It)+"/documents",i={writes:e.map((t=>qa(n.It,t)))};await n.co("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Br();e=oi.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new qr(zr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(oi.min())?Lo.exists(!1):Lo.updateTime(e):Lo.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(oi.min()))throw new qr(zr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lo.updateTime(e)}return Lo.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t,e,n,r,i){this.asyncQueue=t,this.datastore=e,this.options=n,this.updateFunction=r,this.deferred=i,this.Nc=n.maxAttempts,this.xo=new th(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){this.xo.Ao((async()=>{const t=new zd(this.datastore),e=this.Mc(t);e&&e.then((e=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(e)})).catch((t=>{this.Oc(t)}))))})).catch((t=>{this.Oc(t)}))}))}Mc(t){try{const e=this.updateFunction(t);return!is(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(t){this.Nc>0&&this.Fc(t)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((()=>(this.kc(),Promise.resolve())))):this.deferred.reject(t)}Fc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!ta(e)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Or.UNAUTHENTICATED,this.clientId=ei.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{Mr("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Mr("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qr(zr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Lh(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Wd(t,e){t.asyncQueue.verifyOperationInProgress(),Mr("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await xl(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}async function Gd(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Kd(t);Mr("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener((t=>Dh(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>Dh(e.remoteStore,n))),t.onlineComponents=e}async function Kd(t){return t.offlineComponents||(Mr("FirestoreClient","Using default OfflineComponentProvider"),await Wd(t,new Ld)),t.offlineComponents}async function Yd(t){return t.onlineComponents||(Mr("FirestoreClient","Using default OnlineComponentProvider"),await Gd(t,new Bd)),t.onlineComponents}function Qd(t){return Kd(t).then((t=>t.persistence))}function Jd(t){return Kd(t).then((t=>t.localStore))}function Xd(t){return Yd(t).then((t=>t.remoteStore))}function Zd(t){return Yd(t).then((t=>t.syncEngine))}async function tf(t){const e=await Yd(t),n=e.eventManager;return n.onListen=id.bind(null,e.syncEngine),n.onUnlisten=od.bind(null,e.syncEngine),n}function ef(t){return t.asyncQueue.enqueue((async()=>{const e=await Qd(t),n=await Xd(t);return e.setNetworkEnabled(!0),function(t){const e=$r(t);return e._u.delete(0),ah(e)}(n)}))}function nf(t){return t.asyncQueue.enqueue((async()=>{const e=await Qd(t),n=await Xd(t);return e.setNetworkEnabled(!1),async function(t){const e=$r(t);e._u.add(0),await ch(e),e.gu.set("Offline")}(n)}))}function rf(t,e){const n=new Hr;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){try{const r=await function(t,e){const n=$r(t);return n.persistence.runTransaction("read document","readonly",(t=>n.localDocuments.getDocument(t,e)))}(t,e);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new qr(zr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(t){const r=Lh(t,`Failed to get document '${e} from cache`);n.reject(r)}}(await Jd(t),e,n))),n.promise}function sf(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const s=new Ud({next:s=>{e.enqueueAndForget((()=>zh(t,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new qr(zr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new qr(zr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:t=>i.reject(t)}),o=new Gh(no(n.path),s,{includeMetadataChanges:!0,Nu:!0});return $h(t,o)}(await tf(t),t.asyncQueue,e,n,r))),r.promise}function of(t,e){const n=new Hr;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){try{const r=await Ol(t,e,!0),i=new td(e,r.Hi),s=i.ju(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(t){const r=Lh(t,`Failed to execute query '${e} against cache`);n.reject(r)}}(await Jd(t),e,n))),n.promise}function af(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const s=new Ud({next:n=>{e.enqueueAndForget((()=>zh(t,o))),n.fromCache&&"server"===r.source?i.reject(new qr(zr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),o=new Gh(n,s,{includeMetadataChanges:!0,Nu:!0});return $h(t,o)}(await tf(t),t.asyncQueue,e,n,r))),r.promise}function cf(t,e){const n=new Ud(e);return t.asyncQueue.enqueueAndForget((async()=>function(t,e){$r(t).Ru.add(e),e.next()}(await tf(t),n))),()=>{n.Rc(),t.asyncQueue.enqueueAndForget((async()=>function(t,e){$r(t).Ru.delete(e)}(await tf(t),n)))}}function uf(t,e,n){const r=new Hr;return t.asyncQueue.enqueueAndForget((async()=>{const i=await function(t){return Yd(t).then((t=>t.datastore))}(t);new qd(t.asyncQueue,i,n,e,r).run()})),r.promise}function lf(t,e,n,r){const i=function(t,e){let n;return n="string"==typeof t?(new TextEncoder).encode(t):t,function(t,e){return new $d(t,e)}(function(t,e){if(t instanceof Uint8Array)return Vd(t,e);if(t instanceof ArrayBuffer)return Vd(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,Zl(e));t.asyncQueue.enqueueAndForget((async()=>{Md(await Zd(t),i,r)}))}function hf(t,e){return t.asyncQueue.enqueue((async()=>function(t,e){const n=$r(t);return n.persistence.runTransaction("Get named query","readonly",(t=>n.Ns.getNamedQuery(t,e)))}(await Jd(t),e)))}const df=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t,e,n){if(!n)throw new qr(zr.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pf(t,e,n,r){if(!0===e&&!0===r)throw new qr(zr.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gf(t){if(!hi.isDocumentKey(t))throw new qr(zr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mf(t){if(hi.isDocumentKey(t))throw new qr(zr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":Br()}function vf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qr(zr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yf(t);throw new qr(zr.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function bf(t,e){if(e<=0)throw new qr(zr.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new qr(zr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new qr(zr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,pf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qr(zr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new qr(zr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wf(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Gr;switch(t.type){case"gapi":const e=t.client;return new Jr(e,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new qr(zr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=df.get(t);e&&(Mr("ComponentProvider","Removing Datastore"),df.delete(t),e.terminate())}(this),Promise.resolve()}}function xf(t,e,n,r={}){var i;const s=(t=vf(t,_f))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Fr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=Or.MOCK_USER;else{e=(0,c.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new qr(zr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Or(s)}t._authCredentials=new Kr(new Wr(e,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new If(this.firestore,t,this._key)}}class Ef{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Ef(this.firestore,t,this._query)}}class Tf extends Ef{constructor(t,e,n){super(t,e,no(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new If(this.firestore,null,new hi(t))}withConverter(t){return new Tf(this.firestore,t,this._path)}}function Sf(t,e,...n){if(t=(0,c.m9)(t),ff("collection","path",e),t instanceof _f){const r=ci.fromString(e,...n);return mf(r),new Tf(t,null,r)}{if(!(t instanceof If||t instanceof Tf))throw new qr(zr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ci.fromString(e,...n));return mf(r),new Tf(t.firestore,null,r)}}function kf(t,e){if(t=vf(t,_f),ff("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qr(zr.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ef(t,null,function(t){return new to(ci.emptyPath(),t)}(e))}function Cf(t,e,...n){if(t=(0,c.m9)(t),1===arguments.length&&(e=ei.R()),ff("doc","path",e),t instanceof _f){const r=ci.fromString(e,...n);return gf(r),new If(t,null,new hi(r))}{if(!(t instanceof If||t instanceof Tf))throw new qr(zr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ci.fromString(e,...n));return gf(r),new If(t.firestore,t instanceof Tf?t.converter:null,new hi(r))}}function Af(t,e){return t=(0,c.m9)(t),e=(0,c.m9)(e),(t instanceof If||t instanceof Tf)&&(e instanceof If||e instanceof Tf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Of(t,e){return t=(0,c.m9)(t),e=(0,c.m9)(e),t instanceof Ef&&e instanceof Ef&&t.firestore===e.firestore&&lo(t._query,e._query)&&t.converter===e.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Df{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new th(this,"async_queue_retry"),this.jc=()=>{const t=Xl();t&&Mr("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const t=Xl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Wc(),this.zc(t)}enterRestrictedMode(t){if(!this.Lc){this.Lc=!0,this.Gc=t||!1;const e=Xl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.jc)}}enqueue(t){if(this.Wc(),this.Lc)return new Promise((()=>{}));const e=new Hr;return this.zc((()=>this.Lc&&this.Gc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Bc.push(t),this.Hc())))}async Hc(){if(0!==this.Bc.length){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(I){if(!Ai(I))throw I;Mr("AsyncQueue","Operation failed with retryable error: "+I)}this.Bc.length>0&&this.xo.Ao((()=>this.Hc()))}}zc(t){const e=this.$c.then((()=>(this.Kc=!0,t().catch((t=>{this.qc=t,this.Kc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);throw Lr("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Kc=!1,t))))));return this.$c=e,e}enqueueAfterDelay(t,e,n){this.Wc(),this.Qc.indexOf(t)>-1&&(e=0);const r=Mh.createAndSchedule(this,t,e,n,(t=>this.Jc(t)));return this.Uc.push(r),r}Wc(){this.qc&&Br()}verifyOperationInProgress(){}async Yc(){let t;do{t=this.$c,await t}while(t!==this.$c)}Xc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}Zc(t){return this.Yc().then((()=>{this.Uc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Yc()}))}ta(t){this.Qc.push(t)}Jc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function Rf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,["next","error","complete"])}class Pf{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=-1;class Mf extends _f{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new Df,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ff(this),this._firestoreClient.terminate()}}function Lf(t){return t._firestoreClient||Ff(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ff(t){var e;const n=t._freezeSettings(),r=function(t,e,n,r){return new ns(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Hd(t._authCredentials,t._appCheckCredentials,t._queue,r)}function jf(t,e){Gf(t=vf(t,Mf));const n=Lf(t),r=t._freezeSettings(),i=new Bd;return Vf(n,i,new Fd(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Bf(t){Gf(t=vf(t,Mf));const e=Lf(t),n=t._freezeSettings(),r=new Bd;return Vf(e,r,new jd(r,n.cacheSizeBytes))}function Vf(t,e,n){const r=new Hr;return t.asyncQueue.enqueue((async()=>{try{await Wd(t,n),await Gd(t,e),r.resolve()}catch(t){const n=t;if(!function(t){return"FirebaseError"===t.name?t.code===zr.FAILED_PRECONDITION||t.code===zr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code||11===t.code)}(n))throw n;Fr("Error enabling offline persistence. Falling back to persistence disabled: "+n),r.reject(n)}})).then((()=>r.promise))}function Uf(t){if(t._initialized&&!t._terminated)throw new qr(zr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Hr;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(t){if(!Si.C())return Promise.resolve();const e=t+"main";await Si.delete(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(yl(t._databaseId,t._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function $f(t){return function(t){const e=new Hr;return t.asyncQueue.enqueueAndForget((async()=>fd(await Zd(t),e))),e.promise}(Lf(t=vf(t,Mf)))}function zf(t){return ef(Lf(t=vf(t,Mf)))}function qf(t){return nf(Lf(t=vf(t,Mf)))}function Hf(t,e){const n=Lf(t=vf(t,Mf)),r=new Pf;return lf(n,t._databaseId,e,r),r}function Wf(t,e){return hf(Lf(t=vf(t,Mf)),e).then((e=>e?new Ef(t,null,e.query):null))}function Gf(t){if(t._initialized||t._terminated)throw new qr(zr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new qr(zr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new li(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yf(Ki.fromBase64String(t))}catch(t){throw new qr(zr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Yf(Ki.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new qr(zr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new qr(zr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ni(this._lat,t._lat)||ni(this._long,t._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=/^__.*__$/;class Zf{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Ho(t,this.data,this.fieldMask,e,this.fieldTransforms):new qo(t,this.data,e,this.fieldTransforms)}}class tp{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Ho(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ep(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Br()}}class np{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.It=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ea(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(t){return new np(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:n,ra:!1});return r.oa(t),r}ua(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:n,ra:!1});return r.ea(),r}ca(t){return this.sa({path:void 0,ra:!0})}aa(t){return xp(t,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}ea(){if(this.path)for(let t=0;t<this.path.length;t++)this.oa(this.path.get(t))}oa(t){if(0===t.length)throw this.aa("Document fields must not be empty");if(ep(this.na)&&Xf.test(t))throw this.aa('Document fields cannot begin and end with "__"')}}class rp{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=n||Zl(t)}fa(t,e,n,r=!1){return new np({na:t,methodName:e,la:n,path:li.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ip(t){const e=t._freezeSettings(),n=Zl(t._databaseId);return new rp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sp(t,e,n,r,i,s={}){const o=t.fa(s.merge||s.mergeFields?2:0,e,n,i);vp("Data must be an object, but it was:",o,r);const a=mp(r,o);let c,u;if(s.merge)c=new Wi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=bp(e,r,n);if(!o.contains(i))throw new qr(zr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Ip(t,i)||t.push(i)}c=new Wi(t),u=o.fieldTransforms.filter((t=>c.covers(t.field)))}else c=null,u=o.fieldTransforms;return new Zf(new Cs(a),c,u)}class op extends Qf{_toFieldTransform(t){if(2!==t.na)throw 1===t.na?t.aa(`${this._methodName}() can only appear at the top level of your update data`):t.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof op}}function ap(t,e,n){return new np({na:3,la:e.settings.la,methodName:t._methodName,ra:n},e.databaseId,e.It,e.ignoreUndefinedProperties)}class cp extends Qf{_toFieldTransform(t){return new Po(t.path,new To)}isEqual(t){return t instanceof cp}}class up extends Qf{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=ap(this,t,!0),n=this.da.map((t=>gp(t,e))),r=new So(n);return new Po(t.path,r)}isEqual(t){return this===t}}class lp extends Qf{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=ap(this,t,!0),n=this.da.map((t=>gp(t,e))),r=new Co(n);return new Po(t.path,r)}isEqual(t){return this===t}}class hp extends Qf{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=new Oo(t.It,wo(t.It,this._a));return new Po(t.path,e)}isEqual(t){return this===t}}function dp(t,e,n,r){const i=t.fa(1,e,n);vp("Data must be an object, but it was:",i,r);const s=[],o=Cs.empty();ji(r,((t,r)=>{const a=_p(e,t,n);r=(0,c.m9)(r);const u=i.ua(a);if(r instanceof op)s.push(a);else{const t=gp(r,u);null!=t&&(s.push(a),o.set(a,t))}}));const a=new Wi(s);return new tp(o,a,i.fieldTransforms)}function fp(t,e,n,r,i,s){const o=t.fa(1,e,n),a=[bp(e,r,n)],u=[i];if(s.length%2!=0)throw new qr(zr.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let c=0;c<s.length;c+=2)a.push(bp(e,s[c])),u.push(s[c+1]);const l=[],h=Cs.empty();for(let f=a.length-1;f>=0;--f)if(!Ip(l,a[f])){const t=a[f];let e=u[f];e=(0,c.m9)(e);const n=o.ua(t);if(e instanceof op)l.push(t);else{const r=gp(e,n);null!=r&&(l.push(t),h.set(t,r))}}const d=new Wi(l);return new tp(h,d,o.fieldTransforms)}function pp(t,e,n,r=!1){return gp(n,t.fa(r?4:3,e))}function gp(t,e){if(yp(t=(0,c.m9)(t)))return vp("Unsupported field value:",e,t),mp(t,e);if(t instanceof Qf)return function(t,e){if(!ep(e.na))throw e.aa(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.aa(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=gp(i,e.ca(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,c.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wo(e.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=si.fromDate(t);return{timestampValue:Ca(e.It,n)}}if(t instanceof si){const n=new si(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ca(e.It,n)}}if(t instanceof Jf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yf)return{bytesValue:Aa(e.It,t._byteString)};if(t instanceof If){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.aa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ra(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.aa(`Unsupported field value: ${yf(t)}`)}(t,e)}function mp(t,e){const n={};return Bi(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(t,((t,r)=>{const i=gp(r,e.ia(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function yp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof si||t instanceof Jf||t instanceof Yf||t instanceof If||t instanceof Qf)}function vp(t,e,n){if(!yp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=yf(n);throw"an object"===r?e.aa(t+" a custom object"):e.aa(t+" "+r)}}function bp(t,e,n){if((e=(0,c.m9)(e))instanceof Kf)return e._internalPath;if("string"==typeof e)return _p(t,e);throw xp("Field path arguments must be of type string or ",t,!1,void 0,n)}const wp=new RegExp("[~\\*/\\[\\]]");function _p(t,e,n){if(e.search(wp)>=0)throw xp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kf(...e.split("."))._internalPath}catch(r){throw xp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new qr(zr.INVALID_ARGUMENT,a+t+c)}function Ip(t,e){return t.some((t=>t.isEqual(e)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new If(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Tp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Sp("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Tp extends Ep{data(){return super.data()}}function Sp(t,e){return"string"==typeof e?_p(t,e):e instanceof Kf?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Cp extends Ep{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Sp("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Ap extends Cp{data(t={}){return super.data(t)}}class Op{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new kp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Ap(this._firestore,this._userDataWriter,n.key,n,new kp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new qr(zr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>({type:"added",doc:new Ap(t._firestore,t._userDataWriter,n.doc.key,n.doc,new kp(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++})))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new Ap(t._firestore,t._userDataWriter,e.doc.key,e.doc,new kp(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:Dp(e.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Dp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Br()}}function Rp(t,e){return t instanceof Cp&&e instanceof Cp?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Op&&e instanceof Op&&t._firestore===e._firestore&&Of(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new qr(zr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Np{}function Mp(t,...e){for(const n of e)t=n._apply(t);return t}class Lp extends Np{constructor(t,e,n){super(),this.wa=t,this.ma=e,this.ga=n,this.type="where"}_apply(t){const e=ip(t.firestore),n=function(t,e,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new qr(zr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Jp(o,s);const e=[];for(const n of o)e.push(Qp(r,t,n));a={arrayValue:{values:e}}}else a=Qp(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Jp(o,s),a=pp(n,e,o,"in"===s||"not-in"===s);const c=Vs.create(i,s,a);return function(t,e){if(e.dt()){const n=so(t);if(null!==n&&!n.isEqual(e.field))throw new qr(zr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${e.field.toString()}'`);const r=io(t);null!==r&&Xp(t,e.field,r)}const n=function(t,e){for(const n of t.filters)if(e.indexOf(n.op)>=0)return n.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new qr(zr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qr(zr.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}(t,c),c}(t._query,"where",e,t.firestore._databaseId,this.wa,this.ma,this.ga);return new Ef(t.firestore,t.converter,function(t,e){const n=t.filters.concat([e]);return new to(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}function Fp(t,e,n){const r=e,i=Sp("where",t);return new Lp(i,r,n)}class jp extends Np{constructor(t,e){super(),this.wa=t,this.ya=e,this.type="orderBy"}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new qr(zr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new qr(zr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Qs(e,n);return function(t,e){if(null===io(t)){const n=so(t);null!==n&&Xp(t,n,e.field)}}(t,r),r}(t._query,this.wa,this.ya);return new Ef(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new to(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function Bp(t,e="asc"){const n=e,r=Sp("orderBy",t);return new jp(r,n)}class Vp extends Np{constructor(t,e,n){super(),this.type=t,this.pa=e,this.Ia=n}_apply(t){return new Ef(t.firestore,t.converter,uo(t._query,this.pa,this.Ia))}}function Up(t){return bf("limit",t),new Vp("limit",t,"F")}function $p(t){return bf("limitToLast",t),new Vp("limitToLast",t,"L")}class zp extends Np{constructor(t,e,n){super(),this.type=t,this.Ta=e,this.Ea=n}_apply(t){const e=Yp(t,this.type,this.Ta,this.Ea);return new Ef(t.firestore,t.converter,function(t,e){return new to(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}function qp(...t){return new zp("startAt",t,!0)}function Hp(...t){return new zp("startAfter",t,!1)}class Wp extends Np{constructor(t,e,n){super(),this.type=t,this.Ta=e,this.Ea=n}_apply(t){const e=Yp(t,this.type,this.Ta,this.Ea);return new Ef(t.firestore,t.converter,function(t,e){return new to(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))}}function Gp(...t){return new Wp("endBefore",t,!1)}function Kp(...t){return new Wp("endAt",t,!0)}function Yp(t,e,n,r){if(n[0]=(0,c.m9)(n[0]),n[0]instanceof Ep)return function(t,e,n,r,i){if(!r)throw new qr(zr.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of ao(t))if(o.field.isKeyField())s.push(ms(e,r.key));else{const t=r.data.field(o.field);if(Zi(t))throw new qr(zr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=o.field.canonicalString();throw new qr(zr.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}s.push(t)}return new Ys(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ip(t.firestore);return function(t,e,n,r,i,s){const o=t.explicitOrderBy;if(i.length>o.length)throw new qr(zr.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new qr(zr.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!oo(t)&&-1!==s.indexOf("/"))throw new qr(zr.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=t.path.child(ci.fromString(s));if(!hi.isDocumentKey(n))throw new qr(zr.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new hi(n);a.push(ms(e,i))}else{const t=pp(n,r,s);a.push(t)}}return new Ys(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Qp(t,e,n){if("string"==typeof(n=(0,c.m9)(n))){if(""===n)throw new qr(zr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oo(e)&&-1!==n.indexOf("/"))throw new qr(zr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ci.fromString(n));if(!hi.isDocumentKey(r))throw new qr(zr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ms(t,new hi(r))}if(n instanceof If)return ms(t,n._key);throw new qr(zr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(n)}.`)}function Jp(t,e){if(!Array.isArray(t)||0===t.length)throw new qr(zr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new qr(zr.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Xp(t,e,n){if(!n.isEqual(e))throw new qr(zr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp={maxAttempts:5};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{convertValue(t,e="none"){switch(us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ji(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Xi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Br()}}convertObject(t,e){const n={};return ji(t.fields,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new Jf(Ji(t.latitude),Ji(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=ts(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(es(t));default:return null}}convertTimestamp(t){const e=Qi(t);return new si(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=ci.fromString(t);Vr(sc(n));const r=new rs(n.get(1),n.get(3)),i=new hi(n.popFirst(5));return r.isEqual(e)||Lr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ng extends tg{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new If(this.firestore,null,e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ip(t)}set(t,e,n){this._verifyNotCommitted();const r=ig(t,this._firestore),i=eg(r.converter,e,n),s=sp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Lo.none())),this}update(t,e,n,...r){this._verifyNotCommitted();const i=ig(t,this._firestore);let s;return s="string"==typeof(e=(0,c.m9)(e))||e instanceof Kf?fp(this._dataReader,"WriteBatch.update",i._key,e,n,r):dp(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(s.toMutation(i._key,Lo.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=ig(t,this._firestore);return this._mutations=this._mutations.concat(new Yo(e._key,Lo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qr(zr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ig(t,e){if((t=(0,c.m9)(t)).firestore!==e)throw new qr(zr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t){t=vf(t,If);const e=vf(t.firestore,Mf);return sf(Lf(e),t._key).then((n=>bg(e,t,n)))}class og extends tg{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new If(this.firestore,null,e)}}function ag(t){t=vf(t,If);const e=vf(t.firestore,Mf),n=Lf(e),r=new og(e);return rf(n,t._key).then((n=>new Cp(e,r,t._key,n,new kp(null!==n&&n.hasLocalMutations,!0),t.converter)))}function cg(t){t=vf(t,If);const e=vf(t.firestore,Mf);return sf(Lf(e),t._key,{source:"server"}).then((n=>bg(e,t,n)))}function ug(t){t=vf(t,Ef);const e=vf(t.firestore,Mf),n=Lf(e),r=new og(e);return Pp(t._query),af(n,t._query).then((n=>new Op(e,r,t,n)))}function lg(t){t=vf(t,Ef);const e=vf(t.firestore,Mf),n=Lf(e),r=new og(e);return of(n,t._query).then((n=>new Op(e,r,t,n)))}function hg(t){t=vf(t,Ef);const e=vf(t.firestore,Mf),n=Lf(e),r=new og(e);return af(n,t._query,{source:"server"}).then((n=>new Op(e,r,t,n)))}function dg(t,e,n){t=vf(t,If);const r=vf(t.firestore,Mf),i=eg(t.converter,e,n);return vg(r,[sp(ip(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Lo.none())])}function fg(t,e,n,...r){t=vf(t,If);const i=vf(t.firestore,Mf),s=ip(i);let o;return o="string"==typeof(e=(0,c.m9)(e))||e instanceof Kf?fp(s,"updateDoc",t._key,e,n,r):dp(s,"updateDoc",t._key,e),vg(i,[o.toMutation(t._key,Lo.exists(!0))])}function pg(t){return vg(vf(t.firestore,Mf),[new Yo(t._key,Lo.none())])}function gg(t,e){const n=vf(t.firestore,Mf),r=Cf(t),i=eg(t.converter,e);return vg(n,[sp(ip(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Lo.exists(!1))]).then((()=>r))}function mg(t,...e){var n,r,i;t=(0,c.m9)(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Rf(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Rf(e[o])){const t=e[o];e[o]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[o+1]=null===(r=t.error)||void 0===r?void 0:r.bind(t),e[o+2]=null===(i=t.complete)||void 0===i?void 0:i.bind(t)}let u,l,h;if(t instanceof If)l=vf(t.firestore,Mf),h=no(t._key.path),u={next:n=>{e[o]&&e[o](bg(l,t,n))},error:e[o+1],complete:e[o+2]};else{const n=vf(t,Ef);l=vf(n.firestore,Mf),h=n._query;const r=new og(l);u={next:t=>{e[o]&&e[o](new Op(l,r,n,t))},error:e[o+1],complete:e[o+2]},Pp(t._query)}return function(t,e,n,r){const i=new Ud(r),s=new Gh(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>$h(await tf(t),s))),()=>{i.Rc(),t.asyncQueue.enqueueAndForget((async()=>zh(await tf(t),s)))}}(Lf(l),h,a,u)}function yg(t,e){return cf(Lf(t=vf(t,Mf)),Rf(e)?e:{next:e})}function vg(t,e){return function(t,e){const n=new Hr;return t.asyncQueue.enqueueAndForget((async()=>ad(await Zd(t),e,n))),n.promise}(Lf(t),e)}function bg(t,e,n){const r=n.docs.get(e._key),i=new og(t);return new Cp(t,i,e._key,r,new kp(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=ip(t)}get(t){const e=ig(t,this._firestore),n=new ng(this._firestore);return this._transaction.lookup([e._key]).then((t=>{if(!t||1!==t.length)return Br();const r=t[0];if(r.isFoundDocument())return new Ep(this._firestore,n,r.key,r,e.converter);if(r.isNoDocument())return new Ep(this._firestore,n,e._key,null,e.converter);throw Br()}))}set(t,e,n){const r=ig(t,this._firestore),i=eg(r.converter,e,n),s=sp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(t,e,n,...r){const i=ig(t,this._firestore);let s;return s="string"==typeof(e=(0,c.m9)(e))||e instanceof Kf?fp(this._dataReader,"Transaction.update",i._key,e,n,r):dp(this._dataReader,"Transaction.update",i._key,e),this._transaction.update(i._key,s),this}delete(t){const e=ig(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=ig(t,this._firestore),n=new og(this._firestore);return super.get(t).then((t=>new Cp(this._firestore,n,e._key,t._document,new kp(!1,!1),e.converter)))}}function _g(t,e,n){t=vf(t,Mf);const r=Object.assign(Object.assign({},Zp),n);return function(t){if(t.maxAttempts<1)throw new qr(zr.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),uf(Lf(t),(n=>e(new wg(t,n))),r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(){return new op("deleteField")}function Ig(){return new cp("serverTimestamp")}function Eg(...t){return new up("arrayUnion",t)}function Tg(...t){return new lp("arrayRemove",t)}function Sg(t){return new hp("increment",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t,e=!0){!function(t){Dr=t}(s.SDK_VERSION),(0,s._registerComponent)(new o.wA("firestore",((t,{instanceIdentifier:n,options:r})=>{const i=t.getProvider("app").getImmediate(),s=new Mf(new Yr(t.getProvider("auth-internal")),new Zr(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new qr(zr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rs(t.options.projectId,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i,n),i);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),(0,s.registerVersion)(Ar,"3.5.0",t),(0,s.registerVersion)(Ar,"3.5.0","esm2017")}();const kg="@firebase/firestore-compat",Cg="0.1.25";
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ag(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new qr("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(){if("undefined"===typeof Uint8Array)throw new qr("unimplemented","Uint8Arrays are not available in this environment.")}function Dg(){if(!Gi())throw new qr("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Rg{constructor(t){this._delegate=t}static fromBase64String(t){return Dg(),new Rg(Yf.fromBase64String(t))}static fromUint8Array(t){return Og(),new Rg(Yf.fromUint8Array(t))}toBase64(){return Dg(),this._delegate.toBase64()}toUint8Array(){return Og(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t){return Ng(t,["next","error","complete"])}function Ng(t,e){if("object"!==typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"===typeof n[r])return!0;return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{enableIndexedDbPersistence(t,e){return jf(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return Bf(t._delegate)}clearIndexedDbPersistence(t){return Uf(t._delegate)}}class Lg{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof rs||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();t.merge||e.host===t.host||Fr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&(t=Object.assign(Object.assign({},e),t),delete t.merge),this._delegate._setSettings(t)}useEmulator(t,e,n={}){xf(this._delegate,t,e,n)}enableNetwork(){return zf(this._delegate)}disableNetwork(){return qf(this._delegate)}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,pf("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return $f(this._delegate)}onSnapshotsInSync(t){return yg(this._delegate,t)}get app(){if(!this._appCompat)throw new qr("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Jg(this,Sf(this._delegate,t))}catch(e){throw zg(e,"collection()","Firestore.collection()")}}doc(t){try{return new $g(this,Cf(this._delegate,t))}catch(e){throw zg(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Kg(this,kf(this._delegate,t))}catch(e){throw zg(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return _g(this._delegate,(e=>t(new Bg(this,e))))}batch(){return Lf(this._delegate),new Vg(new rg(this._delegate,(t=>vg(this._delegate,t))))}loadBundle(t){return Hf(this._delegate,t)}namedQuery(t){return Wf(this._delegate,t).then((t=>t?new Kg(this,t):null))}}class Fg extends tg{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rg(new Yf(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return $g.forKey(e,this.firestore,null)}}function jg(t){Nr(t)}class Bg{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Fg(t)}get(t){const e=Xg(t);return this._delegate.get(e).then((t=>new Wg(this._firestore,new Cp(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,e.converter))))}set(t,e,n){const r=Xg(t);return n?(Ag("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const i=Xg(t);return 2===arguments.length?this._delegate.update(i,e):this._delegate.update(i,e,n,...r),this}delete(t){const e=Xg(t);return this._delegate.delete(e),this}}class Vg{constructor(t){this._delegate=t}set(t,e,n){const r=Xg(t);return n?(Ag("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const i=Xg(t);return 2===arguments.length?this._delegate.update(i,e):this._delegate.update(i,e,n,...r),this}delete(t){const e=Xg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Ug{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){const n=new Ap(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Gg(this._firestore,n),null!==e&&void 0!==e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const n=Ug.INSTANCES;let r=n.get(t);r||(r=new WeakMap,n.set(t,r));let i=r.get(e);return i||(i=new Ug(t,new Fg(t),e),r.set(e,i)),i}}Ug.INSTANCES=new WeakMap;class $g{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Fg(t)}static forPath(t,e,n){if(t.length%2!==0)throw new qr("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new $g(e,new If(e._delegate,n,new hi(t)))}static forKey(t,e,n){return new $g(e,new If(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new Jg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Jg(this.firestore,Sf(this._delegate,t))}catch(e){throw zg(e,"collection()","DocumentReference.collection()")}}isEqual(t){return t=(0,c.m9)(t),t instanceof If&&Af(this._delegate,t)}set(t,e){e=Ag("DocumentReference.set",e);try{return e?dg(this._delegate,t,e):dg(this._delegate,t)}catch(n){throw zg(n,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?fg(this._delegate,t):fg(this._delegate,t,e,...n)}catch(r){throw zg(r,"updateDoc()","DocumentReference.update()")}}delete(){return pg(this._delegate)}onSnapshot(...t){const e=qg(t),n=Hg(t,(t=>new Wg(this.firestore,new Cp(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter))));return mg(this._delegate,e,n)}get(t){let e;return e="cache"===(null===t||void 0===t?void 0:t.source)?ag(this._delegate):"server"===(null===t||void 0===t?void 0:t.source)?cg(this._delegate):sg(this._delegate),e.then((t=>new Wg(this.firestore,new Cp(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter))))}withConverter(t){return new $g(this.firestore,t?this._delegate.withConverter(Ug.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function zg(t,e,n){return t.message=t.message.replace(e,n),t}function qg(t){for(const e of t)if("object"===typeof e&&!Pg(e))return e;return{}}function Hg(t,e){var n,r;let i;return i=Pg(t[0])?t[0]:Pg(t[1])?t[1]:"function"===typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:t=>{i.next&&i.next(e(t))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Wg{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new $g(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Rp(this._delegate,t._delegate)}}class Gg extends Wg{data(t){const e=this._delegate.data(t);return Ur(void 0!==e,"Document in a QueryDocumentSnapshot should exist"),e}}class Kg{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Fg(t)}where(t,e,n){try{return new Kg(this.firestore,Mp(this._delegate,Fp(t,e,n)))}catch(r){throw zg(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Kg(this.firestore,Mp(this._delegate,Bp(t,e)))}catch(n){throw zg(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Kg(this.firestore,Mp(this._delegate,Up(t)))}catch(e){throw zg(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Kg(this.firestore,Mp(this._delegate,$p(t)))}catch(e){throw zg(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Kg(this.firestore,Mp(this._delegate,qp(...t)))}catch(e){throw zg(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Kg(this.firestore,Mp(this._delegate,Hp(...t)))}catch(e){throw zg(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Kg(this.firestore,Mp(this._delegate,Gp(...t)))}catch(e){throw zg(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Kg(this.firestore,Mp(this._delegate,Kp(...t)))}catch(e){throw zg(e,"endAt()","Query.endAt()")}}isEqual(t){return Of(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null===t||void 0===t?void 0:t.source)?lg(this._delegate):"server"===(null===t||void 0===t?void 0:t.source)?hg(this._delegate):ug(this._delegate),e.then((t=>new Qg(this.firestore,new Op(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot))))}onSnapshot(...t){const e=qg(t),n=Hg(t,(t=>new Qg(this.firestore,new Op(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot))));return mg(this._delegate,e,n)}withConverter(t){return new Kg(this.firestore,t?this._delegate.withConverter(Ug.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}class Yg{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Gg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Qg{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Kg(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((t=>new Gg(this._firestore,t)))}docChanges(t){return this._delegate.docChanges(t).map((t=>new Yg(this._firestore,t)))}forEach(t,e){this._delegate.forEach((n=>{t.call(e,new Gg(this._firestore,n))}))}isEqual(t){return Rp(this._delegate,t._delegate)}}class Jg extends Kg{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new $g(this.firestore,t):null}doc(t){try{return new $g(this.firestore,void 0===t?Cf(this._delegate):Cf(this._delegate,t))}catch(e){throw zg(e,"doc()","CollectionReference.doc()")}}add(t){return gg(this._delegate,t).then((t=>new $g(this.firestore,t)))}isEqual(t){return Af(this._delegate,t._delegate)}withConverter(t){return new Jg(this.firestore,t?this._delegate.withConverter(Ug.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function Xg(t){return vf(t,If)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(...t){this._delegate=new Kf(...t)}static documentId(){return new Zg(li.keyField().canonicalString())}isEqual(t){return t=(0,c.m9)(t),t instanceof Kf&&this._delegate._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t){this._delegate=t}static serverTimestamp(){const t=Ig();return t._methodName="FieldValue.serverTimestamp",new tm(t)}static delete(){const t=xg();return t._methodName="FieldValue.delete",new tm(t)}static arrayUnion(...t){const e=Eg(...t);return e._methodName="FieldValue.arrayUnion",new tm(e)}static arrayRemove(...t){const e=Tg(...t);return e._methodName="FieldValue.arrayRemove",new tm(e)}static increment(t){const e=Sg(t);return e._methodName="FieldValue.increment",new tm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em={Firestore:Lg,GeoPoint:Jf,Timestamp:si,Blob:Rg,Transaction:Bg,WriteBatch:Vg,DocumentReference:$g,DocumentSnapshot:Wg,Query:Kg,QueryDocumentSnapshot:Gg,QuerySnapshot:Qg,CollectionReference:Jg,FieldPath:Zg,FieldValue:tm,setLogLevel:jg,CACHE_SIZE_UNLIMITED:Nf};function nm(t,e){t.INTERNAL.registerComponent(new o.wA("firestore-compat",(t=>{const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(n,r)}),"PUBLIC").setServiceProps(Object.assign({},em)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t){nm(t,((t,e)=>new Lg(t,e,new Mg))),t.registerVersion(kg,Cg)}rm(i.Z)},1530:function(t,e,n){"use strict";n(6699),n(1703);var r=n(3396),i=n(7139),s=n(9242);n(4870);function o(t){return t.split("-")[0]}function a(t){return t.split("-")[1]}function c(t){return["top","bottom"].includes(o(t))?"x":"y"}function u(t){return"y"===t?"height":"width"}function l(t){let{reference:e,floating:n,placement:r}=t;const i=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2;let l;switch(o(r)){case"top":l={x:i,y:e.y-n.height};break;case"bottom":l={x:i,y:e.y+e.height};break;case"right":l={x:e.x+e.width,y:s};break;case"left":l={x:e.x-n.width,y:s};break;default:l={x:e.x,y:e.y}}const h=c(r),d=u(h);switch(a(r)){case"start":l[h]=l[h]-(e[d]/2-n[d]/2);break;case"end":l[h]=l[h]+(e[d]/2-n[d]/2);break}return l}const h=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n;let a=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:u}=l({...a,placement:r}),h=r,d={};for(let f=0;f<s.length;f++){0;const{name:n,fn:p}=s[f],{x:g,y:m,data:y,reset:v}=await p({x:c,y:u,initialPlacement:r,placement:h,strategy:i,middlewareData:d,rects:a,platform:o,elements:{reference:t,floating:e}});c=null!=g?g:c,u=null!=m?m:u,d={...d,[n]:null!=y?y:{}},v&&("object"===typeof v&&(v.placement&&(h=v.placement),v.rects&&(a=!0===v.rects?await o.getElementRects({reference:t,floating:e,strategy:i}):v.rects),({x:c,y:u}=l({...a,placement:h}))),f=-1)}return{x:c,y:u,placement:h,strategy:i,middlewareData:d}};function d(t){return{top:0,right:0,bottom:0,left:0,...t}}function f(t){return"number"!==typeof t?d(t):{top:t,right:t,bottom:t,left:t}}function p(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function g(t,e){void 0===e&&(e={});const{x:n,y:r,platform:i,rects:s,elements:o,strategy:a}=t,{boundary:c="clippingParents",rootBoundary:u="viewport",elementContext:l="floating",altBoundary:h=!1,padding:d=0}=e,g=f(d),m="floating"===l?"reference":"floating",y=o[h?m:l],v=await i.getClippingClientRect({element:await i.isElement(y)?y:y.contextElement||await i.getDocumentElement({element:o.floating}),boundary:c,rootBoundary:u}),b=p(await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===l?{...s.floating,x:n,y:r}:s.reference,offsetParent:await i.getOffsetParent({element:o.floating}),strategy:a}));return{top:v.top-b.top+g.top,bottom:b.bottom-v.bottom+g.bottom,left:v.left-b.left+g.left,right:b.right-v.right+g.right}}const m=Math.min,y=Math.max;function v(t,e,n){return y(t,m(e,n))}const b=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=null!=t?t:{},{x:i,y:s,placement:a,rects:l,platform:h}=e;if(null==n)return{};const d=f(r),p={x:i,y:s},g=o(a),m=c(g),y=u(m),b=await h.getDimensions({element:n}),w="y"===m?"top":"left",_="y"===m?"bottom":"right",x=l.reference[y]+l.reference[m]-p[m]-l.floating[y],I=p[m]-l.reference[m],E=await h.getOffsetParent({element:n}),T=E?"y"===m?E.clientHeight||0:E.clientWidth||0:0,S=x/2-I/2,k=d[w],C=T-b[y]-d[_],A=T/2-b[y]/2+S,O=v(k,A,C);return{data:{[m]:O,centerOffset:A-O}}}}),w={left:"right",right:"left",bottom:"top",top:"bottom"};function _(t){return t.replace(/left|right|bottom|top/g,(t=>w[t]))}function x(t,e){const n="start"===a(t),r=c(t),i=u(r);let s="x"===r?n?"right":"left":n?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=_(s)),{main:s,cross:_(s)}}const I={start:"end",end:"start"};function E(t){return t.replace(/start|end/g,(t=>I[t]))}const T=["top","right","bottom","left"],S=T.reduce(((t,e)=>t.concat(e,e+"-start",e+"-end")),[]);function k(t,e,n){const r=t?[...n.filter((e=>a(e)===t)),...n.filter((e=>a(e)!==t))]:n.filter((t=>o(t)===t));return r.filter((n=>!t||(a(n)===t||!!e&&E(n)!==n)))}const C=function(t){return void 0===t&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,i,s,a,c;const{x:u,y:l,rects:h,middlewareData:d,placement:f}=e,{alignment:p=null,allowedPlacements:m=S,autoAlignment:y=!0,...v}=t;if(null!=(n=d.autoPlacement)&&n.skip)return{};const b=k(p,y,m),w=await g(e,v),_=null!=(r=null==(i=d.autoPlacement)?void 0:i.index)?r:0,I=b[_],{main:E,cross:T}=x(I,h);if(f!==I)return{x:u,y:l,reset:{placement:b[0]}};const C=[w[o(I)],w[E],w[T]],A=[...null!=(s=null==(a=d.autoPlacement)?void 0:a.overflows)?s:[],{placement:I,overflows:C}],O=b[_+1];if(O)return{data:{index:_+1,overflows:A},reset:{placement:O}};const D=A.slice().sort(((t,e)=>t.overflows[0]-e.overflows[0])),R=null==(c=D.find((t=>{let{overflows:e}=t;return e.every((t=>t<=0))})))?void 0:c.placement;return{data:{skip:!0},reset:{placement:null!=R?R:D[0].placement}}}}};function A(t){const e=_(t);return[E(t),e,E(e)]}const O=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:c}=e;if(null!=(n=s.flip)&&n.skip)return{};const{mainAxis:u=!0,crossAxis:l=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",flipAlignment:f=!0,...p}=t,m=o(i),y=m===c,v=h||(y||!f?[_(c)]:A(c)),b=[c,...v],w=await g(e,p),I=[];let E=(null==(r=s.flip)?void 0:r.overflows)||[];if(u&&I.push(w[m]),l){const{main:t,cross:e}=x(i,a);I.push(w[t],w[e])}if(E=[...E,{placement:i,overflows:I}],!I.every((t=>t<=0))){var T,S;const t=(null!=(T=null==(S=s.flip)?void 0:S.index)?T:0)+1,e=b[t];if(e)return{data:{index:t,overflows:E},reset:{placement:e}};let n="bottom";switch(d){case"bestFit":{var k;const t=null==(k=E.slice().sort(((t,e)=>t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)-e.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)))[0])?void 0:k.placement;t&&(n=t);break}case"initialPlacement":n=c;break}return{data:{skip:!0},reset:{placement:n}}}return{}}}};function D(t){let{placement:e,rects:n,value:r}=t;const i=o(e),s=["left","top"].includes(i)?-1:1,a="function"===typeof r?r({...n,placement:e}):r,{mainAxis:u,crossAxis:l}="number"===typeof a?{mainAxis:a,crossAxis:0}:{mainAxis:0,crossAxis:0,...a};return"x"===c(i)?{x:l,y:u*s}:{x:u*s,y:l}}const R=function(t){return void 0===t&&(t=0),{name:"offset",options:t,fn(e){const{x:n,y:r,placement:i,rects:s}=e,o=D({placement:i,rects:s,value:t});return{x:n+o.x,y:r+o.y,data:o}}}};function P(t){return"x"===t?"y":"x"}const N=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:u={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...l}=t,h={x:n,y:r},d=await g(e,l),f=c(o(i)),p=P(f);let m=h[f],y=h[p];if(s){const t="y"===f?"top":"left",e="y"===f?"bottom":"right",n=m+d[t],r=m-d[e];m=v(n,m,r)}if(a){const t="y"===p?"top":"left",e="y"===p?"bottom":"right",n=y+d[t],r=y-d[e];y=v(n,y,r)}const b=u.fn({...e,[f]:m,[p]:y});return{...b,data:{x:b.x-n,y:b.y-r}}}}},M=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){var n;const{placement:r,rects:i,middlewareData:s}=e,{apply:c,...u}=t;if(null!=(n=s.size)&&n.skip)return{};const l=await g(e,u),h=o(r),d="end"===a(r);let f,p;"top"===h||"bottom"===h?(f=h,p=d?"left":"right"):(p=h,f=d?"top":"bottom");const m=y(l.left,0),v=y(l.right,0),b=y(l.top,0),w=y(l.bottom,0),_={height:i.floating.height-(["left","right"].includes(r)?2*(0!==b||0!==w?b+w:y(l.top,l.bottom)):l[f]),width:i.floating.width-(["top","bottom"].includes(r)?2*(0!==m||0!==v?m+v:y(l.left,l.right)):l[p])};return null==c||c({..._,...i}),{data:{skip:!0},reset:{rects:!0}}}}};function L(t){return"[object Window]"===(null==t?void 0:t.toString())}function F(t){if(null==t)return window;if(!L(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function j(t){return F(t).getComputedStyle(t)}function B(t){return L(t)?"":t?(t.nodeName||"").toLowerCase():""}function V(t){return t instanceof F(t).HTMLElement}function U(t){return t instanceof F(t).Element}function $(t){return t instanceof F(t).Node}function z(t){const e=F(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function q(t){const{overflow:e,overflowX:n,overflowY:r}=j(t);return/auto|scroll|overlay|hidden/.test(e+r+n)}function H(t){return["table","td","th"].includes(B(t))}function W(t){const e=navigator.userAgent.toLowerCase().includes("firefox"),n=j(t);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||e&&"filter"===n.willChange||e&&!!n.filter&&"none"!==n.filter}const G=Math.min,K=Math.max,Y=Math.round;function Q(t,e){void 0===e&&(e=!1);const n=t.getBoundingClientRect();let r=1,i=1;return e&&V(t)&&(r=t.offsetWidth>0&&Y(n.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Y(n.height)/t.offsetHeight||1),{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function J(t){return(($(t)?t.ownerDocument:t.document)||window.document).documentElement}function X(t){return L(t)?{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}:{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Z(t){return Q(J(t)).left+X(t).scrollLeft}function tt(t){const e=Q(t);return Y(e.width)!==t.offsetWidth||Y(e.height)!==t.offsetHeight}function et(t,e,n){const r=V(e),i=J(e),s=Q(t,r&&tt(e));let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==B(e)||q(i))&&(o=X(e)),V(e)){const t=Q(e,!0);a.x=t.x+e.clientLeft,a.y=t.y+e.clientTop}else i&&(a.x=Z(i));return{x:s.left+o.scrollLeft-a.x,y:s.top+o.scrollTop-a.y,width:s.width,height:s.height}}function nt(t){return"html"===B(t)?t:t.assignedSlot||t.parentNode||(z(t)?t.host:null)||J(t)}function rt(t){return V(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function it(t){let e=nt(t);while(V(e)&&!["html","body"].includes(B(e))){if(W(e))return e;e=e.parentNode}return null}function st(t){const e=F(t);let n=rt(t);while(n&&H(n)&&"static"===getComputedStyle(n).position)n=rt(n);return n&&("html"===B(n)||"body"===B(n)&&"static"===getComputedStyle(n).position&&!W(n))?e:n||it(t)||e}function ot(t){return{width:t.offsetWidth,height:t.offsetHeight}}function at(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=V(n),s=J(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&"fixed"!==r)&&(("body"!==B(n)||q(s))&&(o=X(n)),V(n))){const t=Q(n,!0);a.x=t.x+n.clientLeft,a.y=t.y+n.clientTop}return{...e,x:e.x-o.scrollLeft+a.x,y:e.y-o.scrollTop+a.y}}function ct(t){const e=F(t),n=J(t),r=e.visualViewport;let i=n.clientWidth,s=n.clientHeight,o=0,a=0;return r&&(i=r.width,s=r.height,Math.abs(e.innerWidth/r.scale-r.width)<.01&&(o=r.offsetLeft,a=r.offsetTop)),{width:i,height:s,x:o,y:a}}function ut(t){var e;const n=J(t),r=X(t),i=null==(e=t.ownerDocument)?void 0:e.body,s=K(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=K(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let a=-r.scrollLeft+Z(t);const c=-r.scrollTop;return"rtl"===j(i||n).direction&&(a+=K(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:c}}function lt(t){return["html","body","#document"].includes(B(t))?t.ownerDocument.body:V(t)&&q(t)?t:lt(nt(t))}function ht(t,e){var n;void 0===e&&(e=[]);const r=lt(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),s=F(r),o=i?[s].concat(s.visualViewport||[],q(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(ht(nt(o)))}function dt(t,e){const n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&z(n)){let n=e;do{if(n&&t===n)return!0;n=n.parentNode||n.host}while(n)}return!1}function ft(t){const e=Q(t),n=e.top+t.clientTop,r=e.left+t.clientLeft;return{top:n,left:r,x:r,y:n,right:r+t.clientWidth,bottom:n+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function pt(t,e){return"viewport"===e?p(ct(t)):U(e)?ft(e):p(ut(J(t)))}function gt(t){const e=ht(nt(t)),n=["absolute","fixed"].includes(j(t).position),r=n&&V(t)?st(t):t;return U(r)?e.filter((t=>U(t)&&dt(t,r)&&"body"!==B(t))):[]}function mt(t){let{element:e,boundary:n,rootBoundary:r}=t;const i="clippingParents"===n?gt(e):[].concat(n),s=[...i,r],o=s[0],a=s.reduce(((t,n)=>{const r=pt(e,n);return t.top=K(r.top,t.top),t.right=G(r.right,t.right),t.bottom=G(r.bottom,t.bottom),t.left=K(r.left,t.left),t}),pt(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}const yt={getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:et(e,st(n),r),floating:{...ot(n),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:t=>at(t),getOffsetParent:t=>{let{element:e}=t;return st(e)},isElement:t=>U(t),getDocumentElement:t=>{let{element:e}=t;return J(e)},getClippingClientRect:t=>mt(t),getDimensions:t=>{let{element:e}=t;return ot(e)},getClientRects:t=>{let{element:e}=t;return e.getClientRects()}},vt=(t,e,n)=>h(t,e,{platform:yt,...n});var bt=Object.defineProperty,wt=Object.defineProperties,_t=Object.getOwnPropertyDescriptors,xt=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable,Tt=(t,e,n)=>e in t?bt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,St=(t,e)=>{for(var n in e||(e={}))It.call(e,n)&&Tt(t,n,e[n]);if(xt)for(var n of xt(e))Et.call(e,n)&&Tt(t,n,e[n]);return t},kt=(t,e)=>wt(t,_t(e));const Ct={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:5e3,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:t=>[...t,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover","focus"],delay:{show:0,hide:400}}}};function At(t,e){let n,r=Ct.themes[t]||{};do{n=r[e],"undefined"===typeof n?r.$extend?r=Ct.themes[r.$extend]||{}:(r=null,n=Ct[e]):r=null}while(r);return n}function Ot(t){const e=[t];let n=Ct.themes[t]||{};do{n.$extend&&!n.$resetCss?(e.push(n.$extend),n=Ct.themes[n.$extend]||{}):n=null}while(n);return e.map((t=>`v-popper--theme-${t}`))}function Dt(t){const e=[t];let n=Ct.themes[t]||{};do{n.$extend?(e.push(n.$extend),n=Ct.themes[n.$extend]||{}):n=null}while(n);return e}let Rt=!1;if("undefined"!==typeof window){Rt=!1;try{const t=Object.defineProperty({},"passive",{get(){Rt=!0}});window.addEventListener("test",null,t)}catch(ke){}}let Pt=!1;"undefined"!==typeof window&&"undefined"!==typeof navigator&&(Pt=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const Nt=["auto","top","bottom","left","right"].reduce(((t,e)=>t.concat([e,`${e}-start`,`${e}-end`])),[]),Mt={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart"},Lt={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend"};function Ft(t,e){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}function jt(){return new Promise((t=>requestAnimationFrame((()=>{requestAnimationFrame(t)}))))}const Bt=[];let Vt=null;const Ut={};function $t(t){let e=Ut[t];return e||(e=Ut[t]=[]),e}let zt=function(){};function qt(t){return function(e){return At(e.theme,t)}}"undefined"!==typeof window&&(zt=window.Element);const Ht="__floating-vue__popper";var Wt=()=>(0,r.aZ)({name:"VPopper",provide(){return{[Ht]:{parentPopper:this}}},inject:{[Ht]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,required:!0},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:qt("disabled")},positioningDisabled:{type:Boolean,default:qt("positioningDisabled")},placement:{type:String,default:qt("placement"),validator:t=>Nt.includes(t)},delay:{type:[String,Number,Object],default:qt("delay")},distance:{type:[Number,String],default:qt("distance")},skidding:{type:[Number,String],default:qt("skidding")},triggers:{type:Array,default:qt("triggers")},showTriggers:{type:[Array,Function],default:qt("showTriggers")},hideTriggers:{type:[Array,Function],default:qt("hideTriggers")},popperTriggers:{type:Array,default:qt("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:qt("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:qt("popperHideTriggers")},container:{type:[String,Object,zt,Boolean],default:qt("container")},boundary:{type:[String,zt],default:qt("boundary")},strategy:{type:String,validator:t=>["absolute","fixed"].includes(t),default:qt("strategy")},autoHide:{type:[Boolean,Function],default:qt("autoHide")},handleResize:{type:Boolean,default:qt("handleResize")},instantMove:{type:Boolean,default:qt("instantMove")},eagerMount:{type:Boolean,default:qt("eagerMount")},popperClass:{type:[String,Array,Object],default:qt("popperClass")},computeTransformOrigin:{type:Boolean,default:qt("computeTransformOrigin")},autoMinSize:{type:Boolean,default:qt("autoMinSize")},autoSize:{type:[Boolean,String],default:qt("autoSize")},autoMaxSize:{type:Boolean,default:qt("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:qt("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:qt("preventOverflow")},overflowPadding:{type:[Number,String],default:qt("overflowPadding")},arrowPadding:{type:[Number,String],default:qt("arrowPadding")},arrowOverflow:{type:Boolean,default:qt("arrowOverflow")},flip:{type:Boolean,default:qt("flip")},shift:{type:Boolean,default:qt("shift")},shiftCrossAxis:{type:Boolean,default:qt("shiftCrossAxis")}},emits:["show","hide","update:shown","apply-show","apply-hide","close-group","close-directive","auto-hide","resize","dispose"],data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},shownChildren:new Set,lastAutoHide:!0}},computed:{popperId(){return null!=this.ariaId?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:"function"===typeof this.autoHide?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:kt(St({},this.classes),{popperClass:this.popperClass}),result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var t;return null==(t=this[Ht])?void 0:t.parentPopper},hasPopperShowTriggerHover(){var t,e;return(null==(t=this.popperTriggers)?void 0:t.includes("hover"))||(null==(e=this.popperShowTriggers)?void 0:e.includes("hover"))}},watch:St(St({shown:"$_autoShowHide",disabled(t){t?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())}},["triggers","positioningDisabled"].reduce(((t,e)=>(t[e]="$_refreshListeners",t)),{})),["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce(((t,e)=>(t[e]="$_computePosition",t)),{})),created(){this.$_isDisposed=!0,this.randomId=`popper_${[Math.random(),Date.now()].map((t=>t.toString(36).substring(2,10))).join("_")}`,this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:t=null,skipDelay:e=!1,force:n=!1}={}){var r,i;(null==(r=this.parentPopper)?void 0:r.lockedChild)&&this.parentPopper.lockedChild!==this||(this.$_pendingHide=!1,!n&&this.disabled||((null==(i=this.parentPopper)?void 0:i.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(t,e),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame((()=>{this.$_showFrameLocked=!1}))),this.$emit("update:shown",!0))},hide({event:t=null,skipDelay:e=!1}={}){var n;this.$_hideInProgress||(this.shownChildren.size>0?this.$_pendingHide=!0:this.hasPopperShowTriggerHover&&this.$_isAimingPopper()?this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout((()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:e}),this.parentPopper.lockedChild=null)}),1e3)):((null==(n=this.parentPopper)?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_pendingHide=!1,this.$_scheduleHide(t,e),this.$emit("hide"),this.$emit("update:shown",!1)))},init(){this.$_isDisposed&&(this.$_isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=this.referenceNode(),this.$_targetNodes=this.targetNodes().filter((t=>t.nodeType===t.ELEMENT_NODE)),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.$_isDisposed||(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"),this.$emit("dispose"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){var t;if(this.$_isDisposed||this.positioningDisabled)return;const e={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&e.middleware.push(R({mainAxis:this.distance,crossAxis:this.skidding}));const n=this.placement.startsWith("auto");if(n?e.middleware.push(C({alignment:null!=(t=this.placement.split("-")[1])?t:""})):e.placement=this.placement,this.preventOverflow&&(this.shift&&e.middleware.push(N({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!n&&this.flip&&e.middleware.push(O({padding:this.overflowPadding,boundary:this.boundary}))),e.middleware.push(b({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&e.middleware.push({name:"arrowOverflow",fn:({placement:t,rects:e,middlewareData:n})=>{let r;const{centerOffset:i}=n.arrow;return r=t.startsWith("top")||t.startsWith("bottom")?Math.abs(i)>e.reference.width/2:Math.abs(i)>e.reference.height/2,{data:{overflow:r}}}}),this.autoMinSize||this.autoSize){const t=this.autoSize?this.autoSize:this.autoMinSize?"min":null;e.middleware.push({name:"autoSize",fn:({rects:e,placement:n,middlewareData:r})=>{var i;if(null==(i=r.autoSize)?void 0:i.skip)return{};let s,o;return n.startsWith("top")||n.startsWith("bottom")?s=e.reference.width:o=e.reference.height,this.$_innerNode.style["min"===t?"minWidth":"max"===t?"maxWidth":"width"]=null!=s?`${s}px`:null,this.$_innerNode.style["min"===t?"minHeight":"max"===t?"maxHeight":"height"]=null!=o?`${o}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,e.middleware.push(M({boundary:this.boundary,padding:this.overflowPadding,apply:({width:t,height:e})=>{this.$_innerNode.style.maxWidth=null!=t?`${t}px`:null,this.$_innerNode.style.maxHeight=null!=e?`${e}px`:null}})));const r=await vt(this.$_referenceNode,this.$_popperNode,e);Object.assign(this.result,{x:r.x,y:r.y,placement:r.placement,strategy:r.strategy,arrow:St(St({},r.middlewareData.arrow),r.middlewareData.arrowOverflow)})},$_scheduleShow(t=null,e=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),Vt&&this.instantMove&&Vt.instantMove&&Vt!==this.parentPopper)return Vt.$_applyHide(!0),void this.$_applyShow(!0);e?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(t=null,e=!1){this.shownChildren.size>0?this.$_pendingHide=!0:(this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(Vt=this),e?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide")))},$_computeDelay(t){const e=this.delay;return parseInt(e&&e[t]||e||0)},async $_applyShow(t=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=t,this.isShown||(this.$_ensureTeleport(),await jt(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...ht(this.$_referenceNode),...ht(this.$_popperNode)],"scroll",(()=>{this.$_computePosition()})))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const t=this.$_referenceNode.getBoundingClientRect(),e=this.$_popperNode.querySelector(".v-popper__wrapper"),n=e.parentNode.getBoundingClientRect(),r=t.x+t.width/2-(n.left+e.offsetLeft),i=t.y+t.height/2-(n.top+e.offsetTop);this.result.transformOrigin=`${r}px ${i}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const t=this.showGroup;if(t){let e;for(let n=0;n<Bt.length;n++)e=Bt[n],e.showGroup!==t&&(e.hide(),e.$emit("close-group"))}Bt.push(this),document.body.classList.add("v-popper--some-open");for(const e of Dt(this.theme))$t(e).push(this),document.body.classList.add(`v-popper--some-open--${e}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await jt(),this.classes.showFrom=!1,this.classes.showTo=!0,this.$_popperNode.focus()},async $_applyHide(t=!1){if(this.shownChildren.size>0)return this.$_pendingHide=!0,void(this.$_hideInProgress=!1);if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=t,Ft(Bt,this),0===Bt.length&&document.body.classList.remove("v-popper--some-open");for(const n of Dt(this.theme)){const t=$t(n);Ft(t,this),0===t.length&&document.body.classList.remove(`v-popper--some-open--${n}`)}Vt===this&&(Vt=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const e=At(this.theme,"disposeTimeout");null!==e&&(this.$_disposeTimer=setTimeout((()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)}),e)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await jt(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.$_isDisposed)return;let t=this.container;if("string"===typeof t?t=window.document.querySelector(t):!1===t&&(t=this.$_targetNodes[0].parentNode),!t)throw new Error("No container for popover: "+this.container);t.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const t=t=>{this.isShown&&!this.$_hideInProgress||(t.usedByTooltip=!0,!this.$_preventShow&&this.show({event:t}))};this.$_registerTriggerListeners(this.$_targetNodes,Mt,this.triggers,this.showTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],Mt,this.popperTriggers,this.popperShowTriggers,t);const e=t=>{t.usedByTooltip||this.hide({event:t})};this.$_registerTriggerListeners(this.$_targetNodes,Lt,this.triggers,this.hideTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],Lt,this.popperTriggers,this.popperHideTriggers,e)},$_registerEventListeners(t,e,n){this.$_events.push({targetNodes:t,eventType:e,handler:n}),t.forEach((t=>t.addEventListener(e,n,Rt?{passive:!0}:void 0)))},$_registerTriggerListeners(t,e,n,r,i){let s=n;null!=r&&(s="function"===typeof r?r(s):r),s.forEach((n=>{const r=e[n];r&&this.$_registerEventListeners(t,r,i)}))},$_removeEventListeners(t){const e=[];this.$_events.forEach((n=>{const{targetNodes:r,eventType:i,handler:s}=n;t&&t!==i?e.push(n):r.forEach((t=>t.removeEventListener(i,s)))})),this.$_events=e},$_refreshListeners(){this.$_isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(t,e=!1){this.$_showFrameLocked||(this.hide({event:t}),t.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),e&&(this.$_preventShow=!0,setTimeout((()=>{this.$_preventShow=!1}),300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(t,e){for(const n of this.$_targetNodes){const r=n.getAttribute(t);r&&(n.removeAttribute(t),n.setAttribute(e,r))}},$_applyAttrsToTarget(t){for(const e of this.$_targetNodes)for(const n in t){const r=t[n];null==r?e.removeAttribute(n):e.setAttribute(n,r)}},$_updateParentShownChildren(t){let e=this.parentPopper;while(e)t?e.shownChildren.add(this.randomId):(e.shownChildren.delete(this.randomId),e.$_pendingHide&&e.hide()),e=e.parentPopper},$_isAimingPopper(){const t=this.$_referenceNode.getBoundingClientRect();if(ie>=t.left&&ie<=t.right&&se>=t.top&&se<=t.bottom){const t=this.$_popperNode.getBoundingClientRect(),e=ie-ne,n=se-re,r=t.left+t.width/2-ne+(t.top+t.height/2)-re,i=r+t.width+t.height,s=ne+e*i,o=re+n*i;return oe(ne,re,s,o,t.left,t.top,t.left,t.bottom)||oe(ne,re,s,o,t.left,t.top,t.right,t.top)||oe(ne,re,s,o,t.right,t.top,t.right,t.bottom)||oe(ne,re,s,o,t.left,t.bottom,t.right,t.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});function Gt(t){for(let e=0;e<Bt.length;e++){const n=Bt[e];try{const e=n.popperNode();n.$_mouseDownContains=e.contains(t.target)}catch(ke){}}}function Kt(t){Qt(t)}function Yt(t){Qt(t,!0)}function Qt(t,e=!1){const n={};for(let r=Bt.length-1;r>=0;r--){const i=Bt[r];try{const r=i.$_containsGlobalTarget=Jt(i,t);i.$_pendingHide=!1,requestAnimationFrame((()=>{if(i.$_pendingHide=!1,!n[i.randomId]&&Xt(i,r,t)){if(i.$_handleGlobalClose(t,e),!t.closeAllPopover&&t.closePopover&&r){let t=i.parentPopper;while(t)n[t.randomId]=!0,t=t.parentPopper;return}let s=i.parentPopper;while(s){if(!Xt(s,s.$_containsGlobalTarget,t))break;s.$_handleGlobalClose(t,e),s=s.parentPopper}}}))}catch(ke){}}}function Jt(t,e){const n=t.popperNode();return t.$_mouseDownContains||n.contains(e.target)}function Xt(t,e,n){return n.closeAllPopover||n.closePopover&&e||Zt(t,n)&&!e}function Zt(t,e){if("function"===typeof t.autoHide){const n=t.autoHide(e);return t.lastAutoHide=n,n}return t.autoHide}function te(t){for(let e=0;e<Bt.length;e++){const n=Bt[e];n.$_computePosition(t)}}"undefined"!==typeof document&&"undefined"!==typeof window&&(Pt?(document.addEventListener("touchstart",Gt,!Rt||{passive:!0,capture:!0}),document.addEventListener("touchend",Yt,!Rt||{passive:!0,capture:!0})):(window.addEventListener("mousedown",Gt,!0),window.addEventListener("click",Kt,!0)),window.addEventListener("resize",te));let ee,ne=0,re=0,ie=0,se=0;function oe(t,e,n,r,i,s,o,a){const c=((o-i)*(e-s)-(a-s)*(t-i))/((a-s)*(n-t)-(o-i)*(r-e)),u=((n-t)*(e-s)-(r-e)*(t-i))/((a-s)*(n-t)-(o-i)*(r-e));return c>=0&&c<=1&&u>=0&&u<=1}function ae(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("Trident/");if(n>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var i=t.indexOf("Edge/");return i>0?parseInt(t.substring(i+5,t.indexOf(".",i)),10):-1}function ce(){ce.init||(ce.init=!0,ee=-1!==ae())}"undefined"!==typeof window&&window.addEventListener("mousemove",(t=>{ne=ie,re=se,ie=t.clientX,se=t.clientY}),Rt?{passive:!0}:void 0);var ue={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){ce(),(0,r.Y3)((()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()}));const t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",ee&&this.$el.appendChild(t),t.data="about:blank",ee||this.$el.appendChild(t)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!ee&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const le=(0,r.HX)("data-v-b329ee4c");(0,r.dD)("data-v-b329ee4c");const he={class:"resize-observer",tabindex:"-1"};(0,r.Cn)();const de=le(((t,e,n,i,s,o)=>((0,r.wg)(),(0,r.j4)("div",he))));ue.render=de,ue.__scopeId="data-v-b329ee4c",ue.__file="src/components/ResizeObserver.vue";var fe=(t="theme")=>({computed:{themeClass(){return Ot(this[t])}}}),pe=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const ge=(0,r.aZ)({name:"VPopperContent",components:{ResizeObserver:ue},mixins:[fe()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(t){return null==t||isNaN(t)?null:`${t}px`}}}),me=["id","aria-hidden","tabindex","data-popper-placement"],ye={ref:"inner",class:"v-popper__inner"},ve=(0,r._)("div",{class:"v-popper__arrow-outer"},null,-1),be=(0,r._)("div",{class:"v-popper__arrow-inner"},null,-1),we=[ve,be];function _e(t,e,n,o,a,c){const u=(0,r.up)("ResizeObserver");return(0,r.wg)(),(0,r.iD)("div",{id:t.popperId,ref:"popover",class:(0,i.C_)(["v-popper__popper",[t.themeClass,t.classes.popperClass,{"v-popper__popper--shown":t.shown,"v-popper__popper--hidden":!t.shown,"v-popper__popper--show-from":t.classes.showFrom,"v-popper__popper--show-to":t.classes.showTo,"v-popper__popper--hide-from":t.classes.hideFrom,"v-popper__popper--hide-to":t.classes.hideTo,"v-popper__popper--skip-transition":t.skipTransition,"v-popper__popper--arrow-overflow":t.result&&t.result.arrow.overflow,"v-popper__popper--no-positioning":!t.result}]]),style:(0,i.j5)(t.result?{position:t.result.strategy,transform:`translate3d(${Math.round(t.result.x)}px,${Math.round(t.result.y)}px,0)`}:void 0),"aria-hidden":t.shown?"false":"true",tabindex:t.autoHide?0:void 0,"data-popper-placement":t.result?t.result.placement:void 0,onKeyup:e[2]||(e[2]=(0,s.D2)((e=>t.autoHide&&t.$emit("hide")),["esc"]))},[(0,r._)("div",{class:"v-popper__backdrop",onClick:e[0]||(e[0]=e=>t.autoHide&&t.$emit("hide"))}),(0,r._)("div",{class:"v-popper__wrapper",style:(0,i.j5)(t.result?{transformOrigin:t.result.transformOrigin}:void 0)},[(0,r._)("div",ye,[t.mounted?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r._)("div",null,[(0,r.WI)(t.$slots,"default")]),t.handleResize?((0,r.wg)(),(0,r.j4)(u,{key:0,onNotify:e[1]||(e[1]=e=>t.$emit("resize",e))})):(0,r.kq)("",!0)],64)):(0,r.kq)("",!0)],512),(0,r._)("div",{ref:"arrow",class:"v-popper__arrow-container",style:(0,i.j5)(t.result?{left:t.toPx(t.result.arrow.x),top:t.toPx(t.result.arrow.y)}:void 0)},we,4)],4)],46,me)}var xe=pe(ge,[["render",_e]]),Ie={methods:{show(...t){return this.$refs.popper.show(...t)},hide(...t){return this.$refs.popper.hide(...t)},dispose(...t){return this.$refs.popper.dispose(...t)},onResize(...t){return this.$refs.popper.onResize(...t)}}};const Ee=(0,r.aZ)({name:"VPopperWrapper",components:{Popper:Wt(),PopperContent:xe},mixins:[Ie,fe("finalTheme")],inheritAttrs:!1,props:{theme:{type:String,default:null}},computed:{finalTheme(){var t;return null!=(t=this.theme)?t:this.$options.vPopperTheme},popperAttrs(){const t=St({},this.$attrs);return delete t.class,delete t.style,t}},methods:{getTargetNodes(){return Array.from(this.$refs.reference.children).filter((t=>t!==this.$refs.popperContent.$el))}}});function Te(t,e,n,i,s,o){const a=(0,r.up)("PopperContent"),c=(0,r.up)("Popper");return(0,r.wg)(),(0,r.j4)(c,(0,r.dG)({ref:"popper"},t.popperAttrs,{theme:t.finalTheme,"target-nodes":t.getTargetNodes,"reference-node":()=>t.$refs.reference,"popper-node":()=>t.$refs.popperContent.$el}),{default:(0,r.w5)((({popperId:e,isShown:n,shouldMountContent:i,skipTransition:s,autoHide:o,show:c,hide:u,handleResize:l,onResize:h,classes:d,result:f,attrs:p})=>[(0,r._)("div",(0,r.dG)({ref:"reference",class:"v-popper"},p,{class:[t.$attrs.class,t.themeClass,{"v-popper--shown":n}],style:t.$attrs.style}),[(0,r.WI)(t.$slots,"default",{shown:n,show:c,hide:u}),(0,r.Wm)(a,{ref:"popperContent","popper-id":e,theme:t.finalTheme,shown:n,mounted:i,"skip-transition":s,"auto-hide":o,"handle-resize":l,classes:d,result:f,onHide:u,onResize:h},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"popper",{shown:n,hide:u})])),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])],16)])),_:3},16,["theme","target-nodes","reference-node","popper-node"])}var Se=pe(Ee,[["render",Te]]);(0,r.aZ)(kt(St({},Se),{name:"VDropdown",vPopperTheme:"dropdown"})),(0,r.aZ)(kt(St({},Se),{name:"VMenu",vPopperTheme:"menu"}));(0,r.aZ)(kt(St({},Se),{name:"VTooltip",vPopperTheme:"tooltip"})),(0,r.aZ)({name:"VTooltipDirective",components:{Popper:Wt(),PopperContent:xe},mixins:[Ie],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:t=>At(t.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:t=>At(t.theme,"loadingContent")}},data(){return{asyncContent:null}},computed:{isContentAsync(){return"function"===typeof this.content},loading(){return this.isContentAsync&&null==this.asyncContent},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(t){if("function"===typeof this.content&&this.$_isShown&&(t||!this.$_loading&&null==this.asyncContent)){this.asyncContent=null,this.$_loading=!0;const t=++this.$_fetchId,e=this.content(this);e.then?e.then((e=>this.onResult(t,e))):this.onResult(t,e)}},onResult(t,e){t===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=e)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}})},7055:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,r,i){var s,o,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,d=n?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-l)-1,f>>=-l,l+=a;l>0;s=256*s+t[e+h],h+=d,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=256*o+t[e+h],h+=d,l-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),s-=u}return(f?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,n,r,i,s){var o,a,c,u=8*s-i-1,l=(1<<u)-1,h=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),e+=o+h>=1?d/c:d*Math.pow(2,1-h),e*c>=2&&(o++,c/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(e*c-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[n+f]=255&o,f+=p,o/=256,u-=8);t[n+f-p]|=128*g}},6459:function(t,e,n){"use strict";n.d(e,{o:function(){return m}});var r=n(4870);
/*!
  * vue-i18n-lite v1.0.2
  * (c) 2021 Erik Pham
  * @license MIT
  */const i=["__proto__","prototype","constructor"];function s(t){const e=typeof t;return null!==t&&("object"===e||"function"===e)}function o(t){return!(Array.isArray(t)?t.length:Object.keys(t).length)}function a(t){return!t.some((t=>-1!==i.indexOf(t)))}function c(t){const e=t.split("."),n=[];for(let r=0;r<e.length;r++){let t=e[r];while("\\"===t[t.length-1]&&void 0!==e[r+1])t=t.slice(0,-1)+".",t+=e[++r];n.push(t)}return a(n)?n:[]}function u(t,e){if(!s(t))return"";const n=c(e);if(0===n.length)return"";let r=Object.assign({},t);for(let i=0;i<n.length;i++){if("string"===typeof r[n[i]])return r[n[i]];if(r=r[n[i]],void 0===r||null===r){if(i!==n.length-1)return"";break}}return""}function l(t,e){if(Array.isArray(e)){const n={},r=[...t.matchAll(/{(.+?)}/g)];return r&&r.forEach(((t,r)=>{e[r]&&(n[t[1]]=e[r])})),n}return e}function h(t,e){for(const n in e)t=t.replace(`{${n}}`,String(e[n]));return t}function d(t,e){return Object.keys(e).forEach((n=>{e[n]instanceof Object&&n in t&&(e[n]={...e[n],...d(t[n],e[n])})})),{...t||{},...e}}const f="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,p=t=>f?Symbol(t):"_vt_"+t,g=p("i18n");function m(t){const e=Object.assign({locale:"en",fallbackLocale:"en",messages:{}},t),n=(0,r.iH)(e.locale),i=(0,r.qj)({});return Object.entries(e.messages).forEach((([t,e])=>{i[t]=e})),{t(t,r){if(!t)return"";const s="string"===typeof r&&r?r:n.value;let a=u(i[s],t)||u(i[e.fallbackLocale],t);if(r&&"string"!==typeof r){const t=l(a,r);o(t)||(a=h(a,t))}return a||t},current:(0,r.OT)(n),options:(0,r.OT)(t||{}),install(t){const e=this;t.config.globalProperties.$t=e.t,t.provide(g,e)},changeLocale(t){n.value=t},setLocaleMessage(t,e){i[t]=d((0,r.IU)(i[t]||{}),e)},getLocaleMessage(t){return i[t]||{}}}}},89:function(t,e){"use strict";e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n}},678:function(t,e,n){"use strict";n.d(e,{PO:function(){return H},p7:function(){return ee}});n(6699),n(1703);var r=n(3396),i=n(4870);
/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const s="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,o=t=>s?Symbol(t):"_vr_"+t,a=o("rvlm"),c=o("rvd"),u=o("r"),l=o("rl"),h=o("rvl"),d="undefined"!==typeof window;function f(t){return t.__esModule||s&&"Module"===t[Symbol.toStringTag]}const p=Object.assign;function g(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}const m=()=>{};const y=/\/$/,v=t=>t.replace(y,"");function b(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("?"),c=e.indexOf("#",a>-1?a:0);return a>-1&&(r=e.slice(0,a),s=e.slice(a+1,c>-1?c:e.length),i=t(s)),c>-1&&(r=r||e.slice(0,c),o=e.slice(c,e.length)),r=k(null!=r?r:e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function w(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function _(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function x(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&I(e.matched[r],n.matched[i])&&E(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function I(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function E(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!T(t[n],e[n]))return!1;return!0}function T(t,e){return Array.isArray(t)?S(t,e):Array.isArray(e)?S(e,t):t===e}function S(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}function k(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i,s,o=n.length-1;for(i=0;i<r.length;i++)if(s=r[i],1!==o&&"."!==s){if(".."!==s)break;o--}return n.slice(0,o).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var C,A;(function(t){t["pop"]="pop",t["push"]="push"})(C||(C={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(A||(A={}));function O(t){if(!t)if(d){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),v(t)}const D=/^[^#]+#/;function R(t,e){return t.replace(D,"#")+e}function P(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const N=()=>({left:window.pageXOffset,top:window.pageYOffset});function M(t){let e;if("el"in t){const n=t.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=P(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function L(t,e){const n=history.state?history.state.position-e:-1;return n+t}const F=new Map;function j(t,e){F.set(t,e)}function B(t){const e=F.get(t);return F.delete(t),e}let V=()=>location.protocol+"//"+location.host;function U(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let e=i.includes(t.slice(s))?t.slice(s).length:1,n=i.slice(e);return"/"!==n[0]&&(n="/"+n),_(n,"")}const o=_(n,t);return o+r+i}function $(t,e,n,r){let i=[],s=[],o=null;const a=({state:s})=>{const a=U(t,location),c=n.value,u=e.value;let l=0;if(s){if(n.value=a,e.value=s,o&&o===c)return void(o=null);l=u?s.position-u.position:0}else r(a);i.forEach((t=>{t(n.value,c,{delta:l,type:C.pop,direction:l?l>0?A.forward:A.back:A.unknown})}))};function c(){o=n.value}function u(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return s.push(e),e}function l(){const{history:t}=window;t.state&&t.replaceState(p({},t.state,{scroll:N()}),"")}function h(){for(const t of s)t();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:c,listen:u,destroy:h}}function z(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?N():null}}function q(t){const{history:e,location:n}=window,r={value:U(t,n)},i={value:e.state};function s(r,s,o){const a=t.indexOf("#"),c=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+r:V()+t+r;try{e[o?"replaceState":"pushState"](s,"",c),i.value=s}catch(u){console.error(u),n[o?"replace":"assign"](c)}}function o(t,n){const o=p({},e.state,z(i.value.back,t,i.value.forward,!0),n,{position:i.value.position});s(t,o,!0),r.value=t}function a(t,n){const o=p({},i.value,e.state,{forward:t,scroll:N()});s(o.current,o,!0);const a=p({},z(r.value,t,null),{position:o.position+1},n);s(t,a,!1),r.value=t}return i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:a,replace:o}}function H(t){t=O(t);const e=q(t),n=$(t,e.state,e.location,e.replace);function r(t,e=!0){e||n.pauseListeners(),history.go(t)}const i=p({location:"",base:t,go:r,createHref:R.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function W(t){return"string"===typeof t||t&&"object"===typeof t}function G(t){return"string"===typeof t||"symbol"===typeof t}const K={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Y=o("nf");var Q;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})(Q||(Q={}));function J(t,e){return p(new Error,{type:t,[Y]:!0},e)}function X(t,e){return t instanceof Error&&Y in t&&(null==e||!!(t.type&e))}const Z="[^/]+?",tt={sensitive:!1,strict:!1,start:!0,end:!0},et=/[.+*?^${}()[\]/\\]/g;function nt(t,e){const n=p({},tt,e),r=[];let i=n.start?"^":"";const s=[];for(const l of t){const t=l.length?[]:[90];n.strict&&!l.length&&(i+="/");for(let e=0;e<l.length;e++){const r=l[e];let o=40+(n.sensitive?.25:0);if(0===r.type)e||(i+="/"),i+=r.value.replace(et,"\\$&"),o+=40;else if(1===r.type){const{value:t,repeatable:n,optional:a,regexp:c}=r;s.push({name:t,repeatable:n,optional:a});const h=c||Z;if(h!==Z){o+=10;try{new RegExp(`(${h})`)}catch(u){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+u.message)}}let d=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(d=a&&l.length<2?`(?:/${d})`:"/"+d),a&&(d+="?"),i+=d,o+=20,a&&(o+=-8),n&&(o+=-20),".*"===h&&(o+=-50)}t.push(o)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(t){const e=t.match(o),n={};if(!e)return null;for(let r=1;r<e.length;r++){const t=e[r]||"",i=s[r-1];n[i.name]=t&&i.repeatable?t.split("/"):t}return n}function c(e){let n="",r=!1;for(const i of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const s of i)if(0===s.type)n+=s.value;else if(1===s.type){const{value:o,repeatable:a,optional:c}=s,u=o in e?e[o]:"";if(Array.isArray(u)&&!a)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const l=Array.isArray(u)?u.join("/"):u;if(!l){if(!c)throw new Error(`Missing required param "${o}"`);i.length<2&&t.length>1&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=l}}return n}return{re:o,score:r,keys:s,parse:a,stringify:c}}function rt(t,e){let n=0;while(n<t.length&&n<e.length){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function it(t,e){let n=0;const r=t.score,i=e.score;while(n<r.length&&n<i.length){const t=rt(r[n],i[n]);if(t)return t;n++}return i.length-r.length}const st={type:0,value:""},ot=/[a-zA-Z0-9_]/;function at(t){if(!t)return[[]];if("/"===t)return[[st]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${u}": ${t}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a,c=0,u="",l="";function h(){u&&(0===n?s.push({type:0,value:u}):1===n||2===n||3===n?(s.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),u="")}function d(){u+=a}while(c<t.length)if(a=t[c++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(u&&h(),o()):":"===a?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:"("===a?n=2:ot.test(a)?d():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&c--,l="";break;default:e("Unknown state");break}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function ct(t,e,n){const r=nt(at(t.path),n);const i=p(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf===!e.record.aliasOf&&e.children.push(i),i}function ut(t,e){const n=[],r=new Map;function i(t){return r.get(t)}function s(t,n,r){const i=!r,a=ht(t);a.aliasOf=r&&r.record;const u=gt(e,t),l=[a];if("alias"in t){const e="string"===typeof t.alias?[t.alias]:t.alias;for(const t of e)l.push(p({},a,{components:r?r.record.components:a.components,path:t,aliasOf:r?r.record:a}))}let h,d;for(const e of l){const{path:l}=e;if(n&&"/"!==l[0]){const t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(l&&r+l)}if(h=ct(e,n,u),r?r.alias.push(h):(d=d||h,d!==h&&d.alias.push(h),i&&t.name&&!ft(h)&&o(t.name)),"children"in a){const t=a.children;for(let e=0;e<t.length;e++)s(t[e],h,r&&r.children[e])}r=r||h,c(h)}return d?()=>{o(d)}:m}function o(t){if(G(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function a(){return n}function c(t){let e=0;while(e<n.length&&it(t,n[e])>=0&&(t.record.path!==n[e].record.path||!mt(t,n[e])))e++;n.splice(e,0,t),t.record.name&&!ft(t)&&r.set(t.record.name,t)}function u(t,e){let i,s,o,a={};if("name"in t&&t.name){if(i=r.get(t.name),!i)throw J(1,{location:t});o=i.record.name,a=p(lt(e.params,i.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),s=i.stringify(a)}else if("path"in t)s=t.path,i=n.find((t=>t.re.test(s))),i&&(a=i.parse(s),o=i.record.name);else{if(i=e.name?r.get(e.name):n.find((t=>t.re.test(e.path))),!i)throw J(1,{location:t,currentLocation:e});o=i.record.name,a=p({},e.params,t.params),s=i.stringify(a)}const c=[];let u=i;while(u)c.unshift(u.record),u=u.parent;return{name:o,path:s,params:a,matched:c,meta:pt(c)}}return e=gt({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>s(t))),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function lt(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function ht(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:dt(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function dt(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]="boolean"===typeof n?n:n[r];return e}function ft(t){while(t){if(t.record.aliasOf)return!0;t=t.parent}return!1}function pt(t){return t.reduce(((t,e)=>p(t,e.meta)),{})}function gt(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function mt(t,e){return e.children.some((e=>e===t||mt(t,e)))}const yt=/#/g,vt=/&/g,bt=/\//g,wt=/=/g,_t=/\?/g,xt=/\+/g,It=/%5B/g,Et=/%5D/g,Tt=/%5E/g,St=/%60/g,kt=/%7B/g,Ct=/%7C/g,At=/%7D/g,Ot=/%20/g;function Dt(t){return encodeURI(""+t).replace(Ct,"|").replace(It,"[").replace(Et,"]")}function Rt(t){return Dt(t).replace(kt,"{").replace(At,"}").replace(Tt,"^")}function Pt(t){return Dt(t).replace(xt,"%2B").replace(Ot,"+").replace(yt,"%23").replace(vt,"%26").replace(St,"`").replace(kt,"{").replace(At,"}").replace(Tt,"^")}function Nt(t){return Pt(t).replace(wt,"%3D")}function Mt(t){return Dt(t).replace(yt,"%23").replace(_t,"%3F")}function Lt(t){return null==t?"":Mt(t).replace(bt,"%2F")}function Ft(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function jt(t){const e={};if(""===t||"?"===t)return e;const n="?"===t[0],r=(n?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const t=r[i].replace(xt," "),n=t.indexOf("="),s=Ft(n<0?t:t.slice(0,n)),o=n<0?null:Ft(t.slice(n+1));if(s in e){let t=e[s];Array.isArray(t)||(t=e[s]=[t]),t.push(o)}else e[s]=o}return e}function Bt(t){let e="";for(let n in t){const r=t[n];if(n=Nt(n),null==r){void 0!==r&&(e+=(e.length?"&":"")+n);continue}const i=Array.isArray(r)?r.map((t=>t&&Pt(t))):[r&&Pt(r)];i.forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function Vt(t){const e={};for(const n in t){const r=t[n];void 0!==r&&(e[n]=Array.isArray(r)?r.map((t=>null==t?null:""+t)):null==r?r:""+r)}return e}function Ut(){let t=[];function e(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function $t(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((o,a)=>{const c=t=>{!1===t?a(J(4,{from:n,to:e})):t instanceof Error?a(t):W(t)?a(J(2,{from:e,to:t})):(s&&r.enterCallbacks[i]===s&&"function"===typeof t&&s.push(t),o())},u=t.call(r&&r.instances[i],e,n,c);let l=Promise.resolve(u);t.length<3&&(l=l.then(c)),l.catch((t=>a(t)))}))}function zt(t,e,n,r){const i=[];for(const s of t)for(const t in s.components){let o=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if(qt(o)){const a=o.__vccOpts||o,c=a[e];c&&i.push($t(c,n,r,s,t))}else{let a=o();0,i.push((()=>a.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${s.path}"`));const o=f(i)?i.default:i;s.components[t]=o;const a=o.__vccOpts||o,c=a[e];return c&&$t(c,n,r,s,t)()}))))}}return i}function qt(t){return"object"===typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}function Ht(t){const e=(0,r.f3)(u),n=(0,r.f3)(l),s=(0,r.Fl)((()=>e.resolve((0,i.SU)(t.to)))),o=(0,r.Fl)((()=>{const{matched:t}=s.value,{length:e}=t,r=t[e-1],i=n.matched;if(!r||!i.length)return-1;const o=i.findIndex(I.bind(null,r));if(o>-1)return o;const a=Qt(t[e-2]);return e>1&&Qt(r)===a&&i[i.length-1].path!==a?i.findIndex(I.bind(null,t[e-2])):o})),a=(0,r.Fl)((()=>o.value>-1&&Yt(n.params,s.value.params))),c=(0,r.Fl)((()=>o.value>-1&&o.value===n.matched.length-1&&E(n.params,s.value.params)));function h(n={}){return Kt(n)?e[(0,i.SU)(t.replace)?"replace":"push"]((0,i.SU)(t.to)).catch(m):Promise.resolve()}return{route:s,href:(0,r.Fl)((()=>s.value.href)),isActive:a,isExactActive:c,navigate:h}}const Wt=(0,r.aZ)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ht,setup(t,{slots:e}){const n=(0,i.qj)(Ht(t)),{options:s}=(0,r.f3)(u),o=(0,r.Fl)((()=>({[Jt(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Jt(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=e.default&&e.default(n);return t.custom?i:(0,r.h)("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),Gt=Wt;function Kt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Yt(t,e){for(const n in e){const r=e[n],i=t[n];if("string"===typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((t,e)=>t!==i[e])))return!1}return!0}function Qt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Jt=(t,e,n)=>null!=t?t:null!=e?e:n,Xt=(0,r.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=(0,r.f3)(h),o=(0,r.Fl)((()=>t.route||s.value)),u=(0,r.f3)(c,0),l=(0,r.Fl)((()=>o.value.matched[u]));(0,r.JJ)(c,u+1),(0,r.JJ)(a,l),(0,r.JJ)(h,o);const d=(0,i.iH)();return(0,r.YP)((()=>[d.value,l.value,t.name]),(([t,e,n],[r,i,s])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===r&&(e.leaveGuards.size||(e.leaveGuards=i.leaveGuards),e.updateGuards.size||(e.updateGuards=i.updateGuards))),!t||!e||i&&I(e,i)&&r||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const i=o.value,s=l.value,a=s&&s.components[t.name],c=t.name;if(!a)return Zt(n.default,{Component:a,route:i});const u=s.props[t.name],h=u?!0===u?i.params:"function"===typeof u?u(i):u:null,f=t=>{t.component.isUnmounted&&(s.instances[c]=null)},g=(0,r.h)(a,p({},h,e,{onVnodeUnmounted:f,ref:d}));return Zt(n.default,{Component:g,route:i})||g}}});function Zt(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const te=Xt;function ee(t){const e=ut(t.routes,t),n=t.parseQuery||jt,s=t.stringifyQuery||Bt,o=t.history;const a=Ut(),c=Ut(),f=Ut(),y=(0,i.XI)(K);let v=K;d&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=g.bind(null,(t=>""+t)),I=g.bind(null,Lt),E=g.bind(null,Ft);function T(t,n){let r,i;return G(t)?(r=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,r)}function S(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)}function k(){return e.getRoutes().map((t=>t.record))}function A(t){return!!e.getRecordMatcher(t)}function O(t,r){if(r=p({},r||y.value),"string"===typeof t){const i=b(n,t,r.path),s=e.resolve({path:i.path},r),a=o.createHref(i.fullPath);return p(i,s,{params:E(s.params),hash:Ft(i.hash),redirectedFrom:void 0,href:a})}let i;if("path"in t)i=p({},t,{path:b(n,t.path,r.path).path});else{const e=p({},t.params);for(const t in e)null==e[t]&&delete e[t];i=p({},t,{params:I(t.params)}),r.params=I(r.params)}const a=e.resolve(i,r),c=t.hash||"";a.params=_(E(a.params));const u=w(s,p({},t,{hash:Rt(c),path:a.path})),l=o.createHref(u);return p({fullPath:u,hash:c,query:s===Bt?Vt(t.query):t.query||{}},a,{redirectedFrom:void 0,href:l})}function D(t){return"string"===typeof t?b(n,t,y.value.path):p({},t)}function R(t,e){if(v!==t)return J(8,{from:e,to:t})}function P(t){return U(t)}function F(t){return P(p(D(t),{replace:!0}))}function V(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r="function"===typeof n?n(t):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=D(r):{path:r},r.params={}),p({query:t.query,hash:t.hash,params:t.params},r)}}function U(t,e){const n=v=O(t),r=y.value,i=t.state,o=t.force,a=!0===t.replace,c=V(n);if(c)return U(p(D(c),{state:i,force:o,replace:a}),e||n);const u=n;let l;return u.redirectedFrom=e,!o&&x(s,r,n)&&(l=J(16,{to:u,from:r}),it(r,r,!0,!1)),(l?Promise.resolve(l):z(u,r)).catch((t=>X(t)?X(t,2)?t:rt(t):et(t,u,r))).then((t=>{if(t){if(X(t,2))return U(p(D(t.to),{state:i,force:o,replace:a}),e||u)}else t=H(u,r,!0,a,i);return q(u,r,t),t}))}function $(t,e){const n=R(t,e);return n?Promise.reject(n):Promise.resolve()}function z(t,e){let n;const[r,i,s]=re(t,e);n=zt(r.reverse(),"beforeRouteLeave",t,e);for(const a of r)a.leaveGuards.forEach((r=>{n.push($t(r,t,e))}));const o=$.bind(null,t,e);return n.push(o),ne(n).then((()=>{n=[];for(const r of a.list())n.push($t(r,t,e));return n.push(o),ne(n)})).then((()=>{n=zt(i,"beforeRouteUpdate",t,e);for(const r of i)r.updateGuards.forEach((r=>{n.push($t(r,t,e))}));return n.push(o),ne(n)})).then((()=>{n=[];for(const r of t.matched)if(r.beforeEnter&&!e.matched.includes(r))if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push($t(i,t,e));else n.push($t(r.beforeEnter,t,e));return n.push(o),ne(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=zt(s,"beforeRouteEnter",t,e),n.push(o),ne(n)))).then((()=>{n=[];for(const r of c.list())n.push($t(r,t,e));return n.push(o),ne(n)})).catch((t=>X(t,8)?t:Promise.reject(t)))}function q(t,e,n){for(const r of f.list())r(t,e,n)}function H(t,e,n,r,i){const s=R(t,e);if(s)return s;const a=e===K,c=d?history.state:{};n&&(r||a?o.replace(t.fullPath,p({scroll:a&&c&&c.scroll},i)):o.push(t.fullPath,i)),y.value=t,it(t,e,n,a),rt()}let W;function Y(){W||(W=o.listen(((t,e,n)=>{const r=O(t),i=V(r);if(i)return void U(p(i,{replace:!0}),r).catch(m);v=r;const s=y.value;d&&j(L(s.fullPath,n.delta),N()),z(r,s).catch((t=>X(t,12)?t:X(t,2)?(U(t.to,r).then((t=>{X(t,20)&&!n.delta&&n.type===C.pop&&o.go(-1,!1)})).catch(m),Promise.reject()):(n.delta&&o.go(-n.delta,!1),et(t,r,s)))).then((t=>{t=t||H(r,s,!1),t&&(n.delta?o.go(-n.delta,!1):n.type===C.pop&&X(t,20)&&o.go(-1,!1)),q(r,s,t)})).catch(m)})))}let Q,Z=Ut(),tt=Ut();function et(t,e,n){rt(t);const r=tt.list();return r.length?r.forEach((r=>r(t,e,n))):console.error(t),Promise.reject(t)}function nt(){return Q&&y.value!==K?Promise.resolve():new Promise(((t,e)=>{Z.add([t,e])}))}function rt(t){return Q||(Q=!t,Y(),Z.list().forEach((([e,n])=>t?n(t):e())),Z.reset()),t}function it(e,n,i,s){const{scrollBehavior:o}=t;if(!d||!o)return Promise.resolve();const a=!i&&B(L(e.fullPath,0))||(s||!i)&&history.state&&history.state.scroll||null;return(0,r.Y3)().then((()=>o(e,n,a))).then((t=>t&&M(t))).catch((t=>et(t,e,n)))}const st=t=>o.go(t);let ot;const at=new Set,ct={currentRoute:y,addRoute:T,removeRoute:S,hasRoute:A,getRoutes:k,resolve:O,options:t,push:P,replace:F,go:st,back:()=>st(-1),forward:()=>st(1),beforeEach:a.add,beforeResolve:c.add,afterEach:f.add,onError:tt.add,isReady:nt,install(t){const e=this;t.component("RouterLink",Gt),t.component("RouterView",te),t.config.globalProperties.$router=e,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.SU)(y)}),d&&!ot&&y.value===K&&(ot=!0,P(o.location).catch((t=>{0})));const n={};for(const i in K)n[i]=(0,r.Fl)((()=>y.value[i]));t.provide(u,e),t.provide(l,(0,i.qj)(n)),t.provide(h,y);const s=t.unmount;at.add(t),t.unmount=function(){at.delete(t),at.size<1&&(v=K,W&&W(),W=null,y.value=K,ot=!1,Q=!1),s()}}};return ct}function ne(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function re(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const s=e.matched[o];s&&(t.matched.find((t=>I(t,s)))?r.push(s):n.push(s));const a=t.matched[o];a&&(e.matched.find((t=>I(t,a)))||i.push(a))}return[n,r,i]}},6866:function(t,e,n){"use strict";n.r(e),n.d(e,{BaseTransition:function(){return r.P$},Comment:function(){return r.sv},EffectScope:function(){return r.Bj},Fragment:function(){return r.HY},KeepAlive:function(){return r.Ob},ReactiveEffect:function(){return r.qq},Static:function(){return r.qG},Suspense:function(){return r.n4},Teleport:function(){return r.lR},Text:function(){return r.xv},Transition:function(){return r.uT},TransitionGroup:function(){return r.W3},VueElement:function(){return r.a2},callWithAsyncErrorHandling:function(){return r.$d},callWithErrorHandling:function(){return r.KU},camelize:function(){return r._A},capitalize:function(){return r.kC},cloneVNode:function(){return r.Ho},compatUtils:function(){return r.ry},compile:function(){return i},computed:function(){return r.Fl},createApp:function(){return r.ri},createBlock:function(){return r.j4},createCommentVNode:function(){return r.kq},createElementBlock:function(){return r.iD},createElementVNode:function(){return r._},createHydrationRenderer:function(){return r.Eo},createPropsRestProxy:function(){return r.p1},createRenderer:function(){return r.Us},createSSRApp:function(){return r.vr},createSlots:function(){return r.Nv},createStaticVNode:function(){return r.uE},createTextVNode:function(){return r.Uk},createVNode:function(){return r.Wm},customRef:function(){return r.ZM},defineAsyncComponent:function(){return r.RC},defineComponent:function(){return r.aZ},defineCustomElement:function(){return r.MW},defineEmits:function(){return r.Bz},defineExpose:function(){return r.WY},defineProps:function(){return r.yb},defineSSRCustomElement:function(){return r.Ah},devtools:function(){return r.mW},effect:function(){return r.cE},effectScope:function(){return r.B},getCurrentInstance:function(){return r.FN},getCurrentScope:function(){return r.nZ},getTransitionRawChildren:function(){return r.Q6},guardReactiveProps:function(){return r.F4},h:function(){return r.h},handleError:function(){return r.S3},hydrate:function(){return r.ZB},initCustomFormatter:function(){return r.Mr},initDirectivesForSSR:function(){return r.Nd},inject:function(){return r.f3},isMemoSame:function(){return r.nQ},isProxy:function(){return r.X3},isReactive:function(){return r.PG},isReadonly:function(){return r.$y},isRef:function(){return r.dq},isRuntimeOnly:function(){return r.of},isShallow:function(){return r.yT},isVNode:function(){return r.lA},markRaw:function(){return r.Xl},mergeDefaults:function(){return r.u_},mergeProps:function(){return r.dG},nextTick:function(){return r.Y3},normalizeClass:function(){return r.C_},normalizeProps:function(){return r.vs},normalizeStyle:function(){return r.j5},onActivated:function(){return r.dl},onBeforeMount:function(){return r.wF},onBeforeUnmount:function(){return r.Jd},onBeforeUpdate:function(){return r.Xn},onDeactivated:function(){return r.se},onErrorCaptured:function(){return r.d1},onMounted:function(){return r.bv},onRenderTracked:function(){return r.bT},onRenderTriggered:function(){return r.Yq},onScopeDispose:function(){return r.EB},onServerPrefetch:function(){return r.vl},onUnmounted:function(){return r.SK},onUpdated:function(){return r.ic},openBlock:function(){return r.wg},popScopeId:function(){return r.Cn},provide:function(){return r.JJ},proxyRefs:function(){return r.WL},pushScopeId:function(){return r.dD},queuePostFlushCb:function(){return r.qb},reactive:function(){return r.qj},readonly:function(){return r.OT},ref:function(){return r.iH},registerRuntimeCompiler:function(){return r.Y1},render:function(){return r.sY},renderList:function(){return r.Ko},renderSlot:function(){return r.WI},resolveComponent:function(){return r.up},resolveDirective:function(){return r.Q2},resolveDynamicComponent:function(){return r.LL},resolveFilter:function(){return r.eq},resolveTransitionHooks:function(){return r.U2},setBlockTracking:function(){return r.qZ},setDevtoolsHook:function(){return r.ec},setTransitionHooks:function(){return r.nK},shallowReactive:function(){return r.Um},shallowReadonly:function(){return r.YS},shallowRef:function(){return r.XI},ssrContextKey:function(){return r.Uc},ssrUtils:function(){return r.G},stop:function(){return r.sT},toDisplayString:function(){return r.zw},toHandlerKey:function(){return r.hR},toHandlers:function(){return r.mx},toRaw:function(){return r.IU},toRef:function(){return r.Vh},toRefs:function(){return r.BK},transformVNodeArgs:function(){return r.C3},triggerRef:function(){return r.oR},unref:function(){return r.SU},useAttrs:function(){return r.l1},useCssModule:function(){return r.fb},useCssVars:function(){return r.sj},useSSRContext:function(){return r.Zq},useSlots:function(){return r.Rr},useTransitionState:function(){return r.Y8},vModelCheckbox:function(){return r.e8},vModelDynamic:function(){return r.YZ},vModelRadio:function(){return r.G2},vModelSelect:function(){return r.bM},vModelText:function(){return r.nr},vShow:function(){return r.F8},version:function(){return r.i8},warn:function(){return r.ZK},watch:function(){return r.YP},watchEffect:function(){return r.m0},watchPostEffect:function(){return r.Rh},watchSyncEffect:function(){return r.yX},withAsyncContext:function(){return r.mv},withCtx:function(){return r.w5},withDefaults:function(){return r.b9},withDirectives:function(){return r.wy},withKeys:function(){return r.D2},withMemo:function(){return r.MX},withModifiers:function(){return r.iM},withScopeId:function(){return r.HX}});var r=n(9242);const i=()=>{0}},65:function(t,e,n){"use strict";n.d(e,{MT:function(){return tt}});n(1703),n(6699);var r=n(3396),i=n(4870);function s(){return o().__VUE_DEVTOOLS_GLOBAL_HOOK__}function o(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}const a="function"===typeof Proxy,c="devtools-plugin:setup",u="plugin:settings:set";let l,h;function d(){var t;return void 0!==l||("undefined"!==typeof window&&window.performance?(l=!0,h=window.performance):"undefined"!==typeof n.g&&(null===(t=n.g.perf_hooks)||void 0===t?void 0:t.performance)?(l=!0,h=n.g.perf_hooks.performance):l=!1),l}function f(){return d()?h.now():Date.now()}class p{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const n={};if(t.settings)for(const o in t.settings){const e=t.settings[o];n[o]=e.defaultValue}const r=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},n);try{const t=localStorage.getItem(r),e=JSON.parse(t);Object.assign(i,e)}catch(s){}this.fallbacks={getSettings(){return i},setSettings(t){try{localStorage.setItem(r,JSON.stringify(t))}catch(s){}i=t},now(){return f()}},e&&e.on(u,((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((n=>{this.targetQueue.push({method:e,args:t,resolve:n})}))})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function g(t,e){const n=t,r=o(),i=s(),u=a&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&u){const t=u?new p(n,i):null,s=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];s.push({pluginDescriptor:n,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else i.emit(c,t,e)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */
var m="store";function y(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function v(t){return null!==t&&"object"===typeof t}function b(t){return t&&"function"===typeof t.then}function w(t,e){return function(){return t(e)}}function _(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function x(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;E(t,n,[],t._modules.root,!0),I(t,n,e)}function I(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,o={};y(s,(function(e,n){o[n]=w(e,t),Object.defineProperty(t.getters,n,{get:function(){return o[n]()},enumerable:!0})})),t._state=(0,i.qj)({data:e}),t.strict&&O(t),r&&n&&t._withCommit((function(){r.data=null}))}function E(t,e,n,r,i){var s=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!s&&!i){var a=D(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit((function(){a[c]=r.state}))}var u=r.context=T(t,o,n);r.forEachMutation((function(e,n){var r=o+n;k(t,r,e,u)})),r.forEachAction((function(e,n){var r=e.root?n:o+n,i=e.handler||e;C(t,r,i,u)})),r.forEachGetter((function(e,n){var r=o+n;A(t,r,e,u)})),r.forEachChild((function(r,s){E(t,e,n.concat(s),r,i)}))}function T(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var s=R(n,r,i),o=s.payload,a=s.options,c=s.type;return a&&a.root||(c=e+c),t.dispatch(c,o)},commit:r?t.commit:function(n,r,i){var s=R(n,r,i),o=s.payload,a=s.options,c=s.type;a&&a.root||(c=e+c),t.commit(c,o,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return S(t,e)}},state:{get:function(){return D(t.state,n)}}}),i}function S(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function k(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,r.state,e)}))}function C(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e){var i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return b(i)||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}function A(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function O(t){(0,r.YP)((function(){return t._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function D(t,e){return e.reduce((function(t,e){return t[e]}),t)}function R(t,e,n){return v(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var P="vuex bindings",N="vuex:mutations",M="vuex:actions",L="vuex",F=0;function j(t,e){g({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[P]},(function(n){n.addTimelineLayer({id:N,label:"Vuex Mutations",color:B}),n.addTimelineLayer({id:M,label:"Vuex Actions",color:B}),n.addInspector({id:L,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===t&&n.inspectorId===L)if(n.filter){var r=[];H(r,e._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[q(e._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===t&&n.inspectorId===L){var r=n.nodeId;S(e,r),n.state=W(K(e._modules,r),"root"===r?e.getters:e._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===t&&n.inspectorId===L){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),e._withCommit((function(){n.set(e._state.data,i,n.state.value)}))}})),e.subscribe((function(t,e){var r={};t.payload&&(r.payload=t.payload),r.state=e,n.notifyComponentUpdate(),n.sendInspectorTree(L),n.sendInspectorState(L),n.addTimelineEvent({layerId:N,event:{time:Date.now(),title:t.type,data:r}})})),e.subscribeAction({before:function(t,e){var r={};t.payload&&(r.payload=t.payload),t._id=F++,t._time=Date.now(),r.state=e,n.addTimelineEvent({layerId:M,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:r}})},after:function(t,e){var r={},i=Date.now()-t._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},t.payload&&(r.payload=t.payload),r.state=e,n.addTimelineEvent({layerId:M,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:r}})}})}))}var B=8702998,V=6710886,U=16777215,$={label:"namespaced",textColor:U,backgroundColor:V};function z(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function q(t,e){return{id:e||"root",label:z(e),tags:t.namespaced?[$]:[],children:Object.keys(t._children).map((function(n){return q(t._children[n],e+n+"/")}))}}function H(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[$]:[]}),Object.keys(e._children).forEach((function(i){H(t,e._children[i],n,r+i+"/")}))}function W(t,e,n){e="root"===n?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(r.length){var s=G(e);i.getters=Object.keys(s).map((function(t){return{key:t.endsWith("/")?z(t):t,editable:!1,value:Y((function(){return s[t]}))}}))}return i}function G(t){var e={};return Object.keys(t).forEach((function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach((function(t){i[t]||(i[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),i=i[t]._custom.value})),i[s]=Y((function(){return t[n]}))}else e[n]=Y((function(){return t[n]}))})),e}function K(t,e){var n=e.split("/").filter((function(t){return t}));return n.reduce((function(t,r,i){var s=t[r];if(!s)throw new Error('Missing module "'+r+'" for path "'+e+'".');return i===n.length-1?s:s._children}),"root"===e?t:t.root._children)}function Y(t){try{return t()}catch(e){return e}}var Q=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},J={namespaced:{configurable:!0}};J.namespaced.get=function(){return!!this._rawModule.namespaced},Q.prototype.addChild=function(t,e){this._children[t]=e},Q.prototype.removeChild=function(t){delete this._children[t]},Q.prototype.getChild=function(t){return this._children[t]},Q.prototype.hasChild=function(t){return t in this._children},Q.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},Q.prototype.forEachChild=function(t){y(this._children,t)},Q.prototype.forEachGetter=function(t){this._rawModule.getters&&y(this._rawModule.getters,t)},Q.prototype.forEachAction=function(t){this._rawModule.actions&&y(this._rawModule.actions,t)},Q.prototype.forEachMutation=function(t){this._rawModule.mutations&&y(this._rawModule.mutations,t)},Object.defineProperties(Q.prototype,J);var X=function(t){this.register([],t,!1)};function Z(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;Z(t.concat(r),e.getChild(r),n.modules[r])}}X.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},X.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},X.prototype.update=function(t){Z([],this.root,t)},X.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new Q(e,n);if(0===t.length)this.root=i;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],i)}e.modules&&y(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},X.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},X.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};function tt(t){return new et(t)}var et=function(t){var e=this;void 0===t&&(t={});var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new X(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var s=this,o=this,a=o.dispatch,c=o.commit;this.dispatch=function(t,e){return a.call(s,t,e)},this.commit=function(t,e,n){return c.call(s,t,e,n)},this.strict=r;var u=this._modules.root.state;E(this,u,[],this._modules.root),I(this,u),n.forEach((function(t){return t(e)}))},nt={state:{configurable:!0}};et.prototype.install=function(t,e){t.provide(e||m,this),t.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&j(t,this)},nt.state.get=function(){return this._state.data},nt.state.set=function(t){0},et.prototype.commit=function(t,e,n){var r=this,i=R(t,e,n),s=i.type,o=i.payload,a=(i.options,{type:s,payload:o}),c=this._mutations[s];c&&(this._withCommit((function(){c.forEach((function(t){t(o)}))})),this._subscribers.slice().forEach((function(t){return t(a,r.state)})))},et.prototype.dispatch=function(t,e){var n=this,r=R(t,e),i=r.type,s=r.payload,o={type:i,payload:s},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,n.state)}))}catch(u){0}var c=a.length>1?Promise.all(a.map((function(t){return t(s)}))):a[0](s);return new Promise((function(t,e){c.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,n.state)}))}catch(u){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(o,n.state,t)}))}catch(u){0}e(t)}))}))}},et.prototype.subscribe=function(t,e){return _(t,this._subscribers,e)},et.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return _(n,this._actionSubscribers,e)},et.prototype.watch=function(t,e,n){var i=this;return(0,r.YP)((function(){return t(i.state,i.getters)}),e,Object.assign({},n))},et.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},et.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),E(this,this.state,t,this._modules.get(t),n.preserveState),I(this,this.state)},et.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=D(e.state,t.slice(0,-1));delete n[t[t.length-1]]})),x(this)},et.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},et.prototype.hotUpdate=function(t){this._modules.update(t),x(this,!0)},et.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(et.prototype,nt);st((function(t,e){var n={};return rt(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=ot(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),st((function(t,e){var n={};return rt(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var s=ot(this.$store,"mapMutations",t);if(!s)return;r=s.context.commit}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),st((function(t,e){var n={};return rt(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||ot(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),st((function(t,e){var n={};return rt(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var s=ot(this.$store,"mapActions",t);if(!s)return;r=s.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n}));function rt(t){return it(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function it(t){return Array.isArray(t)||v(t)}function st(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function ot(t,e,n){var r=t._modulesNamespaceMap[n];return r}},2482:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return r}})},2661:function(t,e,n){"use strict";n.d(e,{Z:function(){return y}});var r=n(223),i=n(7142),s=n(9684),o=n(5168);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(t,e){this._delegate=t,this.firebase=e,(0,s._addComponent)(t,new i.wA("app-compat",(()=>this),"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((t=>{this._delegate.checkDestroyed(),t()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate))))}_getService(t,e=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})}_removeServiceInstance(t,e=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){(0,s._addComponent)(this._delegate,t)}_addOrOverwriteComponent(t){(0,s._addOrOverwriteComponent)(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},u=new r.LL("app-compat","Firebase",c);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function l(t){const e={},n={__esModule:!0,initializeApp:a,app:o,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:l,removeApp:i,useAsService:h,modularAPIs:s}};function i(t){delete e[t]}function o(t){if(t=t||s._DEFAULT_ENTRY_NAME,!(0,r.r3)(e,t))throw u.create("no-app",{appName:t});return e[t]}function a(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(e,a.name))return e[a.name];const c=new t(a,n);return e[a.name]=c,c}function c(){return Object.keys(e).map((t=>e[t]))}function l(e){const i=e.name,a=i.replace("-compat","");if(s._registerComponent(e)&&"PUBLIC"===e.type){const s=(t=o())=>{if("function"!==typeof t[a])throw u.create("invalid-app-argument",{appName:i});return t[a]()};void 0!==e.serviceProps&&(0,r.ZB)(s,e.serviceProps),n[a]=s,t.prototype[a]=function(...t){const n=this._getService.bind(this,i);return n.apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?n[a]:null}function h(t,e){if("serverAuth"===e)return null;const n=e;return n}return n["default"]=n,Object.defineProperty(n,"apps",{get:c}),o["App"]=t,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(){const t=l(a);function e(e){(0,r.ZB)(t,e)}return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:h,extendNamespace:e,createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}const d=h(),f=new o.Yd("@firebase/app-compat"),p="@firebase/app-compat",g="0.1.34";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function m(t){(0,s.registerVersion)(p,g,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,r.jU)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const y=d;m()},9684:function(t,e,n){"use strict";n.r(e),n.d(e,{FirebaseError:function(){return s.ZR},SDK_VERSION:function(){return Q},_DEFAULT_ENTRY_NAME:function(){return F},_addComponent:function(){return U},_addOrOverwriteComponent:function(){return $},_apps:function(){return B},_clearComponents:function(){return W},_components:function(){return V},_getProvider:function(){return q},_registerComponent:function(){return z},_removeServiceInstance:function(){return H},deleteApp:function(){return tt},getApp:function(){return X},getApps:function(){return Z},initializeApp:function(){return J},onLog:function(){return nt},registerVersion:function(){return et},setLogLevel:function(){return rt}});var r=n(7142),i=n(5168),s=n(223),o=n(3831);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(t){this.container=t}getPlatformInfoString(){const t=this.container.getProviders();return t.map((t=>{if(c(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}function c(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}const u="@firebase/app",l="0.7.33",h=new i.Yd("@firebase/app"),d="@firebase/app-compat",f="@firebase/analytics-compat",p="@firebase/analytics",g="@firebase/app-check-compat",m="@firebase/app-check",y="@firebase/auth",v="@firebase/auth-compat",b="@firebase/database",w="@firebase/database-compat",_="@firebase/functions",x="@firebase/functions-compat",I="@firebase/installations",E="@firebase/installations-compat",T="@firebase/messaging",S="@firebase/messaging-compat",k="@firebase/performance",C="@firebase/performance-compat",A="@firebase/remote-config",O="@firebase/remote-config-compat",D="@firebase/storage",R="@firebase/storage-compat",P="@firebase/firestore",N="@firebase/firestore-compat",M="firebase",L="9.10.0",F="[DEFAULT]",j={[u]:"fire-core",[d]:"fire-core-compat",[p]:"fire-analytics",[f]:"fire-analytics-compat",[m]:"fire-app-check",[g]:"fire-app-check-compat",[y]:"fire-auth",[v]:"fire-auth-compat",[b]:"fire-rtdb",[w]:"fire-rtdb-compat",[_]:"fire-fn",[x]:"fire-fn-compat",[I]:"fire-iid",[E]:"fire-iid-compat",[T]:"fire-fcm",[S]:"fire-fcm-compat",[k]:"fire-perf",[C]:"fire-perf-compat",[A]:"fire-rc",[O]:"fire-rc-compat",[D]:"fire-gcs",[R]:"fire-gcs-compat",[P]:"fire-fst",[N]:"fire-fst-compat","fire-js":"fire-js",[M]:"fire-js-all"},B=new Map,V=new Map;function U(t,e){try{t.container.addComponent(e)}catch(n){h.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $(t,e){t.container.addOrOverwriteComponent(e)}function z(t){const e=t.name;if(V.has(e))return h.debug(`There were multiple attempts to register component ${e}.`),!1;V.set(e,t);for(const n of B.values())U(n,t);return!0}function q(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function H(t,e,n=F){q(t,e).clearInstance(n)}function W(){V.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},K=new s.LL("app","Firebase",G);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Y{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw K.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=L;function J(t,e={}){if("object"!==typeof e){const t=e;e={name:t}}const n=Object.assign({name:F,automaticDataCollectionEnabled:!1},e),i=n.name;if("string"!==typeof i||!i)throw K.create("bad-app-name",{appName:String(i)});const o=B.get(i);if(o){if((0,s.vZ)(t,o.options)&&(0,s.vZ)(n,o.config))return o;throw K.create("duplicate-app",{appName:i})}const a=new r.H0(i);for(const r of V.values())a.addComponent(r);const c=new Y(t,n,a);return B.set(i,c),c}function X(t=F){const e=B.get(t);if(!e)throw K.create("no-app",{appName:t});return e}function Z(){return Array.from(B.values())}async function tt(t){const e=t.name;B.has(e)&&(B.delete(e),await Promise.all(t.container.getProviders().map((t=>t.delete()))),t.isDeleted=!0)}function et(t,e,n){var i;let s=null!==(i=j[t])&&void 0!==i?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${s}" with version "${e}":`];return o&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void h.warn(t.join(" "))}z(new r.wA(`${s}-version`,(()=>({library:s,version:e})),"VERSION"))}function nt(t,e){if(null!==t&&"function"!==typeof t)throw K.create("invalid-log-argument");(0,i.Am)(t,e)}function rt(t){(0,i.Ub)(t)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it="firebase-heartbeat-database",st=1,ot="firebase-heartbeat-store";let at=null;function ct(){return at||(at=(0,o.X3)(it,st,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ot)}}}).catch((t=>{throw K.create("idb-open",{originalErrorMessage:t.message})}))),at}async function ut(t){var e;try{const e=await ct();return e.transaction(ot).objectStore(ot).get(ht(t))}catch(n){if(n instanceof s.ZR)h.warn(n.message);else{const t=K.create("idb-get",{originalErrorMessage:null===(e=n)||void 0===e?void 0:e.message});h.warn(t.message)}}}async function lt(t,e){var n;try{const n=await ct(),r=n.transaction(ot,"readwrite"),i=r.objectStore(ot);return await i.put(e,ht(t)),r.done}catch(r){if(r instanceof s.ZR)h.warn(r.message);else{const t=K.create("idb-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message});h.warn(t.message)}}}function ht(t){return`${t.name}!${t.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt=1024,ft=2592e6;class pt{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new yt(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate(),e=t.getPlatformInfoString(),n=gt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((t=>t.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf(),n=Date.now();return n-e<=ft})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=gt(),{heartbeatsToSend:e,unsentEntries:n}=mt(this._heartbeatsCache.heartbeats),r=(0,s.L)(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function gt(){const t=new Date;return t.toISOString().substring(0,10)}function mt(t,e=dt){const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),vt(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vt(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.hl)()&&(0,s.eu)().then((()=>!0)).catch((()=>!1))}async read(){const t=await this._canUseIndexedDBPromise;if(t){const t=await ut(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return lt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return lt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function vt(t){return(0,s.L)(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){z(new r.wA("platform-logger",(t=>new a(t)),"PRIVATE")),z(new r.wA("heartbeat",(t=>new pt(t)),"PRIVATE")),et(u,l,t),et(u,l,"esm2017"),et("fire-js","")}bt("")},7142:function(t,e,n){"use strict";n.d(e,{H0:function(){return u},wA:function(){return i}});n(1703);var r=n(223);class i{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new r.BH;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(c(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:r});n.resolve(t)}catch(e){}}}}clearInstance(t=s){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=s){return this.instances.has(t)}getOptions(t=s){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,s]of this.instancesDeferred.entries()){const t=this.normalizeInstanceIdentifier(i);n===t&&s.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(r){}return n||null}normalizeInstanceIdentifier(t=s){return this.component?this.component.multipleInstances?t:s:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function a(t){return t===s?void 0:t}function c(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){const e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new o(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},5168:function(t,e,n){"use strict";n.d(e,{Am:function(){return h},Ub:function(){return l},Yd:function(){return u},in:function(){return i}});n(1703);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r=[];var i;(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=a[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class u{constructor(t){this.name=t,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in i))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?s[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}function l(t){r.forEach((e=>{e.setLogLevel(t)}))}function h(t,e){for(const n of r){let r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:(e,n,...s)=>{const o=s.map((t=>{if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((t=>t)).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:i[n].toLowerCase(),message:o,args:s,type:e.name})}}}},741:function(t,e,n){"use strict";n.d(e,{kL:function(){return Eo},zX:function(){return iu}});n(1703),n(6699);
/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */
function r(){}const i=function(){let t=0;return function(){return t++}}();function s(t){return null===t||"undefined"===typeof t}function o(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function a(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const c=t=>("number"===typeof t||t instanceof Number)&&isFinite(+t);function u(t,e){return c(t)?t:e}function l(t,e){return"undefined"===typeof t?e:t}const h=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100:t/e,d=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function f(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function p(t,e,n,r){let i,s,c;if(o(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(a(t))for(c=Object.keys(t),s=c.length,i=0;i<s;i++)e.call(n,t[c[i]],c[i])}function g(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function m(t){if(o(t))return t.map(m);if(a(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=m(t[n[i]]);return e}return t}function y(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function v(t,e,n,r){if(!y(t))return;const i=e[t],s=n[t];a(i)&&a(s)?b(i,s,r):e[t]=m(s)}function b(t,e,n){const r=o(e)?e:[e],i=r.length;if(!a(t))return t;n=n||{};const s=n.merger||v;for(let o=0;o<i;++o){if(e=r[o],!a(e))continue;const i=Object.keys(e);for(let r=0,o=i.length;r<o;++r)s(i[r],t,e,n)}return t}function w(t,e){return b(t,e,{merger:_})}function _(t,e,n){if(!y(t))return;const r=e[t],i=n[t];a(r)&&a(i)?w(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=m(i))}const x={"":t=>t,x:t=>t.x,y:t=>t.y};function I(t,e){const n=x[e]||(x[e]=E(e));return n(t)}function E(t){const e=T(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}function T(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function S(t){return t.charAt(0).toUpperCase()+t.slice(1)}const k=t=>"undefined"!==typeof t,C=t=>"function"===typeof t,A=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function O(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}const D=Math.PI,R=2*D,P=R+D,N=Number.POSITIVE_INFINITY,M=D/180,L=D/2,F=D/4,j=2*D/3,B=Math.log10,V=Math.sign;function U(t){const e=Math.round(t);t=q(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(B(t))),r=t/n,i=r<=1?1:r<=2?2:r<=5?5:10;return i*n}function $(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}function z(t){return!isNaN(parseFloat(t))&&isFinite(t)}function q(t,e,n){return Math.abs(t-e)<n}function H(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function W(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function G(t){return t*(D/180)}function K(t){return t*(180/D)}function Y(t){if(!c(t))return;let e=1,n=0;while(Math.round(t*e)/e!==t)e*=10,n++;return n}function Q(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*D&&(s+=R),{angle:s,distance:i}}function J(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function X(t,e){return(t-e+P)%R-D}function Z(t){return(t%R+R)%R}function tt(t,e,n,r){const i=Z(t),s=Z(e),o=Z(n),a=Z(s-i),c=Z(o-i),u=Z(i-s),l=Z(i-o);return i===s||i===o||r&&s===o||a>c&&u<l}function et(t,e,n){return Math.max(e,Math.min(n,t))}function nt(t){return et(t,-32768,32767)}function rt(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function it(t,e,n){n=n||(n=>t[n]<e);let r,i=t.length-1,s=0;while(i-s>1)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const st=(t,e,n,r)=>it(t,n,r?r=>t[r][e]<=n:r=>t[r][e]<n),ot=(t,e,n)=>it(t,n,(r=>t[r][e]>=n));function at(t,e,n){let r=0,i=t.length;while(r<i&&t[r]<e)r++;while(i>r&&t[i-1]>n)i--;return r>0||i<t.length?t.slice(r,i):t}const ct=["push","pop","shift","splice","unshift"];function ut(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ct.forEach((e=>{const n="_onData"+S(e),r=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const i=r.apply(this,e);return t._chartjs.listeners.forEach((t=>{"function"===typeof t[n]&&t[n](...e)})),i}})})))}function lt(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(ct.forEach((e=>{delete t[e]})),delete t._chartjs)}function ht(t){const e=new Set;let n,r;for(n=0,r=t.length;n<r;++n)e.add(t[n]);return e.size===r?t:Array.from(e)}const dt=function(){return"undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame}();function ft(t,e,n){const r=n||(t=>Array.prototype.slice.call(t));let i=!1,s=[];return function(...n){s=r(n),i||(i=!0,dt.call(window,(()=>{i=!1,t.apply(e,s)})))}}function pt(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const gt=t=>"start"===t?"left":"end"===t?"right":"center",mt=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2,yt=(t,e,n,r)=>{const i=r?"left":"right";return t===i?n:"center"===t?(e+n)/2:e};function vt(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,c=o.axis,{min:u,max:l,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(i=et(Math.min(st(a,o.axis,u).lo,n?r:st(e,c,o.getPixelForValue(u)).lo),0,r-1)),s=d?et(Math.max(st(a,o.axis,l,!0).hi+1,n?0:st(e,c,o.getPixelForValue(l),!0).hi+1),i,r)-i:r-i}return{start:i,count:s}}function bt(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const wt=t=>0===t||1===t,_t=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*R/n),xt=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*R/n)+1,It={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*L),easeOutSine:t=>Math.sin(t*L),easeInOutSine:t=>-.5*(Math.cos(D*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>wt(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>wt(t)?t:_t(t,.075,.3),easeOutElastic:t=>wt(t)?t:xt(t,.075,.3),easeInOutElastic(t){const e=.1125,n=.45;return wt(t)?t:t<.5?.5*_t(2*t,e,n):.5+.5*xt(2*t-1,e,n)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-It.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*It.easeInBounce(2*t):.5*It.easeOutBounce(2*t-1)+.5};
/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */
function Et(t){return t+.5|0}const Tt=(t,e,n)=>Math.max(Math.min(t,n),e);function St(t){return Tt(Et(2.55*t),0,255)}function kt(t){return Tt(Et(255*t),0,255)}function Ct(t){return Tt(Et(t/2.55)/100,0,1)}function At(t){return Tt(Et(100*t),0,100)}const Ot={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Dt=[..."0123456789ABCDEF"],Rt=t=>Dt[15&t],Pt=t=>Dt[(240&t)>>4]+Dt[15&t],Nt=t=>(240&t)>>4===(15&t),Mt=t=>Nt(t.r)&&Nt(t.g)&&Nt(t.b)&&Nt(t.a);function Lt(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*Ot[t[1]],g:255&17*Ot[t[2]],b:255&17*Ot[t[3]],a:5===n?17*Ot[t[4]]:255}:7!==n&&9!==n||(e={r:Ot[t[1]]<<4|Ot[t[2]],g:Ot[t[3]]<<4|Ot[t[4]],b:Ot[t[5]]<<4|Ot[t[6]],a:9===n?Ot[t[7]]<<4|Ot[t[8]]:255})),e}const Ft=(t,e)=>t<255?e(t):"";function jt(t){var e=Mt(t)?Rt:Pt;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Ft(t.a,e):void 0}const Bt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Vt(t,e,n){const r=e*Math.min(n,1-n),i=(e,i=(e+t/30)%12)=>n-r*Math.max(Math.min(i-3,9-i,1),-1);return[i(0),i(8),i(4)]}function Ut(t,e,n){const r=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function $t(t,e,n){const r=Vt(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function zt(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function qt(t){const e=255,n=t.r/e,r=t.g/e,i=t.b/e,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let c,u,l;return s!==o&&(l=s-o,u=a>.5?l/(2-s-o):l/(s+o),c=zt(n,r,i,l,s),c=60*c+.5),[0|c,u||0,a]}function Ht(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(kt)}function Wt(t,e,n){return Ht(Vt,t,e,n)}function Gt(t,e,n){return Ht($t,t,e,n)}function Kt(t,e,n){return Ht(Ut,t,e,n)}function Yt(t){return(t%360+360)%360}function Qt(t){const e=Bt.exec(t);let n,r=255;if(!e)return;e[5]!==n&&(r=e[6]?St(+e[5]):kt(+e[5]));const i=Yt(+e[2]),s=+e[3]/100,o=+e[4]/100;return n="hwb"===e[1]?Gt(i,s,o):"hsv"===e[1]?Kt(i,s,o):Wt(i,s,o),{r:n[0],g:n[1],b:n[2],a:r}}function Jt(t,e){var n=qt(t);n[0]=Yt(n[0]+e),n=Wt(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Xt(t){if(!t)return;const e=qt(t),n=e[0],r=At(e[1]),i=At(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Ct(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const Zt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},te={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ee(){const t={},e=Object.keys(te),n=Object.keys(Zt);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Zt[s]);s=parseInt(te[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}let ne;function re(t){ne||(ne=ee(),ne.transparent=[0,0,0,0]);const e=ne[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const ie=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function se(t){const e=ie.exec(t);let n,r,i,s=255;if(e){if(e[7]!==n){const t=+e[7];s=e[8]?St(t):Tt(255*t,0,255)}return n=+e[1],r=+e[3],i=+e[5],n=255&(e[2]?St(n):Tt(n,0,255)),r=255&(e[4]?St(r):Tt(r,0,255)),i=255&(e[6]?St(i):Tt(i,0,255)),{r:n,g:r,b:i,a:s}}}function oe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ct(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ae=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,ce=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ue(t,e,n){const r=ce(Ct(t.r)),i=ce(Ct(t.g)),s=ce(Ct(t.b));return{r:kt(ae(r+n*(ce(Ct(e.r))-r))),g:kt(ae(i+n*(ce(Ct(e.g))-i))),b:kt(ae(s+n*(ce(Ct(e.b))-s))),a:t.a+n*(e.a-t.a)}}function le(t,e,n){if(t){let r=qt(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=Wt(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function he(t,e){return t?Object.assign(e||{},t):t}function de(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=kt(t[3]))):(e=he(t,{r:0,g:0,b:0,a:1}),e.a=kt(e.a)),e}function fe(t){return"r"===t.charAt(0)?se(t):Qt(t)}class pe{constructor(t){if(t instanceof pe)return t;const e=typeof t;let n;"object"===e?n=de(t):"string"===e&&(n=Lt(t)||re(t)||fe(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=he(this._rgb);return t&&(t.a=Ct(t.a)),t}set rgb(t){this._rgb=de(t)}rgbString(){return this._valid?oe(this._rgb):void 0}hexString(){return this._valid?jt(this._rgb):void 0}hslString(){return this._valid?Xt(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let i;const s=e===i?.5:e,o=2*s-1,a=n.a-r.a,c=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;i=1-c,n.r=255&c*n.r+i*r.r+.5,n.g=255&c*n.g+i*r.g+.5,n.b=255&c*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=ue(this._rgb,t._rgb,e)),this}clone(){return new pe(this.rgb)}alpha(t){return this._rgb.a=kt(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Et(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return le(this._rgb,2,t),this}darken(t){return le(this._rgb,2,-t),this}saturate(t){return le(this._rgb,1,t),this}desaturate(t){return le(this._rgb,1,-t),this}rotate(t){return Jt(this._rgb,t),this}}function ge(t){return new pe(t)}function me(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function ye(t){return me(t)?t:ge(t)}function ve(t){return me(t)?t:ge(t).saturate(.5).darken(.1).hexString()}const be=Object.create(null),we=Object.create(null);function _e(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const e=n[r];t=t[e]||(t[e]=Object.create(null))}return t}function xe(t,e,n){return"string"===typeof e?b(_e(t,e),n):b(_e(t,""),e)}class Ie{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>ve(e.backgroundColor),this.hoverBorderColor=(t,e)=>ve(e.borderColor),this.hoverColor=(t,e)=>ve(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return xe(this,t,e)}get(t){return _e(this,t)}describe(t,e){return xe(we,t,e)}override(t,e){return xe(be,t,e)}route(t,e,n,r){const i=_e(this,t),s=_e(this,n),o="_"+e;Object.defineProperties(i,{[o]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=s[r];return a(t)?Object.assign({},e,t):l(t,e)},set(t){this[o]=t}}})}}var Ee=new Ie({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Te(t){return!t||s(t.size)||s(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Se(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function ke(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const c=n.length;let u,l,h,d,f;for(u=0;u<c;u++)if(d=n[u],void 0!==d&&null!==d&&!0!==o(d))a=Se(t,i,s,a,d);else if(o(d))for(l=0,h=d.length;l<h;l++)f=d[l],void 0===f||null===f||o(f)||(a=Se(t,i,s,a,f));t.restore();const p=s.length/2;if(p>n.length){for(u=0;u<p;u++)delete i[s[u]];s.splice(0,p)}return a}function Ce(t,e,n){const r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Ae(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Oe(t,e,n,r){De(t,e,n,r,null)}function De(t,e,n,r,i){let s,o,a,c,u,l;const h=e.pointStyle,d=e.rotation,f=e.radius;let p=(d||0)*M;if(h&&"object"===typeof h&&(s=h.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,r),t.rotate(p),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void t.restore();if(!(isNaN(f)||f<=0)){switch(t.beginPath(),h){default:i?t.ellipse(n,r,i/2,f,0,0,R):t.arc(n,r,f,0,R),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(p)*f,r-Math.cos(p)*f),p+=j,t.lineTo(n+Math.sin(p)*f,r-Math.cos(p)*f),p+=j,t.lineTo(n+Math.sin(p)*f,r-Math.cos(p)*f),t.closePath();break;case"rectRounded":u=.516*f,c=f-u,o=Math.cos(p+F)*c,a=Math.sin(p+F)*c,t.arc(n-o,r-a,u,p-D,p-L),t.arc(n+a,r-o,u,p-L,p),t.arc(n+o,r+a,u,p,p+L),t.arc(n-a,r+o,u,p+L,p+D),t.closePath();break;case"rect":if(!d){c=Math.SQRT1_2*f,l=i?i/2:c,t.rect(n-l,r-c,2*l,2*c);break}p+=F;case"rectRot":o=Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,r-a),t.lineTo(n+a,r-o),t.lineTo(n+o,r+a),t.lineTo(n-a,r+o),t.closePath();break;case"crossRot":p+=F;case"cross":o=Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"star":o=Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o),p+=F,o=Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"line":o=i?i/2:Math.cos(p)*f,a=Math.sin(p)*f,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(p)*f,r+Math.sin(p)*f);break}t.fill(),e.borderWidth>0&&t.stroke()}}function Re(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Pe(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ne(t){t.restore()}function Me(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else"after"===i!==!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Le(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Fe(t,e,n,r,i,a={}){const c=o(e)?e:[e],u=a.strokeWidth>0&&""!==a.strokeColor;let l,h;for(t.save(),t.font=i.string,je(t,a),l=0;l<c.length;++l)h=c[l],u&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),s(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(h,n,r,a.maxWidth)),t.fillText(h,n,r,a.maxWidth),Be(t,n,r,h,a),r+=i.lineHeight;t.restore()}function je(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),s(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Be(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,c=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,l=i.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,l),t.lineTo(a,l),t.stroke()}}function Ve(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,-L,D,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,D,L,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,L,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-L,!0),t.lineTo(n+o.topLeft,r)}const Ue=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),$e=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function ze(t,e){const n=(""+t).match(Ue);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const qe=t=>+t||0;function He(t,e){const n={},r=a(e),i=r?Object.keys(e):e,s=a(t)?r?n=>l(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of i)n[o]=qe(s(o));return n}function We(t){return He(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ge(t){return He(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ke(t){const e=We(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ye(t,e){t=t||{},e=e||Ee.font;let n=l(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let r=l(t.style,e.style);r&&!(""+r).match($e)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:l(t.family,e.family),lineHeight:ze(l(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:l(t.weight,e.weight),string:""};return i.string=Te(i),i}function Qe(t,e,n,r){let i,s,a,c=!0;for(i=0,s=t.length;i<s;++i)if(a=t[i],void 0!==a&&(void 0!==e&&"function"===typeof a&&(a=a(e),c=!1),void 0!==n&&o(a)&&(a=a[n%a.length],c=!1),void 0!==a))return r&&!c&&(r.cacheable=!1),a}function Je(t,e,n){const{min:r,max:i}=t,s=d(e,(i-r)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Xe(t,e){return Object.assign(Object.create(t),e)}function Ze(t,e=[""],n=t,r,i=(()=>t[0])){k(r)||(r=mn("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:r,_getTarget:i,override:i=>Ze([i,...t],e,n,r)};return new Proxy(s,{deleteProperty(e,n){return delete e[n],delete e._keys,delete t[0][n],!0},get(n,r){return sn(n,r,(()=>gn(r,e,t,n)))},getOwnPropertyDescriptor(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(t,e){return yn(t).includes(e)},ownKeys(t){return yn(t)},set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function tn(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:en(t,r),setContext:e=>tn(t,e,n,r),override:i=>tn(t.override(i),e,n,r)};return new Proxy(i,{deleteProperty(e,n){return delete e[n],delete t[n],!0},get(t,e,n){return sn(t,e,(()=>on(t,e,n)))},getOwnPropertyDescriptor(e,n){return e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(e,n){return Reflect.has(t,n)},ownKeys(){return Reflect.ownKeys(t)},set(e,n,r){return t[n]=r,delete e[n],!0}})}function en(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:C(n)?n:()=>n,isIndexable:C(r)?r:()=>r}}const nn=(t,e)=>t?t+S(e):e,rn=(t,e)=>a(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function sn(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function on(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=t;let c=r[e];return C(c)&&a.isScriptable(e)&&(c=an(e,c,t,n)),o(c)&&c.length&&(c=cn(e,c,t,a.isIndexable)),rn(e,c)&&(c=tn(c,i,s&&s[e],a)),c}function an(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(s,o||r),a.delete(t),rn(t,e)&&(e=dn(i._scopes,i,t,e)),e}function cn(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:c}=n;if(k(s.index)&&r(t))e=e[s.index%e.length];else if(a(e[0])){const n=e,r=i._scopes.filter((t=>t!==n));e=[];for(const a of n){const n=dn(r,i,t,a);e.push(tn(n,s,o&&o[t],c))}}return e}function un(t,e,n){return C(t)?t(e,n):t}const ln=(t,e)=>!0===t?e:"string"===typeof t?I(e,t):void 0;function hn(t,e,n,r,i){for(const s of e){const e=ln(n,s);if(e){t.add(e);const s=un(e._fallback,n,i);if(k(s)&&s!==n&&s!==r)return s}else if(!1===e&&k(r)&&n!==r)return null}return!1}function dn(t,e,n,r){const i=e._rootScopes,s=un(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let c=fn(a,o,n,s||n,r);return null!==c&&((!k(s)||s===n||(c=fn(a,o,s,c,r),null!==c))&&Ze(Array.from(a),[""],i,s,(()=>pn(e,n,r))))}function fn(t,e,n,r,i){while(n)n=hn(t,e,n,r,i);return n}function pn(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return o(i)&&a(n)?n:i}function gn(t,e,n,r){let i;for(const s of e)if(i=mn(nn(s,t),n),k(i))return rn(t,i)?dn(n,r,t,i):i}function mn(t,e){for(const n of e){if(!n)continue;const e=n[t];if(k(e))return e}}function yn(t){let e=t._keys;return e||(e=t._keys=vn(t._scopes)),e}function vn(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}function bn(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,c,u,l;for(a=0,c=r;a<c;++a)u=a+n,l=e[u],o[a]={r:i.parse(I(l,s),u)};return o}const wn=Number.EPSILON||1e-14,_n=(t,e)=>e<t.length&&!t[e].skip&&t[e],xn=t=>"x"===t?"y":"x";function In(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=J(s,i),c=J(o,s);let u=a/(a+c),l=c/(a+c);u=isNaN(u)?0:u,l=isNaN(l)?0:l;const h=r*u,d=r*l;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function En(t,e,n){const r=t.length;let i,s,o,a,c,u=_n(t,0);for(let l=0;l<r-1;++l)c=u,u=_n(t,l+1),c&&u&&(q(e[l],0,wn)?n[l]=n[l+1]=0:(i=n[l]/e[l],s=n[l+1]/e[l],a=Math.pow(i,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[l]=i*o*e[l],n[l+1]=s*o*e[l])))}function Tn(t,e,n="x"){const r=xn(n),i=t.length;let s,o,a,c=_n(t,0);for(let u=0;u<i;++u){if(o=a,a=c,c=_n(t,u+1),!a)continue;const i=a[n],l=a[r];o&&(s=(i-o[n])/3,a[`cp1${n}`]=i-s,a[`cp1${r}`]=l-s*e[u]),c&&(s=(c[n]-i)/3,a[`cp2${n}`]=i+s,a[`cp2${r}`]=l+s*e[u])}}function Sn(t,e="x"){const n=xn(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,c,u=_n(t,0);for(o=0;o<r;++o)if(a=c,c=u,u=_n(t,o+1),c){if(u){const t=u[e]-c[e];i[o]=0!==t?(u[n]-c[n])/t:0}s[o]=a?u?V(i[o-1])!==V(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}En(t,i,s),Tn(t,s,e)}function kn(t,e,n){return Math.max(Math.min(t,n),e)}function Cn(t,e){let n,r,i,s,o,a=Re(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Re(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=kn(i.cp1x,e.left,e.right),i.cp1y=kn(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=kn(i.cp2x,e.left,e.right),i.cp2y=kn(i.cp2y,e.top,e.bottom)))}function An(t,e,n,r,i){let s,o,a,c;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)Sn(t,i);else{let n=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],c=In(n,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,n=a}e.capBezierPoints&&Cn(t,n)}function On(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Dn(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Rn(t,e,n){let r;return"string"===typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}const Pn=t=>window.getComputedStyle(t,null);function Nn(t,e){return Pn(t).getPropertyValue(e)}const Mn=["top","right","bottom","left"];function Ln(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=Mn[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Fn=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function jn(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o,a,c=!1;if(Fn(i,s,t.target))o=i,a=s;else{const t=e.getBoundingClientRect();o=r.clientX-t.left,a=r.clientY-t.top,c=!0}return{x:o,y:a,box:c}}function Bn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Pn(n),s="border-box"===i.boxSizing,o=Ln(i,"padding"),a=Ln(i,"border","width"),{x:c,y:u,box:l}=jn(t,n),h=o.left+(l&&a.left),d=o.top+(l&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((c-h)/f*n.width/r),y:Math.round((u-d)/p*n.height/r)}}function Vn(t,e,n){let r,i;if(void 0===e||void 0===n){const s=Dn(t);if(s){const t=s.getBoundingClientRect(),o=Pn(s),a=Ln(o,"border","width"),c=Ln(o,"padding");e=t.width-c.width-a.width,n=t.height-c.height-a.height,r=Rn(o.maxWidth,s,"clientWidth"),i=Rn(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||N,maxHeight:i||N}}const Un=t=>Math.round(10*t)/10;function $n(t,e,n,r){const i=Pn(t),s=Ln(i,"margin"),o=Rn(i.maxWidth,t,"clientWidth")||N,a=Rn(i.maxHeight,t,"clientHeight")||N,c=Vn(t,e,n);let{width:u,height:l}=c;if("content-box"===i.boxSizing){const t=Ln(i,"border","width"),e=Ln(i,"padding");u-=e.width+t.width,l-=e.height+t.height}return u=Math.max(0,u-s.width),l=Math.max(0,r?Math.floor(u/r):l-s.height),u=Un(Math.min(u,o,c.maxWidth)),l=Un(Math.min(l,a,c.maxHeight)),u&&!l&&(l=Un(u/2)),{width:u,height:l}}function zn(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=i/r,t.width=s/r;const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s)&&(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0)}const qn=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return t}();function Hn(t,e){const n=Nn(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Wn(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Gn(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function Kn(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Wn(t,i,n),a=Wn(i,s,n),c=Wn(s,e,n),u=Wn(o,a,n),l=Wn(a,c,n);return Wn(u,l,n)}const Yn=new Map;function Qn(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Yn.get(n);return r||(r=new Intl.NumberFormat(t,e),Yn.set(n,r)),r}function Jn(t,e,n){return Qn(e,n).format(t)}const Xn=function(t,e){return{x(n){return t+t+e-n},setWidth(t){e=t},textAlign(t){return"center"===t?t:"right"===t?"left":"right"},xPlus(t,e){return t-e},leftForLtr(t,e){return t-e}}},Zn=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function tr(t,e,n){return t?Xn(e,n):Zn()}function er(t,e){let n,r;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function nr(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function rr(t){return"angle"===t?{between:tt,compare:X,normalize:Z}:{between:rt,compare:(t,e)=>t-e,normalize:t=>t}}function ir({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function sr(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=rr(r),c=e.length;let u,l,{start:h,end:d,loop:f}=t;if(f){for(h+=c,d+=c,u=0,l=c;u<l;++u){if(!o(a(e[h%c][r]),i,s))break;h--,d--}h%=c,d%=c}return d<h&&(d+=c),{start:h,end:d,loop:f,style:t.style}}function or(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:c,normalize:u}=rr(r),{start:l,end:h,loop:d,style:f}=sr(t,e,n),p=[];let g,m,y,v=!1,b=null;const w=()=>c(i,y,g)&&0!==a(i,y),_=()=>0===a(s,g)||c(s,y,g),x=()=>v||w(),I=()=>!v||_();for(let E=l,T=l;E<=h;++E)m=e[E%o],m.skip||(g=u(m[r]),g!==y&&(v=c(g,i,s),null===b&&x()&&(b=0===a(g,i)?E:T),null!==b&&I()&&(p.push(ir({start:b,end:E,loop:d,count:o,style:f})),b=null),T=E,y=g));return null!==b&&p.push(ir({start:b,end:h,loop:d,count:o,style:f})),p}function ar(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=or(r[i],t.points,e);s.length&&n.push(...s)}return n}function cr(t,e,n,r){let i=0,s=e-1;if(n&&!r)while(i<e&&!t[i].skip)i++;while(i<e&&t[i].skip)i++;i%=e,n&&(s+=i);while(s>i&&t[s%e].skip)s--;return s%=e,{start:i,end:s}}function ur(t,e,n,r){const i=t.length,s=[];let o,a=e,c=t[e];for(o=e+1;o<=n;++o){const n=t[o%i];n.skip||n.stop?c.skip||(r=!1,s.push({start:e%i,end:(o-1)%i,loop:r}),e=a=n.stop?o:null):(a=o,c.skip&&(e=o)),c=n}return null!==a&&s.push({start:e%i,end:a%i,loop:r}),s}function lr(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=cr(n,i,s,r);if(!0===r)return hr(t,[{start:o,end:a,loop:s}],n,e);const c=a<o?a+i:a,u=!!t._fullLoop&&0===o&&a===i-1;return hr(t,ur(n,o,c,u),n,e)}function hr(t,e,n,r){return r&&r.setContext&&n?dr(t,e,n,r):e}function dr(t,e,n,r){const i=t._chart.getContext(),s=fr(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,c=n.length,u=[];let l=s,h=e[0].start,d=h;function f(t,e,r,i){const s=a?-1:1;if(t!==e){t+=c;while(n[t%c].skip)t-=s;while(n[e%c].skip)e+=s;t%c!==e%c&&(u.push({start:t%c,end:e%c,loop:r,style:i}),l=i,h=e%c)}}for(const p of e){h=a?h:p.start;let t,e=n[h%c];for(d=h+1;d<=p.end;d++){const s=n[d%c];t=fr(r.setContext(Xe(i,{type:"segment",p0:e,p1:s,p0DataIndex:(d-1)%c,p1DataIndex:d%c,datasetIndex:o}))),pr(t,l)&&f(h,d-1,p.loop,l),e=s,l=t}h<d-1&&f(h,d-1,p.loop,l)}return u}function fr(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function pr(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}
/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */
class gr{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const i=e.listeners[r],s=e.duration;i.forEach((r=>r({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=dt.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,o=i.length-1,a=!1;for(;o>=0;--o)s=i[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,n,t,"progress")),i.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=i.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var mr=new gr;const yr="transparent",vr={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=ye(t||yr),i=r.valid&&ye(e||yr);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class br{constructor(t,e,n,r){const i=e[n];r=Qe([t.to,r,i,t.from]);const s=Qe([t.from,i,r]);this._active=!0,this._fn=t.fn||vr[t.type||typeof s],this._easing=It[t.easing]||It.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Qe([t.to,e,r,t.from]),this._from=Qe([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,o=this._to;let a;if(this._active=i!==o&&(s||e<n),!this._active)return this._target[r]=o,void this._notify(!0);e<0?this._target[r]=i:(a=e/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(i,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}const wr=["x","y","borderWidth","radius","tension"],_r=["color","borderColor","backgroundColor"];Ee.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const xr=Object.keys(Ee.animation);Ee.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),Ee.set("animations",{colors:{type:"color",properties:_r},numbers:{type:"number",properties:wr}}),Ee.describe("animations",{_fallback:"animation"}),Ee.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class Ir{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!a(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach((n=>{const r=t[n];if(!a(r))return;const i={};for(const t of xr)i[t]=r[t];(o(r.properties)&&r.properties||[n]).forEach((t=>{t!==n&&e.has(t)||e.set(t,i)}))}))}_animateOptions(t,e){const n=e.options,r=Tr(t,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&Er(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),i}_createAnimations(t,e){const n=this._properties,r=[],i=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const c=s[a];if("$"===c.charAt(0))continue;if("options"===c){r.push(...this._animateOptions(t,e));continue}const u=e[c];let l=i[c];const h=n.get(c);if(l){if(h&&l.active()){l.update(h,u,o);continue}l.cancel()}h&&h.duration?(i[c]=l=new br(h,t,c,u),r.push(l)):t[c]=u}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(mr.add(this._chart,n),!0):void 0}}function Er(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const e=t[r[i]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}function Tr(t,e){if(!e)return;let n=t.options;if(n)return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;t.options=e}function Sr(t,e){const n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:r?s:i,end:r?i:s}}function kr(t,e,n){if(!1===n)return!1;const r=Sr(t,n),i=Sr(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Cr(t){let e,n,r,i;return a(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}function Ar(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Or(t,e,n,r={}){const i=t.keys,s="single"===r.mode;let o,a,u,l;if(null!==e){for(o=0,a=i.length;o<a;++o){if(u=+i[o],u===n){if(r.all)continue;break}l=t.values[u],c(l)&&(s||0===e||V(e)===V(l))&&(e+=l)}return e}}function Dr(t){const e=Object.keys(t),n=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],n[r]={x:s,y:t[s]};return n}function Rr(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Pr(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Nr(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Mr(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Lr(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const e=t[i.index];if(n&&e>0||!n&&e<0)return i.index}return null}function Fr(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,c=s.axis,u=o.axis,l=Pr(s,o,r),h=e.length;let d;for(let f=0;f<h;++f){const t=e[f],{[c]:n,[u]:s}=t,h=t._stacks||(t._stacks={});d=h[u]=Mr(i,l,n),d[a]=s,d._top=Lr(d,o,!0,r.type),d._bottom=Lr(d,o,!1,r.type)}}function jr(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Br(t,e){return Xe(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Vr(t,e,n){return Xe(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ur(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[r]||void 0===e[r][n])return;delete e[r][n]}}}const $r=t=>"reset"===t||"none"===t,zr=(t,e)=>e?t:Object.assign({},t),qr=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Ar(n,!0),values:null};class Hr{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Rr(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Ur(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),r=(t,e,n,r)=>"x"===t?e:"r"===t?r:n,i=e.xAxisID=l(n.xAxisID,jr(t,"x")),s=e.yAxisID=l(n.yAxisID,jr(t,"y")),o=e.rAxisID=l(n.rAxisID,jr(t,"r")),a=e.indexAxis,c=e.iAxisID=r(a,i,s,o),u=e.vAxisID=r(a,s,i,o);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&lt(this._data,this),t._stacked&&Ur(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(a(e))this._data=Dr(e);else if(n!==e){if(n){lt(n,this);const t=this._cachedMeta;Ur(t),t._parsed=[]}e&&Object.isExtensible(e)&&ut(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=e._stacked;e._stacked=Rr(e.vScale,e),e.stack!==n.stack&&(r=!0,Ur(e),e.stack=n.stack),this._resyncElements(t),(r||i!==e._stacked)&&Fr(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,c=i.axis;let u,l,h,d=0===t&&e===r.length||n._sorted,f=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,h=r;else{h=o(r[t])?this.parseArrayData(n,r,t,e):a(r[t])?this.parseObjectData(n,r,t,e):this.parsePrimitiveData(n,r,t,e);const i=()=>null===l[c]||f&&l[c]<f[c];for(u=0;u<e;++u)n._parsed[u+t]=l=h[u],d&&(i()&&(d=!1),f=l);n._sorted=d}s&&Fr(this,h)}parsePrimitiveData(t,e,n,r){const{iScale:i,vScale:s}=t,o=i.axis,a=s.axis,c=i.getLabels(),u=i===s,l=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,l[h]={[o]:u||i.parse(c[f],f),[a]:s.parse(e[f],f)};return l}parseArrayData(t,e,n,r){const{xScale:i,yScale:s}=t,o=new Array(r);let a,c,u,l;for(a=0,c=r;a<c;++a)u=a+n,l=e[u],o[a]={x:i.parse(l[0],u),y:s.parse(l[1],u)};return o}parseObjectData(t,e,n,r){const{xScale:i,yScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,c=new Array(r);let u,l,h,d;for(u=0,l=r;u<l;++u)h=u+n,d=e[h],c[u]={x:i.parse(I(d,o),h),y:s.parse(I(d,a),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this.chart,i=this._cachedMeta,s=e[t.axis],o={keys:Ar(r,!0),values:e._stacks[t.axis]};return Or(o,s,i.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const i=n[e.axis];let s=null===i?NaN:i;const o=r&&n._stacks[e.axis];r&&o&&(r.values=o,s=Or(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&t===n.iScale,s=r.length,o=this._getOtherScale(t),a=qr(e,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:l,max:h}=Nr(o);let d,f;function p(){f=r[d];const e=f[o.axis];return!c(f[t.axis])||l>e||h<e}for(d=0;d<s;++d)if(!p()&&(this.updateRangeFromParsed(u,t,f,a),i))break;if(i)for(d=s-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(u,t,f,a);break}return u}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r][t.axis],c(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Cr(l(this.options.clip,kr(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,r=n.data||[],i=e.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||r.length-o,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,i,o,a),u=o;u<o+a;++u){const e=r[u];e.hidden||(e.active&&c?s.push(e):e.draw(t,i))}for(u=0;u<s.length;++u)s[u].draw(t,i)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];i=e.$context||(e.$context=Vr(this.getContext(),t,e)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=Br(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const r="active"===e,i=this._cachedDataOpts,s=t+"-"+e,o=i[s],a=this.enableOptionSharing&&k(n);if(o)return zr(o,a);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),l=r?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),u),d=Object.keys(Ee.elements[t]),f=()=>this.getContext(n,r),p=c.resolveNamedOptions(h,d,f,l);return p.$shared&&(p.$shared=a,i[s]=Object.freeze(zr(p,a))),p}_resolveAnimations(t,e,n){const r=this.chart,i=this._cachedDataOpts,s=`animation-${e}`,o=i[s];if(o)return o;let a;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,e),s=r.getOptionScopes(this.getDataset(),i);a=r.createResolver(s,this.getContext(t,n,e))}const c=new Ir(r,a&&a.animations);return a&&a._cacheable&&(i[s]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||$r(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(e,i)||i!==r;return this.updateSharedOptions(i,e,n),{sharedOptions:i,includeOptions:s}}updateElement(t,e,n,r){$r(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!$r(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,c]of this._syncList)this[o](a,c);this._syncList=[];const r=n.length,i=e.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,e,n=!0){const r=this._cachedMeta,i=r.data,s=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=s;o--)t[o]=t[o-e]};for(a(i),o=t;o<s;++o)i[o]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,e);n._stacked&&Ur(n,r)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Wr(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let e=0,i=n.length;e<i;e++)r=r.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=ht(r.sort(((t,e)=>t-e)))}return t._cache.$bar}function Gr(t){const e=t.iScale,n=Wr(e,t.type);let r,i,s,o,a=e._length;const c=()=>{32767!==s&&-32768!==s&&(k(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(r=0,i=n.length;r<i;++r)s=e.getPixelForValue(n[r]),c();for(o=void 0,r=0,i=e.ticks.length;r<i;++r)s=e.getPixelForTick(r),c();return a}function Kr(t,e,n,r){const i=n.barThickness;let o,a;return s(i)?(o=e.min*n.categoryPercentage,a=n.barPercentage):(o=i*r,a=1),{chunk:o/r,ratio:a,start:e.pixels[t]-o/2}}function Yr(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const u=s-(s-Math.min(o,a))/2*c,l=Math.abs(a-o)/2*c;return{chunk:l/r,ratio:n.barPercentage,start:u}}function Qr(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let c=o,u=a;Math.abs(o)>Math.abs(a)&&(c=a,u=o),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:i,end:s,min:o,max:a}}function Jr(t,e,n,r){return o(t)?Qr(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Xr(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,c=[];let u,l,h,d;for(u=n,l=n+r;u<l;++u)d=e[u],h={},h[i.axis]=a||i.parse(o[u],u),c.push(Jr(d,h,s,u));return c}function Zr(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function ti(t,e,n){return 0!==t?V(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function ei(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function ni(t,e,n,r){let i=e.borderSkipped;const s={};if(!i)return void(t.borderSkipped=s);if(!0===i)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:c,top:u,bottom:l}=ei(t);"middle"===i&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=u:(n._bottom||0)===r?i=l:(s[ri(l,o,a,c)]=!0,i=u)),s[ri(i,o,a,c)]=!0,t.borderSkipped=s}function ri(t,e,n,r){return r?(t=ii(t,e,n),t=si(t,n,e)):t=si(t,e,n),t}function ii(t,e,n){return t===e?n:t===n?e:t}function si(t,e,n){return"start"===t?e:"end"===t?n:t}function oi(t,{inflateAmount:e},n){t.inflateAmount="auto"===e?1===n?.33:0:e}Hr.defaults={},Hr.prototype.datasetElementType=null,Hr.prototype.dataElementType=null;class ai extends Hr{parsePrimitiveData(t,e,n,r){return Xr(t,e,n,r)}parseArrayData(t,e,n,r){return Xr(t,e,n,r)}parseObjectData(t,e,n,r){const{iScale:i,vScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,c="x"===i.axis?o:a,u="x"===s.axis?o:a,l=[];let h,d,f,p;for(h=n,d=n+r;h<d;++h)p=e[h],f={},f[i.axis]=i.parse(I(p,c),h),l.push(Jr(I(p,u),f,s,h));return l}updateRangeFromParsed(t,e,n,r){super.updateRangeFromParsed(t,e,n,r);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:r}=e,i=this.getParsed(t),s=i._custom,o=Zr(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,r){const i="reset"===r,{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),u=a.isHorizontal(),l=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(e,r);for(let f=e;f<e+n;f++){const e=this.getParsed(f),n=i||s(e[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),p=this._calculateBarIndexPixels(f,l),g=(e._stacks||{})[a.axis],m={horizontal:u,base:n.base,enableBorderRadius:!g||Zr(e._custom)||o===g._top||o===g._bottom,x:u?n.head:p.center,y:u?p.center:n.head,height:u?p.size:Math.abs(n.size),width:u?Math.abs(n.size):p.size};d&&(m.options=h||this.resolveDataElementOptions(f,t[f].active?"active":r));const y=m.options||t[f].options;ni(m,y,g,o),oi(m,y,l.ratio),this.updateElement(t[f],f,m,r)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),i=n.options.stacked,o=[],a=t=>{const n=t.controller.getParsed(e),r=n&&n[t.vScale.axis];if(s(r)||isNaN(r))return!0};for(const s of r)if((void 0===e||!a(s))&&((!1===i||-1===o.indexOf(s.stack)||void 0===i&&void 0===s.stack)&&o.push(s.stack),s.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const r=this._getStacks(t,n),i=void 0!==e?r.indexOf(e):-1;return-1===i?r.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,r=[];let i,s;for(i=0,s=e.data.length;i<s;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const o=t.barThickness,a=o||Gr(e);return{min:a,pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n},options:{base:r,minBarLength:i}}=this,o=r||0,a=this.getParsed(t),c=a._custom,u=Zr(c);let l,h,d=a[e.axis],f=0,p=n?this.applyStack(e,a,n):d;p!==d&&(f=p-d,p=d),u&&(d=c.barStart,p=c.barEnd-c.barStart,0!==d&&V(d)!==V(c.barEnd)&&(f=0),f+=d);const g=s(r)||u?f:r;let m=e.getPixelForValue(g);if(l=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):m,h=l-m,Math.abs(h)<i){h=ti(h,e,o)*i,d===o&&(m-=h/2);const t=e.getPixelForDecimal(0),n=e.getPixelForDecimal(1),r=Math.min(t,n),s=Math.max(t,n);m=Math.max(Math.min(m,s),r),l=m+h}if(m===e.getPixelForValue(o)){const t=V(h)*e.getLineWidthForValue(o)/2;m+=t,h-=t}return{size:h,base:m,head:l,center:l+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,r=this.options,i=r.skipNull,s=l(r.maxBarThickness,1/0);let o,a;if(e.grouped){const n=i?this._getStackCount(t):e.stackCount,c="flex"===r.barThickness?Yr(t,e,r,n):Kr(t,e,r,n),u=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);o=c.start+c.chunk*u+c.chunk/2,a=Math.min(s,c.chunk*c.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(s,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,r=n.length;let i=0;for(;i<r;++i)null!==this.getParsed(i)[e.axis]&&n[i].draw(this._ctx)}}ai.id="bar",ai.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},ai.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class ci extends Hr{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,r){const i=super.parsePrimitiveData(t,e,n,r);for(let s=0;s<i.length;s++)i[s]._custom=this.resolveDataElementOptions(s+n).radius;return i}parseArrayData(t,e,n,r){const i=super.parseArrayData(t,e,n,r);for(let s=0;s<i.length;s++){const t=e[n+s];i[s]._custom=l(t[2],this.resolveDataElementOptions(s+n).radius)}return i}parseObjectData(t,e,n,r){const i=super.parseObjectData(t,e,n,r);for(let s=0;s<i.length;s++){const t=e[n+s];i[s]._custom=l(t&&t.r&&+t.r,this.resolveDataElementOptions(s+n).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,{xScale:n,yScale:r}=e,i=this.getParsed(t),s=n.getLabelForValue(i.x),o=r.getLabelForValue(i.y),a=i._custom;return{label:e.label,value:"("+s+", "+o+(a?", "+a:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:c}=this._getSharedOptions(e,r),u=s.axis,l=o.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!i&&this.getParsed(h),d={},f=d[u]=i?s.getPixelForDecimal(.5):s.getPixelForValue(n[u]),p=d[l]=i?o.getBasePixel():o.getPixelForValue(n[l]);d.skip=isNaN(f)||isNaN(p),c&&(d.options=a||this.resolveDataElementOptions(h,e.active?"active":r),i&&(d.options.radius=0)),this.updateElement(e,h,d,r)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==e&&(r.radius=0),r.radius+=l(n&&n._custom,i),r}}function ui(t,e,n){let r=1,i=1,s=0,o=0;if(e<R){const a=t,c=a+e,u=Math.cos(a),l=Math.sin(a),h=Math.cos(c),d=Math.sin(c),f=(t,e,r)=>tt(t,a,c,!0)?1:Math.max(e,e*n,r,r*n),p=(t,e,r)=>tt(t,a,c,!0)?-1:Math.min(e,e*n,r,r*n),g=f(0,u,h),m=f(L,l,d),y=p(D,u,h),v=p(D+L,l,d);r=(g-y)/2,i=(m-v)/2,s=-(g+y)/2,o=-(m+v)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}ci.id="bubble",ci.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},ci.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};class li extends Hr{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,s,o=t=>+n[t];if(a(n[t])){const{key:t="value"}=this._parsing;o=e=>+I(n[e],t)}for(i=t,s=t+e;i<s;++i)r._parsed[i]=o(i)}}_getRotation(){return G(this.options.rotation-90)}_getCircumference(){return G(this.options.circumference)}_getRotationExtents(){let t=R,e=-R;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),s=r._getCircumference();t=Math.min(t,i),e=Math.max(e,i+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min(h(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:l}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=ui(l,u,a),y=(n.width-s)/f,v=(n.height-s)/p,b=Math.max(Math.min(y,v)/2,0),w=d(this.options.radius,b),_=Math.max(w*a,0),x=(w-_)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,r.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*c,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/R)}updateElements(t,e,n,r){const i="reset"===r,s=this.chart,o=s.chartArea,a=s.options,c=a.animation,u=(o.left+o.right)/2,l=(o.top+o.bottom)/2,h=i&&c.animateScale,d=h?0:this.innerRadius,f=h?0:this.outerRadius,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(e,r);let m,y=this._getRotation();for(m=0;m<e;++m)y+=this._circumference(m,i);for(m=e;m<e+n;++m){const e=this._circumference(m,i),n=t[m],s={x:u+this.offsetX,y:l+this.offsetY,startAngle:y,endAngle:y+e,circumference:e,outerRadius:f,innerRadius:d};g&&(s.options=p||this.resolveDataElementOptions(m,n.active?"active":r)),y+=e,this.updateElement(n,m,s,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,r=0;for(n=0;n<e.length;n++){const i=t._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||e[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?R*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Jn(e._parsed[t],n.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let e=0;const n=this.chart;let r,i,s,o,a;if(!t)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),t=s.data,o=s.controller;break}if(!t)return 0;for(r=0,i=t.length;r<i;++r)a=o.resolveDataElementOptions(r),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,r=t.length;n<r;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(l(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}li.id="doughnut",li.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},li.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},li.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map(((e,r)=>{const i=t.getDatasetMeta(0),s=i.controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return o(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class hi extends Hr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=e,s=this.chart._animationsDisabled;let{start:o,count:a}=vt(e,r,s);this._drawStart=o,this._drawCount=a,bt(e)&&(o=0,a=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:c},t),this.updateElements(r,o,a,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:l,includeOptions:h}=this._getSharedOptions(e,r),d=o.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,m=z(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||"none"===r;let v=e>0&&this.getParsed(e-1);for(let b=e;b<e+n;++b){const e=t[b],n=this.getParsed(b),p=y?e:{},w=s(n[f]),_=p[d]=o.getPixelForValue(n[d],b),x=p[f]=i||w?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,n,c):n[f],b);p.skip=isNaN(_)||isNaN(x)||w,p.stop=b>0&&Math.abs(n[d]-v[d])>m,g&&(p.parsed=n,p.raw=u.data[b]),h&&(p.options=l||this.resolveDataElementOptions(b,e.active?"active":r)),y||this.updateElement(e,b,p,r),v=n}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}hi.id="line",hi.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},hi.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class di extends Hr{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Jn(e._parsed[t].r,n.options.locale);return{label:r[t]||"",value:i}}parseObjectData(t,e,n,r){return bn.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),i=Math.max(r/2,0),s=Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0),o=(i-s)/t.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,n,r){const i="reset"===r,s=this.chart,o=s.options,a=o.animation,c=this._cachedMeta.rScale,u=c.xCenter,l=c.yCenter,h=c.getIndexAngle(0)-.5*D;let d,f=h;const p=360/this.countVisibleElements();for(d=0;d<e;++d)f+=this._computeAngle(d,r,p);for(d=e;d<e+n;d++){const e=t[d];let n=f,o=f+this._computeAngle(d,r,p),g=s.getDataVisibility(d)?c.getDistanceFromCenterForValue(this.getParsed(d).r):0;f=o,i&&(a.animateScale&&(g=0),a.animateRotate&&(n=o=h));const m={x:u,y:l,innerRadius:0,outerRadius:g,startAngle:n,endAngle:o,options:this.resolveDataElementOptions(d,e.active?"active":r)};this.updateElement(e,d,m,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?G(this.resolveDataElementOptions(t,e).angle||n):0}}di.id="polarArea",di.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},di.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map(((e,r)=>{const i=t.getDatasetMeta(0),s=i.controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class fi extends li{}fi.id="pie",fi.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class pi extends Hr{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,r){return bn.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta,n=e.dataset,r=e.data||[],i=e.iScale.getLabels();if(n.points=r,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const s={_loop:!0,_fullLoop:i.length===r.length,options:e};this.updateElement(n,void 0,s,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,n,r){const i=this._cachedMeta.rScale,s="reset"===r;for(let o=e;o<e+n;o++){const e=t[o],n=this.resolveDataElementOptions(o,e.active?"active":r),a=i.getPointPositionForValue(o,this.getParsed(o).r),c=s?i.xCenter:a.x,u=s?i.yCenter:a.y,l={x:c,y:u,angle:a.angle,skip:isNaN(c)||isNaN(u),options:n};this.updateElement(e,o,l,r)}}}pi.id="radar",pi.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},pi.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class gi{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return z(this.x)&&z(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach((t=>{r[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),r}}gi.defaults={},gi.defaultRoutes=void 0;const mi={values(t){return o(t)?t:""+t},numeric(t,e,n){if(0===t)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(i="scientific"),s=yi(t,n)}const o=B(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Jn(t,r,c)},logarithmic(t,e,n){if(0===t)return"0";const r=t/Math.pow(10,Math.floor(B(t)));return 1===r||2===r||5===r?mi.numeric.call(this,t,e,n):""}};function yi(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var vi={formatters:mi};function bi(t,e){const n=t.options.ticks,r=n.maxTicksLimit||wi(t),i=n.major.enabled?xi(e):[],o=i.length,a=i[0],c=i[o-1],u=[];if(o>r)return Ii(e,u,i,o/r),u;const l=_i(i,e,r);if(o>0){let t,n;const r=o>1?Math.round((c-a)/(o-1)):null;for(Ei(e,u,l,s(r)?0:a-r,a),t=0,n=o-1;t<n;t++)Ei(e,u,l,i[t],i[t+1]);return Ei(e,u,l,c,s(r)?e.length:c+r),u}return Ei(e,u,l),u}function wi(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function _i(t,e,n){const r=Ti(t),i=e.length/n;if(!r)return Math.max(i,1);const s=$(r);for(let o=0,a=s.length-1;o<a;o++){const t=s[o];if(t>i)return t}return Math.max(i,1)}function xi(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Ii(t,e,n,r){let i,s=0,o=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===o&&(e.push(t[i]),s++,o=n[s*r])}function Ei(t,e,n,r,i){const s=l(r,0),o=Math.min(l(i,t.length),t.length);let a,c,u,h=0;n=Math.ceil(n),i&&(a=i-r,n=a/Math.floor(a/n)),u=s;while(u<0)h++,u=Math.round(s+h*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),h++,u=Math.round(s+h*n))}function Ti(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}Ee.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:vi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Ee.route("scale.ticks","color","","color"),Ee.route("scale.grid","color","","borderColor"),Ee.route("scale.grid","borderColor","","borderColor"),Ee.route("scale.title","color","","color"),Ee.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),Ee.describe("scales",{_fallback:"scale"}),Ee.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});const Si=t=>"left"===t?"right":"right"===t?"left":t,ki=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n;function Ci(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function Ai(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let c,u=t.getPixelForTick(i);if(!(n&&(c=1===r?Math.max(u-s,o-u):0===e?(t.getPixelForTick(1)-u)/2:(u-t.getPixelForTick(i-1))/2,u+=i<e?c:-c,u<s-a||u>o+a)))return u}function Oi(t,e){p(t,(t=>{const n=t.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}}))}function Di(t){return t.drawTicks?t.tickLength:0}function Ri(t,e){if(!t.display)return 0;const n=Ye(t.font,e),r=Ke(t.padding),i=o(t.text)?t.text.length:1;return i*n.lineHeight+r.height}function Pi(t,e){return Xe(t,{scale:e,type:"scale"})}function Ni(t,e,n){return Xe(t,{tick:n,index:e,type:"tick"})}function Mi(t,e,n){let r=gt(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=Si(r)),r}function Li(t,e,n,r){const{top:i,left:s,bottom:o,right:c,chart:u}=t,{chartArea:l,scales:h}=u;let d,f,p,g=0;const m=o-i,y=c-s;if(t.isHorizontal()){if(f=mt(r,s,c),a(n)){const t=Object.keys(n)[0],r=n[t];p=h[t].getPixelForValue(r)+m-e}else p="center"===n?(l.bottom+l.top)/2+m-e:ki(t,n,e);d=c-s}else{if(a(n)){const t=Object.keys(n)[0],r=n[t];f=h[t].getPixelForValue(r)-y+e}else f="center"===n?(l.left+l.right)/2-y+e:ki(t,n,e);p=mt(r,o,i),g="left"===n?-L:L}return{titleX:f,titleY:p,maxWidth:d,rotation:g}}class Fi extends gi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=u(t,Number.POSITIVE_INFINITY),e=u(e,Number.NEGATIVE_INFINITY),n=u(n,Number.POSITIVE_INFINITY),r=u(r,Number.NEGATIVE_INFINITY),{min:u(t,n),max:u(e,r),minDefined:c(t),maxDefined:c(e)}}getMinMax(t){let e,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let a=0,c=o.length;a<c;++a)e=o[a].controller.getMinMax(this,t),i||(n=Math.min(n,e.min)),s||(r=Math.max(r,e.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:u(n,u(r,n)),max:u(r,u(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){f(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Je(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?Ci(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=bi(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){f(this.options.afterUpdate,[this])}beforeSetDimensions(){f(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){f(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),f(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){f(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n],i.label=f(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){f(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){f(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=this.ticks.length,r=e.minRotation||0,i=e.maxRotation;let s,o,a,c=r;if(!this._isVisible()||!e.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const u=this._getLabelSizes(),l=u.widest.width,h=u.highest.height,d=et(this.chart.width-l,0,this.maxWidth);s=t.offset?this.maxWidth/n:d/(n-1),l+6>s&&(s=d/(n-(t.offset?.5:1)),o=this.maxHeight-Di(t.grid)-e.padding-Ri(t.title,this.chart.options.font),a=Math.sqrt(l*l+h*h),c=K(Math.min(Math.asin(et((u.highest.height+6)/s,-1,1)),Math.asin(et(o/a,-1,1))-Math.asin(et(h/a,-1,1)))),c=Math.max(r,Math.min(i,c))),this.labelRotation=c}afterCalculateLabelRotation(){f(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){f(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=Ri(r,e.options.font);if(o?(t.width=this.maxWidth,t.height=Di(i)+s):(t.height=this.maxHeight,t.width=Di(i)+s),n.display&&this.ticks.length){const{first:e,last:r,widest:i,highest:s}=this._getLabelSizes(),a=2*n.padding,c=G(this.labelRotation),u=Math.cos(c),l=Math.sin(c);if(o){const e=n.mirror?0:l*i.width+u*s.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:u*i.width+l*s.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,r,l,u)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:i,padding:s},position:o}=this.options,a=0!==this.labelRotation,c="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let l=0,h=0;a?c?(l=r*t.width,h=n*e.height):(l=n*t.height,h=r*e.width):"start"===i?h=e.width:"end"===i?l=t.width:"inner"!==i&&(l=t.width/2,h=e.width/2),this.paddingLeft=Math.max((l-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-u+s)*this.width/(this.width-u),0)}else{let n=e.height/2,r=t.height/2;"start"===i?(n=0,r=t.height):"end"===i&&(n=e.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){f(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)s(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Ci(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length)}return t}_computeLabelSizes(t,e){const{ctx:n,_longestTextCache:r}=this,i=[],a=[];let c,u,l,h,d,f,p,g,m,y,v,b=0,w=0;for(c=0;c<e;++c){if(h=t[c].label,d=this._resolveTickFontOptions(c),n.font=f=d.string,p=r[f]=r[f]||{data:{},gc:[]},g=d.lineHeight,m=y=0,s(h)||o(h)){if(o(h))for(u=0,l=h.length;u<l;++u)v=h[u],s(v)||o(v)||(m=Se(n,p.data,p.gc,m,v),y+=g)}else m=Se(n,p.data,p.gc,m,h),y=g;i.push(m),a.push(y),b=Math.max(m,b),w=Math.max(y,w)}Oi(r,e);const _=i.indexOf(b),x=a.indexOf(w),I=t=>({width:i[t]||0,height:a[t]||0});return{first:I(0),last:I(e-1),widest:I(_),highest:I(x),widths:i,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return nt(this._alignToPixels?Ce(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=Ni(this.getContext(),t,n))}return this.$context||(this.$context=Pi(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=G(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),i=this._getLabelSizes(),s=t.autoSkipPadding||0,o=i?i.widest.width+s:0,a=i?i.highest.height+s:0;return this.isHorizontal()?a*n>o*r?o/n:a/r:a*r<o*n?a/n:o/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:i,position:s}=r,o=i.offset,c=this.isHorizontal(),u=this.ticks,h=u.length+(o?1:0),d=Di(i),f=[],p=i.setContext(this.getContext()),g=p.drawBorder?p.borderWidth:0,m=g/2,y=function(t){return Ce(n,t,g)};let v,b,w,_,x,I,E,T,S,k,C,A;if("top"===s)v=y(this.bottom),I=this.bottom-d,T=v-m,k=y(t.top)+m,A=t.bottom;else if("bottom"===s)v=y(this.top),k=t.top,A=y(t.bottom)-m,I=v+m,T=this.top+d;else if("left"===s)v=y(this.right),x=this.right-d,E=v-m,S=y(t.left)+m,C=t.right;else if("right"===s)v=y(this.left),S=t.left,C=y(t.right)-m,x=v+m,E=this.left+d;else if("x"===e){if("center"===s)v=y((t.top+t.bottom)/2+.5);else if(a(s)){const t=Object.keys(s)[0],e=s[t];v=y(this.chart.scales[t].getPixelForValue(e))}k=t.top,A=t.bottom,I=v+m,T=I+d}else if("y"===e){if("center"===s)v=y((t.left+t.right)/2);else if(a(s)){const t=Object.keys(s)[0],e=s[t];v=y(this.chart.scales[t].getPixelForValue(e))}x=v-m,E=x-d,S=t.left,C=t.right}const O=l(r.ticks.maxTicksLimit,h),D=Math.max(1,Math.ceil(h/O));for(b=0;b<h;b+=D){const t=i.setContext(this.getContext(b)),e=t.lineWidth,r=t.color,s=t.borderDash||[],a=t.borderDashOffset,u=t.tickWidth,l=t.tickColor,h=t.tickBorderDash||[],d=t.tickBorderDashOffset;w=Ai(this,b,o),void 0!==w&&(_=Ce(n,w,e),c?x=E=S=C=_:I=T=k=A=_,f.push({tx1:x,ty1:I,tx2:E,ty2:T,x1:S,y1:k,x2:C,y2:A,width:e,color:r,borderDash:s,borderDashOffset:a,tickWidth:u,tickColor:l,tickBorderDash:h,tickBorderDashOffset:d}))}return this._ticksLength=h,this._borderValue=v,f}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:l,padding:h,mirror:d}=i,f=Di(n.grid),p=f+h,g=d?-h:p,m=-G(this.labelRotation),y=[];let v,b,w,_,x,I,E,T,S,k,C,A,O="middle";if("top"===r)I=this.bottom-g,E=this._getXAxisLabelAlignment();else if("bottom"===r)I=this.top+g,E=this._getXAxisLabelAlignment();else if("left"===r){const t=this._getYAxisLabelAlignment(f);E=t.textAlign,x=t.x}else if("right"===r){const t=this._getYAxisLabelAlignment(f);E=t.textAlign,x=t.x}else if("x"===e){if("center"===r)I=(t.top+t.bottom)/2+p;else if(a(r)){const t=Object.keys(r)[0],e=r[t];I=this.chart.scales[t].getPixelForValue(e)+p}E=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)x=(t.left+t.right)/2-p;else if(a(r)){const t=Object.keys(r)[0],e=r[t];x=this.chart.scales[t].getPixelForValue(e)}E=this._getYAxisLabelAlignment(f).textAlign}"y"===e&&("start"===u?O="top":"end"===u&&(O="bottom"));const D=this._getLabelSizes();for(v=0,b=c.length;v<b;++v){w=c[v],_=w.label;const t=i.setContext(this.getContext(v));T=this.getPixelForTick(v)+i.labelOffset,S=this._resolveTickFontOptions(v),k=S.lineHeight,C=o(_)?_.length:1;const e=C/2,n=t.color,a=t.textStrokeColor,u=t.textStrokeWidth;let h,f=E;if(s?(x=T,"inner"===E&&(f=v===b-1?this.options.reverse?"left":"right":0===v?this.options.reverse?"right":"left":"center"),A="top"===r?"near"===l||0!==m?-C*k+k/2:"center"===l?-D.highest.height/2-e*k+k:-D.highest.height+k/2:"near"===l||0!==m?k/2:"center"===l?D.highest.height/2-e*k:D.highest.height-C*k,d&&(A*=-1)):(I=T,A=(1-C)*k/2),t.showLabelBackdrop){const e=Ke(t.backdropPadding),n=D.heights[v],r=D.widths[v];let i=I+A-e.top,s=x-e.left;switch(O){case"middle":i-=n/2;break;case"bottom":i-=n;break}switch(E){case"center":s-=r/2;break;case"right":s-=r;break}h={left:s,top:i,width:r+e.width,height:n+e.height,color:t.backdropColor}}y.push({rotation:m,label:_,font:S,color:n,strokeColor:a,strokeWidth:u,textOffset:A,textAlign:f,textBaseline:O,translation:[x,I],backdrop:h})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options,n=-G(this.labelRotation);if(n)return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=this._getLabelSizes(),o=t+i,a=s.widest.width;let c,u;return"left"===e?r?(u=this.right+i,"near"===n?c="left":"center"===n?(c="center",u+=a/2):(c="right",u+=a)):(u=this.right-o,"near"===n?c="right":"center"===n?(c="center",u-=a/2):(c="left",u=this.left)):"right"===e?r?(u=this.left+i,"near"===n?c="right":"center"===n?(c="center",u-=a/2):(c="left",u-=a)):(u=this.left+o,"near"===n?c="left":"center"===n?(c="center",u+=a/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:i,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks,r=n.findIndex((e=>e.value===t));if(r>=0){const t=e.setContext(this.getContext(r));return t.lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,s;const o=(t,e,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(i=0,s=r.length;i<s;++i){const t=r[i];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:n}}=this,r=n.setContext(this.getContext()),i=n.drawBorder?r.borderWidth:0;if(!i)return;const s=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let a,c,u,l;this.isHorizontal()?(a=Ce(t,this.left,i)-i/2,c=Ce(t,this.right,s)+s/2,u=l=o):(u=Ce(t,this.top,i)-i/2,l=Ce(t,this.bottom,s)+s/2,a=c=o),e.save(),e.lineWidth=r.borderWidth,e.strokeStyle=r.borderColor,e.beginPath(),e.moveTo(a,u),e.lineTo(c,l),e.stroke(),e.restore()}drawLabels(t){const e=this.options.ticks;if(!e.display)return;const n=this.ctx,r=this._computeLabelArea();r&&Pe(n,r);const i=this._labelItems||(this._labelItems=this._computeLabelItems(t));let s,o;for(s=0,o=i.length;s<o;++s){const t=i[s],e=t.font,r=t.label;t.backdrop&&(n.fillStyle=t.backdrop.color,n.fillRect(t.backdrop.left,t.backdrop.top,t.backdrop.width,t.backdrop.height));let o=t.textOffset;Fe(n,r,0,o,e,t)}r&&Ne(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const i=Ye(n.font),s=Ke(n.padding),c=n.align;let u=i.lineHeight/2;"bottom"===e||"center"===e||a(e)?(u+=s.bottom,o(n.text)&&(u+=i.lineHeight*(n.text.length-1))):u+=s.top;const{titleX:l,titleY:h,maxWidth:d,rotation:f}=Li(this,u,e,c);Fe(t,n.text,0,0,i,{color:n.color,maxWidth:d,rotation:f,textAlign:Mi(c,e,r),textBaseline:"middle",translation:[l,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=l(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===Fi.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=e.length;i<s;++i){const s=e[i];s[n]!==this.id||t&&s.type!==t||r.push(s)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ye(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ji{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;Ui(e)&&(n=this.register(e));const r=this.items,i=t.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,Bi(t,s,n),this.override&&Ee.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in Ee[r]&&(delete Ee[r][n],this.override&&delete be[n])}}function Bi(t,e,n){const r=b(Object.create(null),[n?Ee.get(n):{},Ee.get(e),t.defaults]);Ee.set(e,r),t.defaultRoutes&&Vi(e,t.defaultRoutes),t.descriptors&&Ee.describe(e,t.descriptors)}function Vi(t,e){Object.keys(e).forEach((n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");Ee.route(s,i,c,a)}))}function Ui(t){return"id"in t&&"defaults"in t}class $i{constructor(){this.controllers=new ji(Hr,"datasets",!0),this.elements=new ji(gi,"elements"),this.plugins=new ji(Object,"plugins"),this.scales=new ji(Fi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach((e=>{const r=n||this._getRegistryForType(e);n||r.isForType(e)||r===this.plugins&&e.id?this._exec(t,r,e):p(e,(e=>{const r=n||this._getRegistryForType(e);this._exec(t,r,e)}))}))}_exec(t,e,n){const r=S(t);f(n["before"+r],[],n),e[t](n),f(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var zi=new $i;class qi extends Hr{update(t){const e=this._cachedMeta,{data:n=[]}=e,r=this.chart._animationsDisabled;let{start:i,count:s}=vt(e,n,r);if(this._drawStart=i,this._drawCount=s,bt(e)&&(i=0,s=n.length),this.options.showLine){const{dataset:i,_dataset:s}=e;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:o},t)}this.updateElements(n,i,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=zi.getElement("line")),super.addElements()}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a,_stacked:c,_dataset:u}=this._cachedMeta,l=this.resolveDataElementOptions(e,r),h=this.getSharedOptions(l),d=this.includeOptions(r,h),f=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,y=z(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||"none"===r;let b=e>0&&this.getParsed(e-1);for(let w=e;w<e+n;++w){const e=t[w],n=this.getParsed(w),l=v?e:{},g=s(n[p]),_=l[f]=o.getPixelForValue(n[f],w),x=l[p]=i||g?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,n,c):n[p],w);l.skip=isNaN(_)||isNaN(x)||g,l.stop=w>0&&Math.abs(n[f]-b[f])>y,m&&(l.parsed=n,l.raw=u.data[w]),d&&(l.options=h||this.resolveDataElementOptions(w,e.active?"active":r)),v||this.updateElement(e,w,l,r),b=n}this.updateSharedOptions(h,r,l)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,r=n.options&&n.options.borderWidth||0;if(!e.length)return r;const i=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,i,s)/2}}qi.id="scatter",qi.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},qi.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Hi=Object.freeze({__proto__:null,BarController:ai,BubbleController:ci,DoughnutController:li,LineController:hi,PolarAreaController:di,PieController:fi,RadarController:pi,ScatterController:qi});function Wi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Gi{constructor(t){this.options=t||{}}init(t){}formats(){return Wi()}parse(t,e){return Wi()}format(t,e){return Wi()}add(t,e,n){return Wi()}diff(t,e,n){return Wi()}startOf(t,e,n){return Wi()}endOf(t,e){return Wi()}}Gi.override=function(t){Object.assign(Gi.prototype,t)};var Ki={_date:Gi};function Yi(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const t=a._reversePixels?ot:st;if(!r)return t(s,e,n);if(i._sharedOptions){const r=s[0],i="function"===typeof r.getRange&&r.getRange(e);if(i){const r=t(s,e,n-i),o=t(s,e,n+i);return{lo:r.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function Qi(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=s.length;a<c;++a){const{index:t,data:n}=s[a],{lo:c,hi:u}=Yi(s[a],e,o,i);for(let e=c;e<=u;++e){const i=n[e];i.skip||r(i,t,e)}}}function Ji(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){const i=e?Math.abs(t.x-r.x):0,s=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}function Xi(t,e,n,r,i){const s=[];if(!i&&!t.isPointInArea(e))return s;const o=function(n,o,a){(i||Re(n,t.chartArea,0))&&n.inRange(e.x,e.y,r)&&s.push({element:n,datasetIndex:o,index:a})};return Qi(t,n,e,o,!0),s}function Zi(t,e,n,r){let i=[];function s(t,n,s){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],r),{angle:c}=Q(t,{x:e.x,y:e.y});tt(c,o,a)&&i.push({element:t,datasetIndex:n,index:s})}return Qi(t,n,e,s),i}function ts(t,e,n,r,i,s){let o=[];const a=Ji(n);let c=Number.POSITIVE_INFINITY;function u(n,u,l){const h=n.inRange(e.x,e.y,i);if(r&&!h)return;const d=n.getCenterPoint(i),f=!!s||t.isPointInArea(d);if(!f&&!h)return;const p=a(e,d);p<c?(o=[{element:n,datasetIndex:u,index:l}],c=p):p===c&&o.push({element:n,datasetIndex:u,index:l})}return Qi(t,n,e,u),o}function es(t,e,n,r,i,s){return s||t.isPointInArea(e)?"r"!==n||r?ts(t,e,n,r,i,s):Zi(t,e,n,i):[]}function ns(t,e,n,r,i){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return Qi(t,n,e,((t,r,c)=>{t[o](e[n],i)&&(s.push({element:t,datasetIndex:r,index:c}),a=a||t.inRange(e.x,e.y,i))})),r&&!a?[]:s}var rs={evaluateInteractionItems:Qi,modes:{index(t,e,n,r){const i=Bn(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Xi(t,i,s,r,o):es(t,i,s,!1,r,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&c.push({element:n,datasetIndex:t.index,index:e})})),c):[]},dataset(t,e,n,r){const i=Bn(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Xi(t,i,s,r,o):es(t,i,s,!1,r,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point(t,e,n,r){const i=Bn(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Xi(t,i,s,r,o)},nearest(t,e,n,r){const i=Bn(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return es(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Bn(e,t);return ns(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Bn(e,t);return ns(t,i,"y",n.intersect,r)}}};const is=["left","top","right","bottom"];function ss(t,e){return t.filter((t=>t.pos===e))}function os(t,e){return t.filter((t=>-1===is.indexOf(t.pos)&&t.box.axis===e))}function as(t,e){return t.sort(((t,n)=>{const r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function cs(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],({position:s,options:{stack:o,stackWeight:a=1}}=i),e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function us(t){const e={};for(const n of t){const{stack:t,pos:r,stackWeight:i}=n;if(!t||!is.includes(r))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return e}function ls(t,e){const n=us(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:o}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:o&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:o&&e.availableHeight)}return n}function hs(t){const e=cs(t),n=as(e.filter((t=>t.box.fullSize)),!0),r=as(ss(e,"left"),!0),i=as(ss(e,"right")),s=as(ss(e,"top"),!0),o=as(ss(e,"bottom")),a=os(e,"x"),c=os(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:ss(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(o).concat(a)}}function ds(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function fs(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ps(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!a(i)){n.size&&(t[i]-=n.size);const e=r[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[i]+=n.size}s.getPadding&&fs(o,s.getPadding());const c=Math.max(0,e.outerWidth-ds(o,t,"left","right")),u=Math.max(0,e.outerHeight-ds(o,t,"top","bottom")),l=c!==t.w,h=u!==t.h;return t.w=c,t.h=u,n.horizontal?{same:l,other:h}:{same:h,other:l}}function gs(t){const e=t.maxPadding;function n(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function ms(t,e){const n=e.maxPadding;function r(t){const r={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{r[t]=Math.max(e[t],n[t])})),r}return r(t?["left","right"]:["top","bottom"])}function ys(t,e,n,r){const i=[];let s,o,a,c,u,l;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],c=a.box,c.update(a.width||e.w,a.height||e.h,ms(a.horizontal,e));const{same:o,other:h}=ps(e,n,a,r);u|=o&&i.length,l=l||h,c.fullSize||i.push(a)}return u&&ys(i,e,n,r)||l}function vs(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function bs(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const t=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const r=e.w*u,s=c.size||t.height;k(c.start)&&(o=c.start),t.fullSize?vs(t,i.left,o,n.outerWidth-i.right-i.left,s):vs(t,e.left+c.placed,o,r,s),c.start=o,c.placed+=r,o=t.bottom}else{const r=e.h*u,o=c.size||t.width;k(c.start)&&(s=c.start),t.fullSize?vs(t,s,i.top,o,n.outerHeight-i.bottom-i.top):vs(t,s,e.top+c.placed,o,r),c.start=s,c.placed+=r,s=t.right}}e.x=s,e.y=o}Ee.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ws={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Ke(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=hs(t.boxes),c=a.vertical,u=a.horizontal;p(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const l=c.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/l,hBoxMaxHeight:o/2}),d=Object.assign({},i);fs(d,Ke(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),g=ls(c.concat(u),h);ys(a.fullSize,f,h,g),ys(c,f,h,g),ys(u,f,h,g)&&ys(c,f,h,g),gs(f),bs(a.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,bs(a.rightAndBottom,f,h,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},p(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class _s{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class xs extends _s{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Is="$chartjs",Es={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ts=t=>null===t||""===t;function Ss(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Is]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ts(i)){const e=Hn(t,"width");void 0!==e&&(t.width=e)}if(Ts(r))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Hn(t,"height");void 0!==e&&(t.height=e)}return t}const ks=!!qn&&{passive:!0};function Cs(t,e,n){t.addEventListener(e,n,ks)}function As(t,e,n){t.canvas.removeEventListener(e,n,ks)}function Os(t,e){const n=Es[t.type]||t.type,{x:r,y:i}=Bn(t,e);return{type:n,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==i?i:null}}function Ds(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Rs(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Ds(n.addedNodes,r),e=e&&!Ds(n.removedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function Ps(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Ds(n.removedNodes,r),e=e&&!Ds(n.addedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const Ns=new Map;let Ms=0;function Ls(){const t=window.devicePixelRatio;t!==Ms&&(Ms=t,Ns.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Fs(t,e){Ns.size||window.addEventListener("resize",Ls),Ns.set(t,e)}function js(t){Ns.delete(t),Ns.size||window.removeEventListener("resize",Ls)}function Bs(t,e,n){const r=t.canvas,i=r&&Dn(r);if(!i)return;const s=ft(((t,e)=>{const r=i.clientWidth;n(t,e),r<i.clientWidth&&n()}),window),o=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||s(n,r)}));return o.observe(i),Fs(t,s),o}function Vs(t,e,n){n&&n.disconnect(),"resize"===e&&js(t)}function Us(t,e,n){const r=t.canvas,i=ft((e=>{null!==t.ctx&&n(Os(e,t))}),t,(t=>{const e=t[0];return[e,e.offsetX,e.offsetY]}));return Cs(r,e,i),i}class $s extends _s{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Ss(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Is])return!1;const n=e[Is].initial;["height","width"].forEach((t=>{const r=n[t];s(r)?e.removeAttribute(t):e.setAttribute(t,r)}));const r=n.style||{};return Object.keys(r).forEach((t=>{e.style[t]=r[t]})),e.width=e.width,delete e[Is],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),i={attach:Rs,detach:Ps,resize:Bs},s=i[e]||Us;r[e]=s(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;const i={attach:Vs,detach:Vs,resize:Vs},s=i[e]||As;s(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return $n(t,e,n,r)}isAttached(t){const e=Dn(t);return!(!e||!e.isConnected)}}function zs(t){return!On()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?xs:$s}class qs{constructor(){this._init=[]}notify(t,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(i,t,e,n);return"afterDestroy"===e&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,r){r=r||{};for(const i of t){const t=i.plugin,s=t[n],o=[e,r,i.options];if(!1===f(s,o,t)&&r.cancelable)return!1}return!0}invalidate(){s(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=l(n.options&&n.options.plugins,{}),i=Hs(n);return!1!==r||e?Gs(t,i,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function Hs(t){const e={},n=[],r=Object.keys(zi.plugins.items);for(let s=0;s<r.length;s++)n.push(zi.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const t=i[s];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}function Ws(t,e){return e||!1!==t?!0===t?{}:t:null}function Gs(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const e=a.id,c=Ws(r[e],i);null!==c&&s.push({plugin:a,options:Ks(t.config,{plugin:a,local:n[e]},c,o)})}return s}function Ks(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ys(t,e){const n=Ee.datasets[t]||{},r=(e.datasets||{})[t]||{};return r.indexAxis||e.indexAxis||n.indexAxis||"x"}function Qs(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}function Js(t,e){return t===e?"_index_":"_value_"}function Xs(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function Zs(t,e){return"x"===t||"y"===t?t:e.axis||Xs(e.position)||t.charAt(0).toLowerCase()}function to(t,e){const n=be[t.type]||{scales:{}},r=e.scales||{},i=Ys(t.type,e),s=Object.create(null),o=Object.create(null);return Object.keys(r).forEach((t=>{const e=r[t];if(!a(e))return console.error(`Invalid scale configuration for scale: ${t}`);if(e._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const c=Zs(t,e),u=Js(c,i),l=n.scales||{};s[c]=s[c]||t,o[t]=w(Object.create(null),[{axis:c},e,l[c],l[u]])})),t.data.datasets.forEach((n=>{const i=n.type||t.type,a=n.indexAxis||Ys(i,e),c=be[i]||{},u=c.scales||{};Object.keys(u).forEach((t=>{const e=Qs(t,a),i=n[e+"AxisID"]||s[e]||e;o[i]=o[i]||Object.create(null),w(o[i],[{axis:e},r[i],u[t]])}))})),Object.keys(o).forEach((t=>{const e=o[t];w(e,[Ee.scales[e.type],Ee.scale])})),o}function eo(t){const e=t.options||(t.options={});e.plugins=l(e.plugins,{}),e.scales=to(t,e)}function no(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function ro(t){return t=t||{},t.data=no(t.data),eo(t),t}const io=new Map,so=new Set;function oo(t,e){let n=io.get(t);return n||(n=e(),io.set(t,n),so.add(n)),n}const ao=(t,e,n)=>{const r=I(e,n);void 0!==r&&t.add(r)};class co{constructor(t){this._config=ro(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=no(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),eo(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return oo(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return oo(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return oo(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return oo(`${n}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:i}=this,s=this._cachedScopes(t,n),o=s.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>ao(a,t,e)))),e.forEach((t=>ao(a,r,t))),e.forEach((t=>ao(a,be[i]||{},t))),e.forEach((t=>ao(a,Ee,t))),e.forEach((t=>ao(a,we,t)))}));const c=Array.from(a);return 0===c.length&&c.push(Object.create(null)),so.has(e)&&s.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,be[e]||{},Ee.datasets[e]||{},{type:e},Ee,we]}resolveNamedOptions(t,e,n,r=[""]){const i={$shared:!0},{resolver:s,subPrefixes:o}=uo(this._resolverCache,t,r);let a=s;if(ho(s,e)){i.$shared=!1,n=C(n)?n():n;const e=this.createResolver(t,n,o);a=tn(s,n,e)}for(const c of e)i[c]=a[c];return i}createResolver(t,e,n=[""],r){const{resolver:i}=uo(this._resolverCache,t,n);return a(e)?tn(i,e,void 0,r):i}}function uo(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);if(!s){const t=Ze(e,n);s={resolver:t,subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},r.set(i,s)}return s}const lo=t=>a(t)&&Object.getOwnPropertyNames(t).reduce(((e,n)=>e||C(t[n])),!1);function ho(t,e){const{isScriptable:n,isIndexable:r}=en(t);for(const i of e){const e=n(i),s=r(i),a=(s||e)&&t[i];if(e&&(C(a)||lo(a))||s&&o(a))return!0}return!1}var fo="3.9.1";const po=["top","bottom","left","right","chartArea"];function go(t,e){return"top"===t||"bottom"===t||-1===po.indexOf(t)&&"x"===e}function mo(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function yo(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),f(n&&n.onComplete,[t],e)}function vo(t){const e=t.chart,n=e.options.animation;f(n&&n.onProgress,[t],e)}function bo(t){return On()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const wo={},_o=t=>{const e=bo(t);return Object.values(wo).filter((t=>t.canvas===e)).pop()};function xo(t,e,n){const r=Object.keys(t);for(const i of r){const r=+i;if(r>=e){const s=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=s)}}}function Io(t,e,n,r){return n&&"mouseout"!==t.type?r?e:t:null}class Eo{constructor(t,e){const n=this.config=new co(e),r=bo(t),s=_o(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||zs(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,o.aspectRatio),c=a&&a.canvas,u=c&&c.height,l=c&&c.width;this.id=i(),this.ctx=a,this.canvas=c,this.width=l,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qs,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pt((t=>this.update(t)),o.resizeDelay||0),this._dataChanges=[],wo[this.id]=this,a&&c?(mr.listen(this,"complete",yo),mr.listen(this,"progress",vo),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:i}=this;return s(t)?e&&i?i:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zn(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ae(this.canvas,this.ctx),this}stop(){return mr.stop(this),this}resize(t,e){mr.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,t,e,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,zn(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),f(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const t=this.options,e=t.scales||{};p(e,((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,r=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let i=[];e&&(i=i.concat(Object.keys(e).map((t=>{const n=e[t],r=Zs(t,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}})))),p(i,(e=>{const i=e.options,s=i.id,o=Zs(s,i),a=l(i.type,e.dtype);void 0!==i.position&&go(i.position,o)===go(e.dposition)||(i.position=e.dposition),r[s]=!0;let c=null;if(s in n&&n[s].type===a)c=n[s];else{const t=zi.getScale(a);c=new t({id:s,type:a,ctx:this.ctx,chart:this}),n[c.id]=c}c.init(i,t)})),p(r,((t,e)=>{t||delete n[e]})),p(n,(t=>{ws.configure(this,t,t.options),ws.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(mo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const r=e[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||Ys(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const e=zi.getController(s),{datasetElementType:r,dataElementType:o}=Ee.datasets[s];Object.assign(e.prototype,{dataElementType:zi.getElement(o),datasetElementType:r&&zi.getElement(r)}),i.controller=new e(this,n),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){p(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:t}=this.getDatasetMeta(c),e=!r&&-1===i.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||p(i,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(mo("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){p(this.scales,(t=>{ws.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);A(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of e){const e="_removeElements"===n?-i:i;xo(t,r,e)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),r=n(0);for(let i=1;i<e;i++)if(!A(r,n(i)))return;return Array.from(r).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ws.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],p(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,C(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(mr.has(this)?this.attached&&!mr.running(this)&&mr.start(this):(this.draw(),yo({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let r,i;for(r=0,i=e.length;r<i;++r){const i=e[r];t&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,r=!n.disabled,i=this.chartArea,s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(r&&Pe(e,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),t.controller.draw(),r&&Ne(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Re(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,r){const i=rs.modes[e];return"function"===typeof i?i(this,t,n,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let r=n.filter((t=>t&&t._dataset===e)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Xe(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=n?"show":"hide",i=this.getDatasetMeta(t),s=i.controller._resolveAnimations(void 0,r);k(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(i,{visible:n}),this.update((e=>e.datasetIndex===t?r:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),mr.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ae(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete wo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};p(this.options.events,(t=>n(t,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(n,r)=>{t[n]&&(e.removeEventListener(this,n,r),delete t[n])},i=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){p(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},p(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const r=n?"set":"remove";let i,s,o,a;for("dataset"===e&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){s=t[o];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((({datasetIndex:t,index:e})=>{const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),r=!g(n,e);r&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}_updateHoverStyles(t,e,n){const r=this.options.hover,i=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),s=i(e,t),o=n?t:i(t,e);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:r=[],options:i}=this,s=e,o=this._getActiveElements(t,r,n,s),a=O(t),c=Io(t,this._lastEvent,n,a);n&&(this._lastEvent=null,f(i.onHover,[t,o,this],this),a&&f(i.onClick,[t,o,this],this));const u=!g(o,r);return(u||e)&&(this._active=o,this._updateHoverStyles(o,r,e)),this._lastEvent=c,u}_getActiveElements(t,e,n,r){if("mouseout"===t.type)return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}}const To=()=>p(Eo.instances,(t=>t._plugins.invalidate())),So=!0;function ko(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:c}=e;let u=i/a;t.beginPath(),t.arc(s,o,a,r-u,n+u),c>i?(u=i/c,t.arc(s,o,c,n+u,r-u,!0)):t.arc(s,o,i,n+L,r-L),t.closePath(),t.clip()}function Co(t){return He(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Ao(t,e,n,r){const i=Co(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=t=>{const e=(n-Math.min(s,t))*r/2;return et(t,0,Math.min(s,e))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:et(i.innerStart,0,o),innerEnd:et(i.innerEnd,0,o)}}function Oo(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Do(t,e,n,r,i,s){const{x:o,y:a,startAngle:c,pixelMargin:u,innerRadius:l}=e,h=Math.max(e.outerRadius+r+n-u,0),d=l>0?l+r+n+u:0;let f=0;const p=i-c;if(r){const t=l>0?l-r:0,e=h>0?h-r:0,n=(t+e)/2,i=0!==n?p*n/(n+r):p;f=(p-i)/2}const g=Math.max(.001,p*h-n/D)/h,m=(p-g)/2,y=c+m+f,v=i-m-f,{outerStart:b,outerEnd:w,innerStart:_,innerEnd:x}=Ao(e,d,h,v-y),I=h-b,E=h-w,T=y+b/I,S=v-w/E,k=d+_,C=d+x,A=y+_/k,O=v-x/C;if(t.beginPath(),s){if(t.arc(o,a,h,T,S),w>0){const e=Oo(E,S,o,a);t.arc(e.x,e.y,w,S,v+L)}const e=Oo(C,v,o,a);if(t.lineTo(e.x,e.y),x>0){const e=Oo(C,O,o,a);t.arc(e.x,e.y,x,v+L,O+Math.PI)}if(t.arc(o,a,d,v-x/d,y+_/d,!0),_>0){const e=Oo(k,A,o,a);t.arc(e.x,e.y,_,A+Math.PI,y-L)}const n=Oo(I,y,o,a);if(t.lineTo(n.x,n.y),b>0){const e=Oo(I,T,o,a);t.arc(e.x,e.y,b,y-L,T)}}else{t.moveTo(o,a);const e=Math.cos(T)*h+o,n=Math.sin(T)*h+a;t.lineTo(e,n);const r=Math.cos(S)*h+o,i=Math.sin(S)*h+a;t.lineTo(r,i)}t.closePath()}function Ro(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let c=e.endAngle;if(s){Do(t,e,n,r,o+R,i);for(let e=0;e<s;++e)t.fill();isNaN(a)||(c=o+a%R,a%R===0&&(c+=R))}return Do(t,e,n,r,c,i),t.fill(),c}function Po(t,e,n){const{x:r,y:i,startAngle:s,pixelMargin:o,fullCircles:a}=e,c=Math.max(e.outerRadius-o,0),u=e.innerRadius+o;let l;for(n&&ko(t,e,s+R),t.beginPath(),t.arc(r,i,u,s+R,s,!0),l=0;l<a;++l)t.stroke();for(t.beginPath(),t.arc(r,i,c,s,s+R),l=0;l<a;++l)t.stroke()}function No(t,e,n,r,i,s){const{options:o}=e,{borderWidth:a,borderJoinStyle:c}=o,u="inner"===o.borderAlign;a&&(u?(t.lineWidth=2*a,t.lineJoin=c||"round"):(t.lineWidth=a,t.lineJoin=c||"bevel"),e.fullCircles&&Po(t,e,u),u&&ko(t,e,i),Do(t,e,n,r,i,s),t.stroke())}Object.defineProperties(Eo,{defaults:{enumerable:So,value:Ee},instances:{enumerable:So,value:wo},overrides:{enumerable:So,value:be},registry:{enumerable:So,value:zi},version:{enumerable:So,value:fo},getChart:{enumerable:So,value:_o},register:{enumerable:So,value:(...t)=>{zi.add(...t),To()}},unregister:{enumerable:So,value:(...t)=>{zi.remove(...t),To()}}});class Mo extends gi{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.getProps(["x","y"],n),{angle:i,distance:s}=Q(r,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=this.options.spacing/2,f=l(h,a-o),p=f>=R||tt(i,o,a),g=rt(s,c+d,u+d);return p&&g}getCenterPoint(t){const{x:e,y:n,startAngle:r,endAngle:i,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:a,spacing:c}=this.options,u=(r+i)/2,l=(s+o+c+a)/2;return{x:e+Math.cos(u)*l,y:n+Math.sin(u)*l}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,r=(e.offset||0)/2,i=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>R?Math.floor(n/R):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();let o=0;if(r){o=r/2;const e=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(e)*o,Math.sin(e)*o),this.circumference>=D&&(o=r)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const a=Ro(t,this,o,i,s);No(t,this,o,i,a,s),t.restore()}}function Lo(t,e,n=e){t.lineCap=l(n.borderCapStyle,e.borderCapStyle),t.setLineDash(l(n.borderDash,e.borderDash)),t.lineDashOffset=l(n.borderDashOffset,e.borderDashOffset),t.lineJoin=l(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=l(n.borderWidth,e.borderWidth),t.strokeStyle=l(n.borderColor,e.borderColor)}function Fo(t,e,n){t.lineTo(n.x,n.y)}function jo(t){return t.stepped?Me:t.tension||"monotone"===t.cubicInterpolationMode?Le:Fo}function Bo(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,c=Math.max(i,o),u=Math.min(s,a),l=i<o&&s<o||i>a&&s>a;return{count:r,start:c,loop:e.loop,ilen:u<c&&!l?r+u-c:u-c}}function Vo(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:c,ilen:u}=Bo(i,n,r),l=jo(s);let h,d,f,{move:p=!0,reverse:g}=r||{};for(h=0;h<=u;++h)d=i[(a+(g?u-h:h))%o],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):l(t,f,d,g,s.stepped),f=d);return c&&(d=i[(a+(g?u:0))%o],l(t,f,d,g,s.stepped)),!!c}function Uo(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=Bo(i,n,r),{move:c=!0,reverse:u}=r||{};let l,h,d,f,p,g,m=0,y=0;const v=t=>(o+(u?a-t:t))%s,b=()=>{f!==p&&(t.lineTo(m,p),t.lineTo(m,f),t.lineTo(m,g))};for(c&&(h=i[v(0)],t.moveTo(h.x,h.y)),l=0;l<=a;++l){if(h=i[v(l)],h.skip)continue;const e=h.x,n=h.y,r=0|e;r===d?(n<f?f=n:n>p&&(p=n),m=(y*m+e)/++y):(b(),t.lineTo(e,n),d=r,y=0,f=p=n),g=n}b()}function $o(t){const e=t.options,n=e.borderDash&&e.borderDash.length,r=!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n;return r?Uo:Vo}function zo(t){return t.stepped?Gn:t.tension||"monotone"===t.cubicInterpolationMode?Kn:Wn}function qo(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),Lo(t,e.options),t.stroke(i)}function Ho(t,e,n,r){const{segments:i,options:s}=e,o=$o(e);for(const a of i)Lo(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}Mo.id="arc",Mo.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Mo.defaultRoutes={backgroundColor:"backgroundColor"};const Wo="function"===typeof Path2D;function Go(t,e,n,r){Wo&&!e.options.segment?qo(t,e,n,r):Ho(t,e,n,r)}class Ko extends gi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;An(this._points,n,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=lr(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,r=t[e],i=this.points,s=ar(this,{property:e,start:r,end:r});if(!s.length)return;const o=[],a=zo(n);let c,u;for(c=0,u=s.length;c<u;++c){const{start:u,end:l}=s[c],h=i[u],d=i[l];if(h===d){o.push(h);continue}const f=Math.abs((r-h[e])/(d[e]-h[e])),p=a(h,d,f,n.stepped);p[e]=t[e],o.push(p)}return 1===o.length?o[0]:o}pathSegment(t,e,n){const r=$o(this);return r(t,this,e,n)}path(t,e,n){const r=this.segments,i=$o(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const o of r)s&=i(t,this,o,{start:e,end:e+n-1});return!!s}draw(t,e,n,r){const i=this.options||{},s=this.points||[];s.length&&i.borderWidth&&(t.save(),Go(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Yo(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}Ko.id="line",Ko.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Ko.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Ko.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};class Qo extends gi{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(t-i,2)+Math.pow(e-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Yo(this,t,"x",e)}inYRange(t,e){return Yo(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const n=e&&t.borderWidth||0;return 2*(e+n)}draw(t,e){const n=this.options;this.skip||n.radius<.1||!Re(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Oe(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Jo(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,c,u,l,h;return t.horizontal?(h=o/2,a=Math.min(n,i),c=Math.max(n,i),u=r-h,l=r+h):(h=s/2,a=n-h,c=n+h,u=Math.min(r,i),l=Math.max(r,i)),{left:a,top:u,right:c,bottom:l}}function Xo(t,e,n,r){return t?0:et(e,n,r)}function Zo(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=We(r);return{t:Xo(i.top,s.top,0,n),r:Xo(i.right,s.right,0,e),b:Xo(i.bottom,s.bottom,0,n),l:Xo(i.left,s.left,0,e)}}function ta(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Ge(i),o=Math.min(e,n),c=t.borderSkipped,u=r||a(i);return{topLeft:Xo(!u||c.top||c.left,s.topLeft,0,o),topRight:Xo(!u||c.top||c.right,s.topRight,0,o),bottomLeft:Xo(!u||c.bottom||c.left,s.bottomLeft,0,o),bottomRight:Xo(!u||c.bottom||c.right,s.bottomRight,0,o)}}function ea(t){const e=Jo(t),n=e.right-e.left,r=e.bottom-e.top,i=Zo(t,n/2,r/2),s=ta(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function na(t,e,n,r){const i=null===e,s=null===n,o=i&&s,a=t&&!o&&Jo(t,r);return a&&(i||rt(e,a.left,a.right))&&(s||rt(n,a.top,a.bottom))}function ra(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function ia(t,e){t.rect(e.x,e.y,e.w,e.h)}function sa(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}Qo.id="point",Qo.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Qo.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class oa extends gi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:s}=ea(this),o=ra(s.radius)?Ve:ia;t.save(),s.w===i.w&&s.h===i.h||(t.beginPath(),o(t,sa(s,e,i)),t.clip(),o(t,sa(i,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,sa(i,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return na(this,t,e,n)}inXRange(t,e){return na(this,t,null,e)}inYRange(t,e){return na(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+r)/2:e,y:i?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}oa.id="bar",oa.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},oa.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var aa=Object.freeze({__proto__:null,ArcElement:Mo,LineElement:Ko,PointElement:Qo,BarElement:oa});function ca(t,e,n,r,i){const s=i.samples||r;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let c=0;const u=e+n-1;let l,h,d,f,p,g=e;for(o[c++]=t[g],l=0;l<s-2;l++){let r,i=0,s=0;const u=Math.floor((l+1)*a)+1+e,m=Math.min(Math.floor((l+2)*a)+1,n)+e,y=m-u;for(r=u;r<m;r++)i+=t[r].x,s+=t[r].y;i/=y,s/=y;const v=Math.floor(l*a)+1+e,b=Math.min(Math.floor((l+1)*a)+1,n)+e,{x:w,y:_}=t[g];for(d=f=-1,r=v;r<b;r++)f=.5*Math.abs((w-i)*(t[r].y-_)-(w-t[r].x)*(s-_)),f>d&&(d=f,h=t[r],p=r);o[c++]=h,g=p}return o[c++]=t[u],o}function ua(t,e,n,r){let i,o,a,c,u,l,h,d,f,p,g=0,m=0;const y=[],v=e+n-1,b=t[e].x,w=t[v].x,_=w-b;for(i=e;i<e+n;++i){o=t[i],a=(o.x-b)/_*r,c=o.y;const e=0|a;if(e===u)c<f?(f=c,l=i):c>p&&(p=c,h=i),g=(m*g+o.x)/++m;else{const n=i-1;if(!s(l)&&!s(h)){const e=Math.min(l,h),r=Math.max(l,h);e!==d&&e!==n&&y.push({...t[e],x:g}),r!==d&&r!==n&&y.push({...t[r],x:g})}i>0&&n!==d&&y.push(t[n]),y.push(o),u=e,m=0,f=p=c,l=h=d=i}}return y}function la(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function ha(t){t.data.datasets.forEach((t=>{la(t)}))}function da(t,e){const n=e.length;let r,i=0;const{iScale:s}=t,{min:o,max:a,minDefined:c,maxDefined:u}=s.getUserBounds();return c&&(i=et(st(e,s.axis,o).lo,0,n-1)),r=u?et(st(e,s.axis,a).hi+1,i,n)-i:n-i,{start:i,count:r}}var fa={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void ha(t);const r=t.width;t.data.datasets.forEach(((e,i)=>{const{_data:o,indexAxis:a}=e,c=t.getDatasetMeta(i),u=o||e.data;if("y"===Qe([a,t.options.indexAxis]))return;if(!c.controller.supportsDecimation)return;const l=t.scales[c.xAxisID];if("linear"!==l.type&&"time"!==l.type)return;if(t.options.parsing)return;let{start:h,count:d}=da(c,u);const f=n.threshold||4*r;if(d<=f)return void la(e);let p;switch(s(o)&&(e._data=u,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":p=ca(u,h,d,r,n);break;case"min-max":p=ua(u,h,d,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}e._decimated=p}))},destroy(t){ha(t)}};function pa(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:t,end:r}=a;r=ya(t,r,i);const c=ga(n,i[t],i[r],a.loop);if(!e.segments){o.push({source:a,target:c,start:i[t],end:i[r]});continue}const u=ar(e,c);for(const e of u){const t=ga(n,s[e.start],s[e.end],e.loop),r=or(a,i,t);for(const i of r)o.push({source:i,target:e,start:{[n]:va(c,t,"start",Math.max)},end:{[n]:va(c,t,"end",Math.min)}})}}return o}function ga(t,e,n,r){if(r)return;let i=e[t],s=n[t];return"angle"===t&&(i=Z(i),s=Z(s)),{property:t,start:i,end:s}}function ma(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach((({start:t,end:e})=>{e=ya(t,e,i);const o=i[t],a=i[e];null!==r?(s.push({x:o.x,y:r}),s.push({x:a.x,y:r})):null!==n&&(s.push({x:n,y:o.y}),s.push({x:n,y:a.y}))})),s}function ya(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function va(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function ba(t,e){let n=[],r=!1;return o(t)?(r=!0,n=t):n=ma(t,e),n.length?new Ko({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function wa(t){return t&&!1!==t.fill}function _a(t,e,n){const r=t[e];let i=r.fill;const s=[e];let o;if(!n)return i;while(!1!==i&&-1===s.indexOf(i)){if(!c(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function xa(t,e,n){const r=Sa(t);if(a(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return c(i)&&Math.floor(i)===i?Ia(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Ia(t,e,n,r){return"-"!==t&&"+"!==t||(n=e+n),!(n===e||n<0||n>=r)&&n}function Ea(t,e){let n=null;return"start"===t?n=e.bottom:"end"===t?n=e.top:a(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Ta(t,e,n){let r;return r="start"===t?n:"end"===t?e.options.reverse?e.min:e.max:a(t)?t.value:e.getBaseValue(),r}function Sa(t){const e=t.options,n=e.fill;let r=l(n&&n.target,n);return void 0===r&&(r=!!e.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}function ka(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=Ca(e,n);a.push(ba({x:null,y:e.bottom},r));for(let c=0;c<s.length;c++){const t=s[c];for(let e=t.start;e<=t.end;e++)Aa(i,o[e],a)}return new Ko({points:i,options:{}})}function Ca(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const t=r[i];if(t.index===e)break;t.hidden||n.unshift(t.dataset)}return n}function Aa(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:c}=Oa(s,e,"x");if(!(!c||o&&a))if(o)r.unshift(c);else if(t.push(c),!a)break}t.push(...r)}function Oa(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,c=!1;for(let u=0;u<s.length;u++){const t=s[u],e=o[t.start][n],r=o[t.end][n];if(rt(i,e,r)){a=i===e,c=i===r;break}}return{first:a,last:c,point:r}}class Da{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:r,y:i,radius:s}=this;return e=e||{start:0,end:R},t.arc(r,i,s,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:r}=this,i=t.angle;return{x:e+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function Ra(t){const{chart:e,fill:n,line:r}=t;if(c(n))return Pa(e,n);if("stack"===n)return ka(t);if("shape"===n)return!0;const i=Na(t);return i instanceof Da?i:ba(i,r)}function Pa(t,e){const n=t.getDatasetMeta(e),r=n&&t.isDatasetVisible(e);return r?n.dataset:null}function Na(t){const e=t.scale||{};return e.getPointPositionForValue?La(t):Ma(t)}function Ma(t){const{scale:e={},fill:n}=t,r=Ea(n,e);if(c(r)){const t=e.isHorizontal();return{x:t?r:null,y:t?null:r}}return null}function La(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=Ta(n,e,s),a=[];if(r.grid.circular){const t=e.getPointPositionForValue(0,s);return new Da({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)a.push(e.getPointPositionForValue(c,o));return a}function Fa(t,e,n){const r=Ra(e),{line:i,scale:s,axis:o}=e,a=i.options,c=a.fill,u=a.backgroundColor,{above:l=u,below:h=u}=c||{};r&&i.points.length&&(Pe(t,n),ja(t,{line:i,target:r,above:l,below:h,area:n,scale:s,axis:o}),Ne(t))}function ja(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a}=e,c=n._loop?"angle":e.axis;t.save(),"x"===c&&s!==i&&(Ba(t,r,o.top),Va(t,{line:n,target:r,color:i,scale:a,property:c}),t.restore(),t.save(),Ba(t,r,o.bottom)),Va(t,{line:n,target:r,color:s,scale:a,property:c}),t.restore()}function Ba(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:r,end:c}=a,u=i[r],l=i[ya(r,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(l.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Va(t,e){const{line:n,target:r,property:i,color:s,scale:o}=e,a=pa(n,r,i);for(const{source:c,target:u,start:l,end:h}of a){const{style:{backgroundColor:e=s}={}}=c,a=!0!==r;t.save(),t.fillStyle=e,Ua(t,o,a&&ga(i,l,h)),t.beginPath();const d=!!n.pathSegment(t,c);let f;if(a){d?t.closePath():$a(t,r,h,i);const e=!!r.pathSegment(t,u,{move:d,reverse:!0});f=d&&e,f||$a(t,r,l,i)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function Ua(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};"x"===s&&(t.beginPath(),t.rect(o,r,a-o,i-r),t.clip())}function $a(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var za={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,c;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof Ko&&(c={visible:t.isDatasetVisible(o),index:o,fill:xa(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,i.push(c);for(o=0;o<r;++o)c=i[o],c&&!1!==c.fill&&(c.fill=_a(i,o,n.propagate))},beforeDraw(t,e,n){const r="beforeDraw"===n.drawTime,i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const e=i[o].$filler;e&&(e.line.updateControlPoints(s,e.axis),r&&e.fill&&Fa(t.ctx,e,s))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const e=r[i].$filler;wa(e)&&Fa(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;wa(r)&&"beforeDatasetDraw"===n.drawTime&&Fa(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qa=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Ha=(t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Wa extends gi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=f(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,r=Ye(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=qa(n,i);let c,u;e.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(s,i,o,a)+10):(u=this.maxHeight,c=this._fitCols(s,i,o,a)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+o;let l=t;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-u;return this.legendItems.forEach(((t,f)=>{const p=n+e/2+i.measureText(t.text).width;(0===f||c[c.length-1]+p+2*o>s)&&(l+=u,c[c.length-(f>0?0:1)]=0,d+=u,h++),a[f]={left:0,top:d,row:h,width:p,height:r},c[c.length-1]+=p+o})),l}_fitCols(t,e,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],c=this.columnSizes=[],u=s-t;let l=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,s)=>{const g=n+e/2+i.measureText(t.text).width;s>0&&d+r+2*o>u&&(l+=h+o,c.push({width:h,height:d}),f+=h+o,p++,h=d=0),a[s]={left:f,top:d,col:p,width:g,height:r},h=Math.max(h,g),d+=r+o})),l+=h,c.push({width:h,height:d}),l}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:i}}=this,s=tr(i,this.left,this.width);if(this.isHorizontal()){let i=0,o=mt(n,this.left+r,this.right-this.lineWidths[i]);for(const a of e)i!==a.row&&(i=a.row,o=mt(n,this.left+r,this.right-this.lineWidths[i])),a.top+=this.top+t+r,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+r}else{let i=0,o=mt(n,this.top+t+r,this.bottom-this.columnSizes[i].height);for(const a of e)a.col!==i&&(i=a.col,o=mt(n,this.top+t+r,this.bottom-this.columnSizes[i].height)),a.top=o,a.left+=this.left+r,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Pe(t,this),this._draw(),Ne(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:i,labels:s}=t,o=Ee.color,a=tr(t.rtl,this.left,this.width),c=Ye(s.font),{color:u,padding:h}=s,d=c.size,f=d/2;let p;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:y}=qa(s,d),v=function(t,e,n){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;r.save();const i=l(n.lineWidth,1);if(r.fillStyle=l(n.fillStyle,o),r.lineCap=l(n.lineCap,"butt"),r.lineDashOffset=l(n.lineDashOffset,0),r.lineJoin=l(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=l(n.strokeStyle,o),r.setLineDash(l(n.lineDash,[])),s.usePointStyle){const o={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},c=a.xPlus(t,g/2),u=e+f;De(r,o,c,u,s.pointStyleWidth&&g)}else{const s=e+Math.max((d-m)/2,0),o=a.leftForLtr(t,g),c=Ge(n.borderRadius);r.beginPath(),Object.values(c).some((t=>0!==t))?Ve(r,{x:o,y:s,w:g,h:m,radius:c}):r.rect(o,s,g,m),r.fill(),0!==i&&r.stroke()}r.restore()},b=function(t,e,n){Fe(r,n.text,t,e+y/2,c,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})},w=this.isHorizontal(),_=this._computeTitleHeight();p=w?{x:mt(i,this.left+h,this.right-n[0]),y:this.top+h+_,line:0}:{x:this.left+h,y:mt(i,this.top+_+h,this.bottom-e[0].height),line:0},er(this.ctx,t.textDirection);const x=y+h;this.legendItems.forEach(((o,c)=>{r.strokeStyle=o.fontColor||u,r.fillStyle=o.fontColor||u;const l=r.measureText(o.text).width,d=a.textAlign(o.textAlign||(o.textAlign=s.textAlign)),m=g+f+l;let y=p.x,I=p.y;a.setWidth(this.width),w?c>0&&y+m+h>this.right&&(I=p.y+=x,p.line++,y=p.x=mt(i,this.left+h,this.right-n[p.line])):c>0&&I+x>this.bottom&&(y=p.x=y+e[p.line].width+h,p.line++,I=p.y=mt(i,this.top+_+h,this.bottom-e[p.line].height));const E=a.x(y);v(E,I,o),y=yt(d,y+g+f,w?y+m:this.right,t.rtl),b(a.x(y),I,o),w?p.x+=m+h:p.y+=x})),nr(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Ye(e.font),r=Ke(e.padding);if(!e.display)return;const i=tr(t.rtl,this.left,this.width),s=this.ctx,o=e.position,a=n.size/2,c=r.top+a;let u,l=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,l=mt(t.align,l,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);u=c+mt(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=mt(o,l,l+h);s.textAlign=i.textAlign(gt(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,Fe(s,e.text,d,u,n)}_computeTitleHeight(){const t=this.options.title,e=Ye(t.font),n=Ke(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,i;if(rt(t,this.left,this.right)&&rt(e,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],rt(t,r.left,r.left+r.width)&&rt(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!Ga(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,i=Ha(r,n);r&&!i&&f(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!i&&f(e.onHover,[t,n,this],this)}else n&&f(e.onClick,[t,n,this],this)}}function Ga(t,e){return!("mousemove"!==t&&"mouseout"!==t||!e.onHover&&!e.onLeave)||!(!e.onClick||"click"!==t&&"mouseup"!==t)}var Ka={id:"legend",_element:Wa,start(t,e,n){const r=t.legend=new Wa({ctx:t.ctx,options:n,chart:t});ws.configure(t,r,n),ws.addBox(t,r)},stop(t){ws.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ws.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const o=t.controller.getStyle(n?0:void 0),a=Ke(o.borderWidth);return{text:e[t.index].label,fillStyle:o.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(a.width+a.height)/4,strokeStyle:o.borderColor,pointStyle:r||o.pointStyle,rotation:o.rotation,textAlign:i||o.textAlign,borderRadius:0,datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Ya extends gi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=o(n.text)?n.text.length:1;this._padding=Ke(n.padding);const i=r*Ye(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:r,right:i,options:s}=this,o=s.align;let a,c,u,l=0;return this.isHorizontal()?(c=mt(o,n,i),u=e+t,a=i-n):("left"===s.position?(c=n+t,u=mt(o,r,e),l=-.5*D):(c=i-t,u=mt(o,e,r),l=.5*D),a=r-e),{titleX:c,titleY:u,maxWidth:a,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Ye(e.font),r=n.lineHeight,i=r/2+this._padding.top,{titleX:s,titleY:o,maxWidth:a,rotation:c}=this._drawArgs(i);Fe(t,e.text,0,0,n,{color:e.color,maxWidth:a,rotation:c,textAlign:gt(e.align),textBaseline:"middle",translation:[s,o]})}}function Qa(t,e){const n=new Ya({ctx:t.ctx,options:e,chart:t});ws.configure(t,n,e),ws.addBox(t,n),t.titleBlock=n}var Ja={id:"title",_element:Ya,start(t,e,n){Qa(t,n)},stop(t){const e=t.titleBlock;ws.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;ws.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xa=new WeakMap;var Za={id:"subtitle",start(t,e,n){const r=new Ya({ctx:t.ctx,options:n,chart:t});ws.configure(t,r,n),ws.addBox(t,r),Xa.set(t,r)},stop(t){ws.removeBox(t,Xa.get(t)),Xa.delete(t)},beforeUpdate(t,e,n){const r=Xa.get(t);ws.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const tc={average(t){if(!t.length)return!1;let e,n,r=0,i=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();r+=t.x,i+=t.y,++s}}return{x:r/s,y:i/s}},nearest(t,e){if(!t.length)return!1;let n,r,i,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){const r=t[n].element;if(r&&r.hasValue()){const t=r.getCenterPoint(),n=J(e,t);n<a&&(a=n,i=r)}}if(i){const t=i.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function ec(t,e){return e&&(o(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function nc(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function rc(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function ic(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,c=Ye(e.bodyFont),u=Ye(e.titleFont),l=Ye(e.footerFont),h=s.length,d=i.length,f=r.length,g=Ke(e.padding);let m=g.height,y=0,v=r.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const t=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;m+=f*t+(v-f)*c.lineHeight+(v-1)*e.bodySpacing}d&&(m+=e.footerMarginTop+d*l.lineHeight+(d-1)*e.footerSpacing);let b=0;const w=function(t){y=Math.max(y,n.measureText(t).width+b)};return n.save(),n.font=u.string,p(t.title,w),n.font=c.string,p(t.beforeBody.concat(t.afterBody),w),b=e.displayColors?o+2+e.boxPadding:0,p(r,(t=>{p(t.before,w),p(t.lines,w),p(t.after,w)})),b=0,n.font=l.string,p(t.footer,w),n.restore(),y+=g.width,{width:y,height:m}}function sc(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function oc(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;return"left"===t&&i+s+o>e.width||("right"===t&&i-s-o<0||void 0)}function ac(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:c}}=t;let u="center";return"center"===r?u=i<=(a+c)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),oc(u,t,e,n)&&(u="center"),u}function cc(t,e,n){const r=n.yAlign||e.yAlign||sc(t,n);return{xAlign:n.xAlign||e.xAlign||ac(t,e,n,r),yAlign:r}}function uc(t,e){let{x:n,width:r}=t;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}function lc(t,e,n){let{y:r,height:i}=t;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}function hc(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,u=i+s,{topLeft:l,topRight:h,bottomLeft:d,bottomRight:f}=Ge(o);let p=uc(e,a);const g=lc(e,c,u);return"center"===c?"left"===a?p+=u:"right"===a&&(p-=u):"left"===a?p-=Math.max(l,d)+i:"right"===a&&(p+=Math.max(h,f)+i),{x:et(p,0,r.width-e.width),y:et(g,0,r.height-e.height)}}function dc(t,e,n){const r=Ke(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function fc(t){return ec([],nc(t))}function pc(t,e,n){return Xe(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function gc(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class mc extends gi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&e.options.animation&&n.animations,i=new Ir(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=pc(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,r=n.beforeTitle.apply(this,[t]),i=n.title.apply(this,[t]),s=n.afterTitle.apply(this,[t]);let o=[];return o=ec(o,nc(r)),o=ec(o,nc(i)),o=ec(o,nc(s)),o}getBeforeBody(t,e){return fc(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:n}=e,r=[];return p(t,(t=>{const e={before:[],lines:[],after:[]},i=gc(n,t);ec(e.before,nc(i.beforeLabel.call(this,t))),ec(e.lines,i.label.call(this,t)),ec(e.after,nc(i.afterLabel.call(this,t))),r.push(e)})),r}getAfterBody(t,e){return fc(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:n}=e,r=n.beforeFooter.apply(this,[t]),i=n.footer.apply(this,[t]),s=n.afterFooter.apply(this,[t]);let o=[];return o=ec(o,nc(r)),o=ec(o,nc(i)),o=ec(o,nc(s)),o}_createItems(t){const e=this._active,n=this.chart.data,r=[],i=[],s=[];let o,a,c=[];for(o=0,a=e.length;o<a;++o)c.push(rc(this.chart,e[o]));return t.filter&&(c=c.filter(((e,r,i)=>t.filter(e,r,i,n)))),t.itemSort&&(c=c.sort(((e,r)=>t.itemSort(e,r,n)))),p(c,(e=>{const n=gc(t.callbacks,e);r.push(n.labelColor.call(this,e)),i.push(n.labelPointStyle.call(this,e)),s.push(n.labelTextColor.call(this,e))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=c,c}update(t,e){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const t=tc[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=ic(this,n),o=Object.assign({},t,e),a=cc(this.chart,n,o),c=hc(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,i={opacity:1,x:c.x,y:c.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,r){const i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:c,bottomLeft:u,bottomRight:l}=Ge(o),{x:h,y:d}=t,{width:f,height:p}=e;let g,m,y,v,b,w;return"center"===i?(b=d+p/2,"left"===r?(g=h,m=g-s,v=b+s,w=b-s):(g=h+f,m=g+s,v=b-s,w=b+s),y=g):(m="left"===r?h+Math.max(a,u)+s:"right"===r?h+f-Math.max(c,l)-s:this.caretX,"top"===i?(v=d,b=v-s,g=m-s,y=m+s):(v=d+p,b=v+s,g=m+s,y=m-s),w=v),{x1:g,x2:m,x3:y,y1:v,y2:b,y3:w}}drawTitle(t,e,n){const r=this.title,i=r.length;let s,o,a;if(i){const c=tr(n.rtl,this.x,this.width);for(t.x=dc(this,n.titleAlign,n),e.textAlign=c.textAlign(n.titleAlign),e.textBaseline="middle",s=Ye(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,a=0;a<i;++a)e.fillText(r[a],c.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,a+1===i&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,r,i){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:c,boxWidth:u,boxPadding:l}=i,h=Ye(i.bodyFont),d=dc(this,"left",i),f=r.x(d),p=c<h.lineHeight?(h.lineHeight-c)/2:0,g=e.y+p;if(i.usePointStyle){const e={radius:Math.min(u,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=r.leftForLtr(f,u)+u/2,a=g+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Oe(t,e,n,a),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Oe(t,e,n,a)}else{t.lineWidth=a(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=r.leftForLtr(f,u-l),n=r.leftForLtr(r.xPlus(f,1),u-l-2),o=Ge(s.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Ve(t,{x:e,y:g,w:u,h:c,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),Ve(t,{x:n,y:g+1,w:u-2,h:c-2,radius:o}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(e,g,u,c),t.strokeRect(e,g,u,c),t.fillStyle=s.backgroundColor,t.fillRect(n,g+1,u-2,c-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:c,boxPadding:u}=n,l=Ye(n.bodyFont);let h=l.lineHeight,d=0;const f=tr(n.rtl,this.x,this.width),g=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+i},m=f.textAlign(s);let y,v,b,w,_,x,I;for(e.textAlign=s,e.textBaseline="middle",e.font=l.string,t.x=dc(this,m,n),e.fillStyle=n.bodyColor,p(this.beforeBody,g),d=o&&"right"!==m?"center"===s?c/2+u:c+2+u:0,w=0,x=r.length;w<x;++w){for(y=r[w],v=this.labelTextColors[w],e.fillStyle=v,p(y.before,g),b=y.lines,o&&b.length&&(this._drawColorBox(e,t,w,f,n),h=Math.max(l.lineHeight,a)),_=0,I=b.length;_<I;++_)g(b[_]),h=l.lineHeight;p(y.after,g)}d=0,h=l.lineHeight,p(this.afterBody,g),t.y-=i}drawFooter(t,e,n){const r=this.footer,i=r.length;let s,o;if(i){const a=tr(n.rtl,this.x,this.width);for(t.x=dc(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",s=Ye(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,o=0;o<i;++o)e.fillText(r[o],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:i,yAlign:s}=this,{x:o,y:a}=t,{width:c,height:u}=n,{topLeft:l,topRight:h,bottomLeft:d,bottomRight:f}=Ge(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(o+l,a),"top"===s&&this.drawCaret(t,e,n,r),e.lineTo(o+c-h,a),e.quadraticCurveTo(o+c,a,o+c,a+h),"center"===s&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(o+c,a+u-f),e.quadraticCurveTo(o+c,a+u,o+c-f,a+u),"bottom"===s&&this.drawCaret(t,e,n,r),e.lineTo(o+d,a+u),e.quadraticCurveTo(o,a+u,o,a+u-d),"center"===s&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(o,a+l),e.quadraticCurveTo(o,a,o+l,a),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=tc[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=ic(this,t),o=Object.assign({},n,this._size),a=cc(e,t,o),c=hc(t,o,a,e);r._to===c.x&&i._to===c.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Ke(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,r,e),er(t,e.textDirection),i.y+=s.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),nr(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,r=t.map((({datasetIndex:t,index:e})=>{const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),i=!g(n,r),s=this._positionChanged(r,e);(i||s)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(t,i,e,n),o=this._positionChanged(s,t),a=e||!g(s,i)||o;return a&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,r){const i=this.options;if("mouseout"===t.type)return[];if(!r)return e;const s=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:r,options:i}=this,s=tc[i.position].call(this,t,e);return!1!==s&&(n!==s.x||r!==s.y)}}mc.positioners=tc;var yc={id:"tooltip",_element:mc,positioners:tc,afterInit(t,e,n){n&&(t.tooltip=new mc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",n))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:r,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:r,beforeBody:r,beforeLabel:r,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return s(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex),n=e.controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex),n=e.controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:r,afterBody:r,beforeFooter:r,footer:r,afterFooter:r}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},vc=Object.freeze({__proto__:null,Decimation:fa,Filler:za,Legend:Ka,SubTitle:Za,Title:Ja,Tooltip:yc});const bc=(t,e,n,r)=>("string"===typeof e?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function wc(t,e,n,r){const i=t.indexOf(e);if(-1===i)return bc(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const _c=(t,e)=>null===t?null:et(Math.round(t),0,e);class xc extends Fi{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:r}of e)t[n]===r&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(s(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:wc(n,t,l(e,t),this._addedLabels),_c(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===t&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)r.push({value:s});return r}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Ic(t,e){const n=[],r=1e-14,{bounds:i,step:o,min:a,max:c,precision:u,count:l,maxTicks:h,maxDigits:d,includeBounds:f}=t,p=o||1,g=h-1,{min:m,max:y}=e,v=!s(a),b=!s(c),w=!s(l),_=(y-m)/(d+1);let x,I,E,T,S=U((y-m)/g/p)*p;if(S<r&&!v&&!b)return[{value:m},{value:y}];T=Math.ceil(y/S)-Math.floor(m/S),T>g&&(S=U(T*S/g/p)*p),s(u)||(x=Math.pow(10,u),S=Math.ceil(S*x)/x),"ticks"===i?(I=Math.floor(m/S)*S,E=Math.ceil(y/S)*S):(I=m,E=y),v&&b&&o&&H((c-a)/o,S/1e3)?(T=Math.round(Math.min((c-a)/S,h)),S=(c-a)/T,I=a,E=c):w?(I=v?a:I,E=b?c:E,T=l-1,S=(E-I)/T):(T=(E-I)/S,T=q(T,Math.round(T),S/1e3)?Math.round(T):Math.ceil(T));const k=Math.max(Y(S),Y(I));x=Math.pow(10,s(u)?k:u),I=Math.round(I*x)/x,E=Math.round(E*x)/x;let C=0;for(v&&(f&&I!==a?(n.push({value:a}),I<a&&C++,q(Math.round((I+C*S)*x)/x,a,Ec(a,_,t))&&C++):I<a&&C++);C<T;++C)n.push({value:Math.round((I+C*S)*x)/x});return b&&f&&E!==c?n.length&&q(n[n.length-1].value,c,Ec(c,_,t))?n[n.length-1].value=c:n.push({value:c}):b&&E!==c||n.push({value:E}),n}function Ec(t,e,{horizontal:n,minRotation:r}){const i=G(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}xc.id="category",xc.defaults={ticks:{callback:xc.prototype.getLabelForValue}};class Tc extends Fi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return s(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=t=>r=e?r:t,o=t=>i=n?i:t;if(t){const t=V(r),e=V(i);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(r===i){let e=1;(i>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(e=Math.abs(.05*i)),o(i+e),t||s(r-e)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:r}=t;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},i=this._range||this,s=Ic(r,i);return"ticks"===t.bounds&&W(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Jn(t,this.chart.options.locale,this.options.ticks.format)}}class Sc extends Tc{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=c(t)?t:0,this.max=c(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=G(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function kc(t){const e=t/Math.pow(10,Math.floor(B(t)));return 1===e}function Cc(t,e){const n=Math.floor(B(e.max)),r=Math.ceil(e.max/Math.pow(10,n)),i=[];let s=u(t.min,Math.pow(10,Math.floor(B(e.min)))),o=Math.floor(B(s)),a=Math.floor(s/Math.pow(10,o)),c=o<0?Math.pow(10,Math.abs(o)):1;do{i.push({value:s,major:kc(s)}),++a,10===a&&(a=1,++o,c=o>=0?1:c),s=Math.round(a*Math.pow(10,o)*c)/c}while(o<n||o===n&&a<r);const l=u(t.max,s);return i.push({value:l,major:kc(s)}),i}Sc.id="linear",Sc.defaults={ticks:{callback:vi.formatters.numeric}};class Ac extends Fi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=Tc.prototype.parse.apply(this,[t,e]);if(0!==n)return c(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=c(t)?Math.max(0,t):null,this.max=c(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,r=this.max;const i=e=>n=t?n:e,s=t=>r=e?r:t,o=(t,e)=>Math.pow(10,Math.floor(B(t))+e);n===r&&(n<=0?(i(1),s(10)):(i(o(n,-1)),s(o(r,1)))),n<=0&&i(o(r,-1)),r<=0&&s(o(n,1)),this._zero&&this.min!==this._suggestedMin&&n===o(this.min,0)&&i(o(n,-1)),this.min=n,this.max=r}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},n=Cc(e,this);return"ticks"===t.bounds&&W(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return void 0===t?"0":Jn(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=B(t),this._valueRange=B(this.max)-B(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(B(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Oc(t){const e=t.ticks;if(e.display&&t.display){const t=Ke(e.backdropPadding);return l(e.font&&e.font.size,Ee.font.size)+t.height}return 0}function Dc(t,e,n){return n=o(n)?n:[n],{w:ke(t,e.string,n),h:n.length*e.lineHeight}}function Rc(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function Pc(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?D/s:0;for(let c=0;c<s;c++){const s=o.setContext(t.getPointLabelContext(c));i[c]=s.padding;const u=t.getPointPosition(c,t.drawingArea+i[c],a),l=Ye(s.font),h=Dc(t.ctx,l,t._pointLabels[c]);r[c]=h;const d=Z(t.getIndexAngle(c)+a),f=Math.round(K(d)),p=Rc(f,u.x,h.w,0,180),g=Rc(f,u.y,h.h,90,270);Nc(n,e,d,p,g)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Mc(t,r,i)}function Nc(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,c=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(c=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function Mc(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,o=Oc(s)/2,a=t.drawingArea,c=s.pointLabels.centerPointLabels?D/i:0;for(let u=0;u<i;u++){const i=t.getPointPosition(u,a+o+n[u],c),s=Math.round(K(Z(i.angle+L))),l=e[u],h=jc(i.y,l.h,s),d=Lc(s),f=Fc(i.x,l.w,d);r.push({x:i.x,y:h,textAlign:d,left:f,top:h,right:f+l.w,bottom:h+l.h})}return r}function Lc(t){return 0===t||180===t?"center":t<180?"left":"right"}function Fc(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function jc(t,e,n){return 90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e),t}function Bc(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const e=r.setContext(t.getPointLabelContext(i)),o=Ye(e.font),{x:a,y:c,textAlign:u,left:l,top:h,right:d,bottom:f}=t._pointLabelItems[i],{backdropColor:p}=e;if(!s(p)){const t=Ge(e.borderRadius),r=Ke(e.backdropPadding);n.fillStyle=p;const i=l-r.left,s=h-r.top,o=d-l+r.width,a=f-h+r.height;Object.values(t).some((t=>0!==t))?(n.beginPath(),Ve(n,{x:i,y:s,w:o,h:a,radius:t}),n.fill()):n.fillRect(i,s,o,a)}Fe(n,t._pointLabels[i],a,c+o.lineHeight/2,o,{color:e.color,textAlign:u,textBaseline:"middle"})}}function Vc(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,R);else{let n=t.getPointPosition(0,e);i.moveTo(n.x,n.y);for(let s=1;s<r;s++)n=t.getPointPosition(s,e),i.lineTo(n.x,n.y)}}function Uc(t,e,n,r){const i=t.ctx,s=e.circular,{color:o,lineWidth:a}=e;!s&&!r||!o||!a||n<0||(i.save(),i.strokeStyle=o,i.lineWidth=a,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),Vc(t,n,s,r),i.closePath(),i.stroke(),i.restore())}function $c(t,e,n){return Xe(t,{label:n,index:e,type:"pointLabel"})}Ac.id="logarithmic",Ac.defaults={ticks:{callback:vi.formatters.logarithmic,major:{enabled:!0}}};class zc extends Tc{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ke(Oc(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=c(t)&&!isNaN(t)?t:0,this.max=c(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Oc(this.options))}generateTickLabels(t){Tc.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=f(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?Pc(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){const e=R/(this._pointLabels.length||1),n=this.options.startAngle||0;return Z(t*e+G(n))}getDistanceFromCenterForValue(t){if(s(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(s(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return $c(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const r=this.getIndexAngle(t)-L+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:r,bottom:i}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Vc(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:r}=e,i=this._pointLabels.length;let s,o,a;if(e.pointLabels.display&&Bc(this,i),r.display&&this.ticks.forEach(((t,e)=>{if(0!==e){o=this.getDistanceFromCenterForValue(t.value);const n=r.setContext(this.getContext(e-1));Uc(this,n,o,i)}})),n.display){for(t.save(),s=i-1;s>=0;s--){const r=n.setContext(this.getPointLabelContext(s)),{color:i,lineWidth:c}=r;c&&i&&(t.lineWidth=c,t.strokeStyle=i,t.setLineDash(r.borderDash),t.lineDashOffset=r.borderDashOffset,o=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),a=this.getPointPosition(s,o),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(a.x,a.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((r,o)=>{if(0===o&&!e.reverse)return;const a=n.setContext(this.getContext(o)),c=Ye(a.font);if(i=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=c.string,s=t.measureText(r.label).width,t.fillStyle=a.backdropColor;const e=Ke(a.backdropPadding);t.fillRect(-s/2-e.left,-i-c.size/2-e.top,s+e.width,c.size+e.height)}Fe(t,r.label,0,-i,c,{color:a.color})})),t.restore()}drawTitle(){}}zc.id="radialLinear",zc.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:vi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}},zc.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},zc.descriptors={angleLines:{_fallback:"grid"}};const qc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Hc=Object.keys(qc);function Wc(t,e){return t-e}function Gc(t,e){if(s(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts;let a=e;return"function"===typeof r&&(a=r(a)),c(a)||(a="string"===typeof r?n.parse(a,r):n.parse(a)),null===a?null:(i&&(a="week"!==i||!z(o)&&!0!==o?n.startOf(a,i):n.startOf(a,"isoWeek",o)),+a)}function Kc(t,e,n,r){const i=Hc.length;for(let s=Hc.indexOf(t);s<i-1;++s){const t=qc[Hc[s]],i=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(i*t.size))<=r)return Hc[s]}return Hc[i-1]}function Yc(t,e,n,r,i){for(let s=Hc.length-1;s>=Hc.indexOf(n);s--){const n=Hc[s];if(qc[n].common&&t._adapter.diff(i,r,n)>=e-1)return n}return Hc[n?Hc.indexOf(n):0]}function Qc(t){for(let e=Hc.indexOf(t)+1,n=Hc.length;e<n;++e)if(qc[Hc[e]].common)return Hc[e]}function Jc(t,e,n){if(n){if(n.length){const{lo:r,hi:i}=it(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}else t[e]=!0}function Xc(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,c;for(a=s;a<=o;a=+i.add(a,1,r))c=n[a],c>=0&&(e[c].major=!0);return e}function Zc(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return 0!==s&&n?Xc(t,r,i,n):r}class tu extends Fi{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){const n=t.time||(t.time={}),r=this._adapter=new Ki._date(t.adapters.date);r.init(e),w(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:Gc(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(r=Math.min(r,t.min)),o||isNaN(t.max)||(i=Math.max(i,t.max))}s&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),r=c(r)&&!isNaN(r)?r:+e.startOf(Date.now(),n),i=c(i)&&!isNaN(i)?i:+e.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=this.max,o=at(r,i,s);return this._unit=e.unit||(n.autoSkip?Kc(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):Yc(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?Qc(this._unit):void 0,this.initOffsets(r),t.reverse&&o.reverse(),Zc(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t){let e,n,r=0,i=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),r=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,n=this.getDecimalForValue(t[t.length-1]),i=1===t.length?n:(n-this.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;r=et(r,0,s),i=et(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,e=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||Kc(i.minUnit,e,n,this._getLabelCapacity(e)),o=l(i.stepSize,1),a="week"===s&&i.isoWeekday,c=z(a)||!0===a,u={};let h,d,f=e;if(c&&(f=+t.startOf(f,"isoWeek",a)),f=+t.startOf(f,c?"day":s),t.diff(n,e,s)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+s);const p="data"===r.ticks.source&&this.getDataTimestamps();for(h=f,d=0;h<n;h=+t.add(h,o,s),d++)Jc(u,h,p);return h!==n&&"ticks"!==r.bounds&&1!==d||Jc(u,h,p),Object.keys(u).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}_tickFormatFunction(t,e,n,r){const i=this.options,s=i.time.displayFormats,o=this._unit,a=this._majorUnit,c=o&&s[o],u=a&&s[a],l=n[e],h=a&&u&&l&&l.major,d=this._adapter.format(t,r||(h?u:c)),p=i.ticks.callback;return p?f(p,[d,e,n],this):d}generateTickLabels(t){let e,n,r;for(e=0,n=t.length;e<n;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,r=G(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*s,h:n*s+o*i}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,r=n[e.unit]||n.millisecond,i=this._tickFormatFunction(t,0,Zc(this,[t],this._majorUnit),r),s=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,e=r.length;t<e;++t)n=n.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const r=this.getLabels();for(e=0,n=r.length;e<n;++e)t.push(Gc(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ht(t.sort(Wc))}}function eu(t,e,n){let r,i,s,o,a=0,c=t.length-1;n?(e>=t[a].pos&&e<=t[c].pos&&({lo:a,hi:c}=st(t,"pos",e)),({pos:r,time:s}=t[a]),({pos:i,time:o}=t[c])):(e>=t[a].time&&e<=t[c].time&&({lo:a,hi:c}=st(t,"time",e)),({time:r,pos:s}=t[a]),({time:i,pos:o}=t[c]));const u=i-r;return u?s+(o-s)*(e-r)/u:s}tu.id="time",tu.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class nu extends tu{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=eu(e,this.min),this._tableRange=eu(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,r=[],i=[];let s,o,a,c,u;for(s=0,o=t.length;s<o;++s)c=t[s],c>=e&&c<=n&&r.push(c);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,o=r.length;s<o;++s)u=r[s+1],a=r[s-1],c=r[s],Math.round((u+a)/2)!==c&&i.push({time:c,pos:s/(o-1)});return i}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(eu(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return eu(this._table,n*this._tableRange+this._minPos,!0)}}nu.id="timeseries",nu.defaults=tu.defaults;var ru=Object.freeze({__proto__:null,CategoryScale:xc,LinearScale:Sc,LogarithmicScale:Ac,RadialLinearScale:zc,TimeScale:tu,TimeSeriesScale:nu});const iu=[Hi,aa,vc,ru]},3831:function(t,e,n){"use strict";n.d(e,{X3:function(){return _}});n(6699),n(2801);const r=(t,e)=>e.some((e=>t instanceof e));let i,s;function o(){return i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a(){return s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c=new WeakMap,u=new WeakMap,l=new WeakMap,h=new WeakMap,d=new WeakMap;function f(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(b(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&c.set(e,t)})).catch((()=>{})),d.set(e,t),e}function p(t){if(u.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)}));u.set(t,e)}let g={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return u.get(t);if("objectStoreNames"===e)return t.objectStoreNames||l.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return b(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t}};function m(t){g=t(g)}function y(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?a().includes(t)?function(...e){return t.apply(w(this),e),b(c.get(this))}:function(...e){return b(t.apply(w(this),e))}:function(e,...n){const r=t.call(w(this),e,...n);return l.set(r,e.sort?e.sort():[e]),b(r)}}function v(t){return"function"===typeof t?y(t):(t instanceof IDBTransaction&&p(t),r(t,o())?new Proxy(t,g):t)}function b(t){if(t instanceof IDBRequest)return f(t);if(h.has(t))return h.get(t);const e=v(t);return e!==t&&(h.set(t,e),d.set(e,t)),e}const w=t=>d.get(t);function _(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=b(o);return r&&o.addEventListener("upgradeneeded",(t=>{r(b(o.result),t.oldVersion,t.newVersion,b(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((t=>{s&&t.addEventListener("close",(()=>s())),i&&t.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}const x=["get","getKey","getAll","getAllKeys","count"],I=["put","add","delete","clear"],E=new Map;function T(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(E.get(e))return E.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=I.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!x.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),i&&s.done]))[0]};return E.set(e,s),s}m((t=>({...t,get:(e,n,r)=>T(e,n)||t.get(e,n,r),has:(e,n)=>!!T(e,n)||t.has(e,n)})))},1373:function(t,e,n){"use strict";function r(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map((function(t){t(n)})),(r=t.get("*"))&&r.slice().map((function(t){t(e,n)}))}}}n.d(e,{Z:function(){return r}})},4877:function(t,e,n){"use strict";n.d(e,{vz:function(){return Ca},LD:function(){return Aa},wW:function(){return Oa},uc:function(){return Da}});var r=n(741);function i(){this.__data__=[],this.size=0}var s=i;function o(t,e){return t===e||t!==t&&e!==e}var a=o;function c(t,e){var n=t.length;while(n--)if(a(t[n][0],e))return n;return-1}var u=c,l=Array.prototype,h=l.splice;function d(t){var e=this.__data__,n=u(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():h.call(e,n,1),--this.size,!0}var f=d;function p(t){var e=this.__data__,n=u(e,t);return n<0?void 0:e[n][1]}var g=p;function m(t){return u(this.__data__,t)>-1}var y=m;function v(t,e){var n=this.__data__,r=u(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var b=v;function w(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}w.prototype.clear=s,w.prototype["delete"]=f,w.prototype.get=g,w.prototype.has=y,w.prototype.set=b;var _=w;function x(){this.__data__=new _,this.size=0}var I=x;function E(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}var T=E;function S(t){return this.__data__.get(t)}var k=S;function C(t){return this.__data__.has(t)}var A=C,O="object"==typeof global&&global&&global.Object===Object&&global,D=O,R="object"==typeof self&&self&&self.Object===Object&&self,P=D||R||Function("return this")(),N=P,M=N.Symbol,L=M,F=Object.prototype,j=F.hasOwnProperty,B=F.toString,V=L?L.toStringTag:void 0;function U(t){var e=j.call(t,V),n=t[V];try{t[V]=void 0;var r=!0}catch(s){}var i=B.call(t);return r&&(e?t[V]=n:delete t[V]),i}var $=U,z=Object.prototype,q=z.toString;function H(t){return q.call(t)}var W=H,G="[object Null]",K="[object Undefined]",Y=L?L.toStringTag:void 0;function Q(t){return null==t?void 0===t?K:G:Y&&Y in Object(t)?$(t):W(t)}var J=Q;function X(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Z=X,tt="[object AsyncFunction]",et="[object Function]",nt="[object GeneratorFunction]",rt="[object Proxy]";function it(t){if(!Z(t))return!1;var e=J(t);return e==et||e==nt||e==tt||e==rt}var st=it,ot=N["__core-js_shared__"],at=ot,ct=function(){var t=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ut(t){return!!ct&&ct in t}var lt=ut,ht=Function.prototype,dt=ht.toString;function ft(t){if(null!=t){try{return dt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var pt=ft,gt=/[\\^$.*+?()[\]{}|]/g,mt=/^\[object .+?Constructor\]$/,yt=Function.prototype,vt=Object.prototype,bt=yt.toString,wt=vt.hasOwnProperty,_t=RegExp("^"+bt.call(wt).replace(gt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xt(t){if(!Z(t)||lt(t))return!1;var e=st(t)?_t:mt;return e.test(pt(t))}var It=xt;function Et(t,e){return null==t?void 0:t[e]}var Tt=Et;function St(t,e){var n=Tt(t,e);return It(n)?n:void 0}var kt=St,Ct=kt(N,"Map"),At=Ct,Ot=kt(Object,"create"),Dt=Ot;function Rt(){this.__data__=Dt?Dt(null):{},this.size=0}var Pt=Rt;function Nt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Mt=Nt,Lt="__lodash_hash_undefined__",Ft=Object.prototype,jt=Ft.hasOwnProperty;function Bt(t){var e=this.__data__;if(Dt){var n=e[t];return n===Lt?void 0:n}return jt.call(e,t)?e[t]:void 0}var Vt=Bt,Ut=Object.prototype,$t=Ut.hasOwnProperty;function zt(t){var e=this.__data__;return Dt?void 0!==e[t]:$t.call(e,t)}var qt=zt,Ht="__lodash_hash_undefined__";function Wt(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Dt&&void 0===e?Ht:e,this}var Gt=Wt;function Kt(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}Kt.prototype.clear=Pt,Kt.prototype["delete"]=Mt,Kt.prototype.get=Vt,Kt.prototype.has=qt,Kt.prototype.set=Gt;var Yt=Kt;function Qt(){this.size=0,this.__data__={hash:new Yt,map:new(At||_),string:new Yt}}var Jt=Qt;function Xt(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var Zt=Xt;function te(t,e){var n=t.__data__;return Zt(e)?n["string"==typeof e?"string":"hash"]:n.map}var ee=te;function ne(t){var e=ee(this,t)["delete"](t);return this.size-=e?1:0,e}var re=ne;function ie(t){return ee(this,t).get(t)}var se=ie;function oe(t){return ee(this,t).has(t)}var ae=oe;function ce(t,e){var n=ee(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var ue=ce;function le(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}le.prototype.clear=Jt,le.prototype["delete"]=re,le.prototype.get=se,le.prototype.has=ae,le.prototype.set=ue;var he=le,de=200;function fe(t,e){var n=this.__data__;if(n instanceof _){var r=n.__data__;if(!At||r.length<de-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new he(r)}return n.set(t,e),this.size=n.size,this}var pe=fe;function ge(t){var e=this.__data__=new _(t);this.size=e.size}ge.prototype.clear=I,ge.prototype["delete"]=T,ge.prototype.get=k,ge.prototype.has=A,ge.prototype.set=pe;var me=ge;function ye(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!1===e(t[n],n,t))break;return t}var ve=ye,be=function(){try{var t=kt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),we=be;function _e(t,e,n){"__proto__"==e&&we?we(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var xe=_e,Ie=Object.prototype,Ee=Ie.hasOwnProperty;function Te(t,e,n){var r=t[e];Ee.call(t,e)&&a(r,n)&&(void 0!==n||e in t)||xe(t,e,n)}var Se=Te;function ke(t,e,n,r){var i=!n;n||(n={});var s=-1,o=e.length;while(++s<o){var a=e[s],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),i?xe(n,a,c):Se(n,a,c)}return n}var Ce=ke;function Ae(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}var Oe=Ae;function De(t){return null!=t&&"object"==typeof t}var Re=De,Pe="[object Arguments]";function Ne(t){return Re(t)&&J(t)==Pe}var Me=Ne,Le=Object.prototype,Fe=Le.hasOwnProperty,je=Le.propertyIsEnumerable,Be=Me(function(){return arguments}())?Me:function(t){return Re(t)&&Fe.call(t,"callee")&&!je.call(t,"callee")},Ve=Be,Ue=Array.isArray,$e=Ue;function ze(){return!1}var qe=ze,He="object"==typeof exports&&exports&&!exports.nodeType&&exports,We=He&&"object"==typeof module&&module&&!module.nodeType&&module,Ge=We&&We.exports===He,Ke=Ge?N.Buffer:void 0,Ye=Ke?Ke.isBuffer:void 0,Qe=Ye||qe,Je=Qe,Xe=9007199254740991,Ze=/^(?:0|[1-9]\d*)$/;function tn(t,e){var n=typeof t;return e=null==e?Xe:e,!!e&&("number"==n||"symbol"!=n&&Ze.test(t))&&t>-1&&t%1==0&&t<e}var en=tn,nn=9007199254740991;function rn(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=nn}var sn=rn,on="[object Arguments]",an="[object Array]",cn="[object Boolean]",un="[object Date]",ln="[object Error]",hn="[object Function]",dn="[object Map]",fn="[object Number]",pn="[object Object]",gn="[object RegExp]",mn="[object Set]",yn="[object String]",vn="[object WeakMap]",bn="[object ArrayBuffer]",wn="[object DataView]",_n="[object Float32Array]",xn="[object Float64Array]",In="[object Int8Array]",En="[object Int16Array]",Tn="[object Int32Array]",Sn="[object Uint8Array]",kn="[object Uint8ClampedArray]",Cn="[object Uint16Array]",An="[object Uint32Array]",On={};function Dn(t){return Re(t)&&sn(t.length)&&!!On[J(t)]}On[_n]=On[xn]=On[In]=On[En]=On[Tn]=On[Sn]=On[kn]=On[Cn]=On[An]=!0,On[on]=On[an]=On[bn]=On[cn]=On[wn]=On[un]=On[ln]=On[hn]=On[dn]=On[fn]=On[pn]=On[gn]=On[mn]=On[yn]=On[vn]=!1;var Rn=Dn;function Pn(t){return function(e){return t(e)}}var Nn=Pn,Mn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ln=Mn&&"object"==typeof module&&module&&!module.nodeType&&module,Fn=Ln&&Ln.exports===Mn,jn=Fn&&D.process,Bn=function(){try{var t=Ln&&Ln.require&&Ln.require("util").types;return t||jn&&jn.binding&&jn.binding("util")}catch(e){}}(),Vn=Bn,Un=Vn&&Vn.isTypedArray,$n=Un?Nn(Un):Rn,zn=$n,qn=Object.prototype,Hn=qn.hasOwnProperty;function Wn(t,e){var n=$e(t),r=!n&&Ve(t),i=!n&&!r&&Je(t),s=!n&&!r&&!i&&zn(t),o=n||r||i||s,a=o?Oe(t.length,String):[],c=a.length;for(var u in t)!e&&!Hn.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||en(u,c))||a.push(u);return a}var Gn=Wn,Kn=Object.prototype;function Yn(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Kn;return t===n}var Qn=Yn;function Jn(t,e){return function(n){return t(e(n))}}var Xn=Jn,Zn=Xn(Object.keys,Object),tr=Zn,er=Object.prototype,nr=er.hasOwnProperty;function rr(t){if(!Qn(t))return tr(t);var e=[];for(var n in Object(t))nr.call(t,n)&&"constructor"!=n&&e.push(n);return e}var ir=rr;function sr(t){return null!=t&&sn(t.length)&&!st(t)}var or=sr;function ar(t){return or(t)?Gn(t):ir(t)}var cr=ar;function ur(t,e){return t&&Ce(e,cr(e),t)}var lr=ur;function hr(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}var dr=hr,fr=Object.prototype,pr=fr.hasOwnProperty;function gr(t){if(!Z(t))return dr(t);var e=Qn(t),n=[];for(var r in t)("constructor"!=r||!e&&pr.call(t,r))&&n.push(r);return n}var mr=gr;function yr(t){return or(t)?Gn(t,!0):mr(t)}var vr=yr;function br(t,e){return t&&Ce(e,vr(e),t)}var wr=br,_r="object"==typeof exports&&exports&&!exports.nodeType&&exports,xr=_r&&"object"==typeof module&&module&&!module.nodeType&&module,Ir=xr&&xr.exports===_r,Er=Ir?N.Buffer:void 0,Tr=Er?Er.allocUnsafe:void 0;function Sr(t,e){if(e)return t.slice();var n=t.length,r=Tr?Tr(n):new t.constructor(n);return t.copy(r),r}var kr=Sr;function Cr(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r)e[n]=t[n];return e}var Ar=Cr;function Or(t,e){var n=-1,r=null==t?0:t.length,i=0,s=[];while(++n<r){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var Dr=Or;function Rr(){return[]}var Pr=Rr,Nr=Object.prototype,Mr=Nr.propertyIsEnumerable,Lr=Object.getOwnPropertySymbols,Fr=Lr?function(t){return null==t?[]:(t=Object(t),Dr(Lr(t),(function(e){return Mr.call(t,e)})))}:Pr,jr=Fr;function Br(t,e){return Ce(t,jr(t),e)}var Vr=Br;function Ur(t,e){var n=-1,r=e.length,i=t.length;while(++n<r)t[i+n]=e[n];return t}var $r=Ur,zr=Xn(Object.getPrototypeOf,Object),qr=zr,Hr=Object.getOwnPropertySymbols,Wr=Hr?function(t){var e=[];while(t)$r(e,jr(t)),t=qr(t);return e}:Pr,Gr=Wr;function Kr(t,e){return Ce(t,Gr(t),e)}var Yr=Kr;function Qr(t,e,n){var r=e(t);return $e(t)?r:$r(r,n(t))}var Jr=Qr;function Xr(t){return Jr(t,cr,jr)}var Zr=Xr;function ti(t){return Jr(t,vr,Gr)}var ei=ti,ni=kt(N,"DataView"),ri=ni,ii=kt(N,"Promise"),si=ii,oi=kt(N,"Set"),ai=oi,ci=kt(N,"WeakMap"),ui=ci,li="[object Map]",hi="[object Object]",di="[object Promise]",fi="[object Set]",pi="[object WeakMap]",gi="[object DataView]",mi=pt(ri),yi=pt(At),vi=pt(si),bi=pt(ai),wi=pt(ui),_i=J;(ri&&_i(new ri(new ArrayBuffer(1)))!=gi||At&&_i(new At)!=li||si&&_i(si.resolve())!=di||ai&&_i(new ai)!=fi||ui&&_i(new ui)!=pi)&&(_i=function(t){var e=J(t),n=e==hi?t.constructor:void 0,r=n?pt(n):"";if(r)switch(r){case mi:return gi;case yi:return li;case vi:return di;case bi:return fi;case wi:return pi}return e});var xi=_i,Ii=Object.prototype,Ei=Ii.hasOwnProperty;function Ti(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ei.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Si=Ti,ki=N.Uint8Array,Ci=ki;function Ai(t){var e=new t.constructor(t.byteLength);return new Ci(e).set(new Ci(t)),e}var Oi=Ai;function Di(t,e){var n=e?Oi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Ri=Di,Pi=/\w*$/;function Ni(t){var e=new t.constructor(t.source,Pi.exec(t));return e.lastIndex=t.lastIndex,e}var Mi=Ni,Li=L?L.prototype:void 0,Fi=Li?Li.valueOf:void 0;function ji(t){return Fi?Object(Fi.call(t)):{}}var Bi=ji;function Vi(t,e){var n=e?Oi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Ui=Vi,$i="[object Boolean]",zi="[object Date]",qi="[object Map]",Hi="[object Number]",Wi="[object RegExp]",Gi="[object Set]",Ki="[object String]",Yi="[object Symbol]",Qi="[object ArrayBuffer]",Ji="[object DataView]",Xi="[object Float32Array]",Zi="[object Float64Array]",ts="[object Int8Array]",es="[object Int16Array]",ns="[object Int32Array]",rs="[object Uint8Array]",is="[object Uint8ClampedArray]",ss="[object Uint16Array]",os="[object Uint32Array]";function as(t,e,n){var r=t.constructor;switch(e){case Qi:return Oi(t);case $i:case zi:return new r(+t);case Ji:return Ri(t,n);case Xi:case Zi:case ts:case es:case ns:case rs:case is:case ss:case os:return Ui(t,n);case qi:return new r;case Hi:case Ki:return new r(t);case Wi:return Mi(t);case Gi:return new r;case Yi:return Bi(t)}}var cs=as,us=Object.create,ls=function(){function t(){}return function(e){if(!Z(e))return{};if(us)return us(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),hs=ls;function ds(t){return"function"!=typeof t.constructor||Qn(t)?{}:hs(qr(t))}var fs=ds,ps="[object Map]";function gs(t){return Re(t)&&xi(t)==ps}var ms=gs,ys=Vn&&Vn.isMap,vs=ys?Nn(ys):ms,bs=vs,ws="[object Set]";function _s(t){return Re(t)&&xi(t)==ws}var xs=_s,Is=Vn&&Vn.isSet,Es=Is?Nn(Is):xs,Ts=Es,Ss=1,ks=2,Cs=4,As="[object Arguments]",Os="[object Array]",Ds="[object Boolean]",Rs="[object Date]",Ps="[object Error]",Ns="[object Function]",Ms="[object GeneratorFunction]",Ls="[object Map]",Fs="[object Number]",js="[object Object]",Bs="[object RegExp]",Vs="[object Set]",Us="[object String]",$s="[object Symbol]",zs="[object WeakMap]",qs="[object ArrayBuffer]",Hs="[object DataView]",Ws="[object Float32Array]",Gs="[object Float64Array]",Ks="[object Int8Array]",Ys="[object Int16Array]",Qs="[object Int32Array]",Js="[object Uint8Array]",Xs="[object Uint8ClampedArray]",Zs="[object Uint16Array]",to="[object Uint32Array]",eo={};function no(t,e,n,r,i,s){var o,a=e&Ss,c=e&ks,u=e&Cs;if(n&&(o=i?n(t,r,i,s):n(t)),void 0!==o)return o;if(!Z(t))return t;var l=$e(t);if(l){if(o=Si(t),!a)return Ar(t,o)}else{var h=xi(t),d=h==Ns||h==Ms;if(Je(t))return kr(t,a);if(h==js||h==As||d&&!i){if(o=c||d?{}:fs(t),!a)return c?Yr(t,wr(o,t)):Vr(t,lr(o,t))}else{if(!eo[h])return i?t:{};o=cs(t,h,a)}}s||(s=new me);var f=s.get(t);if(f)return f;s.set(t,o),Ts(t)?t.forEach((function(r){o.add(no(r,e,n,r,t,s))})):bs(t)&&t.forEach((function(r,i){o.set(i,no(r,e,n,i,t,s))}));var p=u?c?ei:Zr:c?vr:cr,g=l?void 0:p(t);return ve(g||t,(function(r,i){g&&(i=r,r=t[i]),Se(o,i,no(r,e,n,i,t,s))})),o}eo[As]=eo[Os]=eo[qs]=eo[Hs]=eo[Ds]=eo[Rs]=eo[Ws]=eo[Gs]=eo[Ks]=eo[Ys]=eo[Qs]=eo[Ls]=eo[Fs]=eo[js]=eo[Bs]=eo[Vs]=eo[Us]=eo[$s]=eo[Js]=eo[Xs]=eo[Zs]=eo[to]=!0,eo[Ps]=eo[Ns]=eo[zs]=!1;var ro=no,io=1,so=4;function oo(t){return ro(t,io|so)}var ao=oo,co="__lodash_hash_undefined__";function uo(t){return this.__data__.set(t,co),this}var lo=uo;function ho(t){return this.__data__.has(t)}var fo=ho;function po(t){var e=-1,n=null==t?0:t.length;this.__data__=new he;while(++e<n)this.add(t[e])}po.prototype.add=po.prototype.push=lo,po.prototype.has=fo;var go=po;function mo(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}var yo=mo;function vo(t,e){return t.has(e)}var bo=vo,wo=1,_o=2;function xo(t,e,n,r,i,s){var o=n&wo,a=t.length,c=e.length;if(a!=c&&!(o&&c>a))return!1;var u=s.get(t),l=s.get(e);if(u&&l)return u==e&&l==t;var h=-1,d=!0,f=n&_o?new go:void 0;s.set(t,e),s.set(e,t);while(++h<a){var p=t[h],g=e[h];if(r)var m=o?r(g,p,h,e,t,s):r(p,g,h,t,e,s);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!yo(e,(function(t,e){if(!bo(f,e)&&(p===t||i(p,t,n,r,s)))return f.push(e)}))){d=!1;break}}else if(p!==g&&!i(p,g,n,r,s)){d=!1;break}}return s["delete"](t),s["delete"](e),d}var Io=xo;function Eo(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}var To=Eo;function So(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var ko=So,Co=1,Ao=2,Oo="[object Boolean]",Do="[object Date]",Ro="[object Error]",Po="[object Map]",No="[object Number]",Mo="[object RegExp]",Lo="[object Set]",Fo="[object String]",jo="[object Symbol]",Bo="[object ArrayBuffer]",Vo="[object DataView]",Uo=L?L.prototype:void 0,$o=Uo?Uo.valueOf:void 0;function zo(t,e,n,r,i,s,o){switch(n){case Vo:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Bo:return!(t.byteLength!=e.byteLength||!s(new Ci(t),new Ci(e)));case Oo:case Do:case No:return a(+t,+e);case Ro:return t.name==e.name&&t.message==e.message;case Mo:case Fo:return t==e+"";case Po:var c=To;case Lo:var u=r&Co;if(c||(c=ko),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;r|=Ao,o.set(t,e);var h=Io(c(t),c(e),r,i,s,o);return o["delete"](t),h;case jo:if($o)return $o.call(t)==$o.call(e)}return!1}var qo=zo,Ho=1,Wo=Object.prototype,Go=Wo.hasOwnProperty;function Ko(t,e,n,r,i,s){var o=n&Ho,a=Zr(t),c=a.length,u=Zr(e),l=u.length;if(c!=l&&!o)return!1;var h=c;while(h--){var d=a[h];if(!(o?d in e:Go.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var g=!0;s.set(t,e),s.set(e,t);var m=o;while(++h<c){d=a[h];var y=t[d],v=e[d];if(r)var b=o?r(v,y,d,e,t,s):r(y,v,d,t,e,s);if(!(void 0===b?y===v||i(y,v,n,r,s):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var w=t.constructor,_=e.constructor;w==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(g=!1)}return s["delete"](t),s["delete"](e),g}var Yo=Ko,Qo=1,Jo="[object Arguments]",Xo="[object Array]",Zo="[object Object]",ta=Object.prototype,ea=ta.hasOwnProperty;function na(t,e,n,r,i,s){var o=$e(t),a=$e(e),c=o?Xo:xi(t),u=a?Xo:xi(e);c=c==Jo?Zo:c,u=u==Jo?Zo:u;var l=c==Zo,h=u==Zo,d=c==u;if(d&&Je(t)){if(!Je(e))return!1;o=!0,l=!1}if(d&&!l)return s||(s=new me),o||zn(t)?Io(t,e,n,r,i,s):qo(t,e,c,n,r,i,s);if(!(n&Qo)){var f=l&&ea.call(t,"__wrapped__"),p=h&&ea.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?e.value():e;return s||(s=new me),i(g,m,n,r,s)}}return!!d&&(s||(s=new me),Yo(t,e,n,r,i,s))}var ra=na;function ia(t,e,n,r,i){return t===e||(null==t||null==e||!Re(t)&&!Re(e)?t!==t&&e!==e:ra(t,e,n,r,ia,i))}var sa=ia;function oa(t,e){return sa(t,e)}var aa=oa,ca="[object Map]",ua="[object Set]",la=Object.prototype,ha=la.hasOwnProperty;function da(t){if(null==t)return!0;if(or(t)&&($e(t)||"string"==typeof t||"function"==typeof t.splice||Je(t)||zn(t)||Ve(t)))return!t.length;var e=xi(t);if(e==ca||e==ua)return!t.size;if(Qn(t))return!ir(t).length;for(var n in t)if(ha.call(t,n))return!1;return!0}var fa=da,pa=n(3396),ga=n(4870),ma=Object.defineProperty,ya=Object.defineProperties,va=Object.getOwnPropertyDescriptors,ba=Object.getOwnPropertySymbols,wa=Object.prototype.hasOwnProperty,_a=Object.prototype.propertyIsEnumerable,xa=(t,e,n)=>e in t?ma(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ia=(t,e)=>{for(var n in e||(e={}))wa.call(e,n)&&xa(t,n,e[n]);if(ba)for(var n of ba(e))_a.call(e,n)&&xa(t,n,e[n]);return t},Ea=(t,e)=>ya(t,va(e));function Ta(t){return(t.match(/[a-zA-Z0-9]+/g)||[]).map((t=>`${t.charAt(0).toUpperCase()}${t.slice(1)}`)).join("")}var Sa=(t,e)=>{const n={chartData:{type:Object,required:!0},options:{type:Object,required:!1},chartId:{default:t,type:String},width:{default:400,type:Number},height:{default:400,type:Number},cssClasses:{type:String,default:""},styles:{type:Object},plugins:{type:Array,default:()=>[]},onLabelsUpdate:{type:Function},onChartUpdate:{type:Function},onChartDestroy:{type:Function},onChartRender:{type:Function}},i=Ta(t);return(0,pa.aZ)({name:i,props:n,emits:{"labels:update":()=>!0,"chart:update":t=>!0,"chart:destroy":()=>!0,"chart:render":t=>!0},setup(t,{emit:n,expose:s}){const o=(0,ga.iH)(null),a=`${t.chartId}`;let c=(0,ga.XI)(null);function u(t){if(c.value){let e=c.value;aa(t.labels,c.value.data.labels)||(e.data.labels=t.labels,h()),aa(t.datasets,c.value.data.datasets)||t.datasets.forEach(((t,n)=>{var r,i;if(fa(t))e.data.datasets=[];else{const s=ao(e.data),o=Object.keys(null!=(i=null==(r=s.datasets)?void 0:r[n])?i:{}),a=Object.keys(t),c=o.filter((t=>"_meta"!==t&&-1===a.indexOf(t)));c.forEach((t=>{e.data.datasets[n]&&delete e.data.datasets[n][t]}));for(const r in t){const i=ao(t[r]);let s=e.data.datasets[n];s||(e.data.datasets[n]={}),t.hasOwnProperty(r)&&null!=i&&e&&(e.data.datasets[n][r]=i)}}})),f()}else c.value&&p(),l()}function l(){o.value?(c.value=new r.kL(o.value,{data:ao(t.chartData),type:e,options:ao(t.options),plugins:t.plugins}),d()):console.error(`Error on component ${i}, canvas cannot be rendered. Check if the render appends server-side`)}function h(){n("labels:update"),t.onLabelsUpdate&&t.onLabelsUpdate()}function d(){c.value&&(n("chart:render",c.value),t.onChartRender&&t.onChartRender(c.value))}function f(){c.value&&(c.value.update(),n("chart:update",c.value),t.onChartUpdate&&t.onChartUpdate(c.value))}function p(){c.value&&c.value.destroy(),n("chart:destroy"),t.onChartDestroy&&t.onChartDestroy()}return(0,pa.YP)((()=>t.chartData),u,{deep:!0}),(0,pa.YP)((()=>t.options),(t=>{c.value&&t&&(c.value.options=ao(t),f())}),{deep:!0}),(0,pa.bv)(l),(0,pa.Jd)((()=>{c.value&&c.value.destroy()})),s({canvasRef:o,renderChart:l,chartInstance:c,canvasId:a,update:f}),()=>(0,pa.h)("div",{style:Ea(Ia({maxWidth:"100%"},t.styles),{position:"relative"}),class:t.cssClasses},[(0,pa.h)("canvas",{style:{maxWidth:"100%",maxHeight:"100%"},id:a,width:t.width,height:t.height,ref:o})])}})},ka=t=>e=>{const n=`${t}ChartRef`,r={[n]:(0,ga.iH)()},i=(0,pa.Fl)((()=>Ea(Ia(Ia(Ia({},e),e.jsx&&{ref:r[n]}),!e.jsx&&{ref:n}),{chartData:(0,ga.SU)(e.chartData),options:(0,ga.SU)(e.options)})));function s(){var e;const i=r[n].value;i?null==(e=null==i?void 0:i.chartInstance.value)||e.update():console.warn(`No chartInstance to update (use${Ta(t)}Chart)`)}return{[`${t}ChartProps`]:i,[n]:r[n],update:s}},Ca=Sa("bar-chart","bar"),Aa=Sa("doughnut-chart","doughnut"),Oa=Sa("line-chart","line"),Da=Sa("pie-chart","pie");Sa("polar-chart","polarArea"),Sa("radar-chart","radar"),Sa("bubble-chart","bubble"),Sa("scatter-chart","scatter"),ka("doughnut"),ka("bar"),ka("line"),ka("pie"),ka("polarArea"),ka("radar"),ka("bubble"),ka("scatter")},4677:function(t,e,n){"use strict";n.d(e,{ZP:function(){return Ht},pm:function(){return qt}});var r=n(3396),i=n(9242),s=n(4870),o=n(7139),a=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,h=(t,e,n)=>e in t?a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,d=(t,e)=>{for(var n in e||(e={}))u.call(e,n)&&h(t,n,e[n]);if(c)for(var n of c(e))l.call(e,n)&&h(t,n,e[n]);return t},f=t=>"function"===typeof t,p=t=>"string"===typeof t,g=t=>p(t)&&t.trim().length>0,m=t=>"number"===typeof t,y=t=>"undefined"===typeof t,v=t=>"object"===typeof t&&null!==t,b=t=>T(t,"tag")&&g(t.tag),w=t=>window.TouchEvent&&t instanceof TouchEvent,_=t=>T(t,"component")&&I(t.component),x=t=>f(t)||v(t),I=t=>!y(t)&&(p(t)||x(t)||_(t)),E=t=>v(t)&&["height","width","right","left","top","bottom"].every((e=>m(t[e]))),T=(t,e)=>(v(t)||f(t))&&e in t,S=(t=>()=>t++)(0);function k(t){return w(t)?t.targetTouches[0].clientX:t.clientX}function C(t){return w(t)?t.targetTouches[0].clientY:t.clientY}var A,O,D,R=t=>{y(t.remove)?t.parentNode&&t.parentNode.removeChild(t):t.remove()},P=t=>_(t)?P(t.component):b(t)?(0,r.aZ)({render(){return t}}):"string"===typeof t?t:(0,s.IU)((0,s.SU)(t)),N=t=>{if("string"===typeof t)return t;const e=T(t,"props")&&v(t.props)?t.props:{},n=T(t,"listeners")&&v(t.listeners)?t.listeners:{};return{component:P(t),props:e,listeners:n}},M=()=>"undefined"!==typeof window,L=class{constructor(){this.allHandlers={}}getHandlers(t){return this.allHandlers[t]||[]}on(t,e){const n=this.getHandlers(t);n.push(e),this.allHandlers[t]=n}off(t,e){const n=this.getHandlers(t);n.splice(n.indexOf(e)>>>0,1)}emit(t,e){const n=this.getHandlers(t);n.forEach((t=>t(e)))}},F=t=>["on","off","emit"].every((e=>T(t,e)&&f(t[e])));(function(t){t["SUCCESS"]="success",t["ERROR"]="error",t["WARNING"]="warning",t["INFO"]="info",t["DEFAULT"]="default"})(A||(A={})),function(t){t["TOP_LEFT"]="top-left",t["TOP_CENTER"]="top-center",t["TOP_RIGHT"]="top-right",t["BOTTOM_LEFT"]="bottom-left",t["BOTTOM_CENTER"]="bottom-center",t["BOTTOM_RIGHT"]="bottom-right"}(O||(O={})),function(t){t["ADD"]="add",t["DISMISS"]="dismiss",t["UPDATE"]="update",t["CLEAR"]="clear",t["UPDATE_DEFAULTS"]="update_defaults"}(D||(D={}));var j="Vue-Toastification",B={type:{type:String,default:A.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},V={type:B.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},U={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:B.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},$={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},z={transition:{type:[Object,String],default:`${j}__bounce`}},q={position:{type:String,default:O.TOP_RIGHT},draggable:B.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:B.trueBoolean,pauseOnHover:B.trueBoolean,closeOnClick:B.trueBoolean,timeout:$.timeout,hideProgressBar:$.hideProgressBar,toastClassName:B.classNames,bodyClassName:B.classNames,icon:V.customIcon,closeButton:U.component,closeButtonClassName:U.classNames,showCloseButtonOnHover:U.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new L}},H={id:{type:[String,Number],required:!0,default:0},type:B.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},W={container:{type:[Object,Function],default:()=>document.body},newestOnTop:B.trueBoolean,maxToasts:{type:Number,default:20},transition:z.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:t=>t},filterToasts:{type:Function,default:t=>t},containerClassName:B.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},G={CORE_TOAST:q,TOAST:H,CONTAINER:W,PROGRESS_BAR:$,ICON:V,TRANSITION:z,CLOSE_BUTTON:U},K=(0,r.aZ)({name:"VtProgressBar",props:G.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${j}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick((()=>this.hasClass=!0))}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Y(t,e){return(0,r.wg)(),(0,r.iD)("div",{style:(0,o.j5)(t.style),class:(0,o.C_)(t.cpClass)},null,6)}K.render=Y;var Q=K,J=(0,r.aZ)({name:"VtCloseButton",props:G.CLOSE_BUTTON,computed:{buttonComponent(){return!1!==this.component?P(this.component):"button"},classes(){const t=[`${j}__close-button`];return this.showOnHover&&t.push("show-on-hover"),t.concat(this.classNames)}}}),X=(0,r.Uk)(" × ");function Z(t,e){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.buttonComponent),(0,r.dG)({"aria-label":t.ariaLabel,class:t.classes},t.$attrs),{default:(0,r.w5)((()=>[X])),_:1},16,["aria-label","class"])}J.render=Z;var tt=J,et={},nt={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},rt=(0,r._)("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),it=[rt];function st(t,e){return(0,r.wg)(),(0,r.iD)("svg",nt,it)}et.render=st;var ot=et,at={},ct={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ut=(0,r._)("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),lt=[ut];function ht(t,e){return(0,r.wg)(),(0,r.iD)("svg",ct,lt)}at.render=ht;var dt=at,ft={},pt={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},gt=(0,r._)("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),mt=[gt];function yt(t,e){return(0,r.wg)(),(0,r.iD)("svg",pt,mt)}ft.render=yt;var vt=ft,bt={},wt={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},_t=(0,r._)("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),xt=[_t];function It(t,e){return(0,r.wg)(),(0,r.iD)("svg",wt,xt)}bt.render=It;var Et=bt,Tt=(0,r.aZ)({name:"VtIcon",props:G.ICON,computed:{customIconChildren(){return T(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return p(this.customIcon)?this.trimValue(this.customIcon):T(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return T(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:I(this.customIcon)?P(this.customIcon):this.iconTypeComponent},iconTypeComponent(){const t={[A.DEFAULT]:dt,[A.INFO]:dt,[A.SUCCESS]:ot,[A.ERROR]:Et,[A.WARNING]:vt};return t[this.type]},iconClasses(){const t=[`${j}__icon`];return this.hasCustomIcon?t.concat(this.customIconClass):t}},methods:{trimValue(t,e=""){return g(t)?t.trim():e}}});function St(t,e){return(0,r.wg)(),(0,r.j4)((0,r.LL)(t.component),{class:(0,o.C_)(t.iconClasses)},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(t.customIconChildren),1)])),_:1},8,["class"])}Tt.render=St;var kt=Tt,Ct=(0,r.aZ)({name:"VtToast",components:{ProgressBar:Q,CloseButton:tt,Icon:kt},inheritAttrs:!1,props:Object.assign({},G.CORE_TOAST,G.TOAST),data(){const t={isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}};return t},computed:{classes(){const t=[`${j}__toast`,`${j}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&t.push("disable-transition"),this.rtl&&t.push(`${j}__toast--rtl`),t},bodyClasses(){const t=[`${j}__toast-${p(this.content)?"body":"component-body"}`].concat(this.bodyClassName);return t},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return E(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:T,getVueComponentFromObj:P,closeToast(){this.eventBus.emit(D.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(this.beingDragged&&this.dragStart!==this.dragPos.x||this.closeToast())},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const t=this.$el;t.addEventListener("touchstart",this.onDragStart,{passive:!0}),t.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const t=this.$el;t.removeEventListener("touchstart",this.onDragStart),t.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(t){this.beingDragged=!0,this.dragPos={x:k(t),y:C(t)},this.dragStart=k(t),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(t){this.beingDragged&&(t.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:k(t),y:C(t)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick((()=>this.closeToast()))):setTimeout((()=>{this.beingDragged=!1,E(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0})))}}}),At=["role"];function Ot(t,e){const n=(0,r.up)("Icon"),s=(0,r.up)("CloseButton"),a=(0,r.up)("ProgressBar");return(0,r.wg)(),(0,r.iD)("div",{class:(0,o.C_)(t.classes),style:(0,o.j5)(t.draggableStyle),onClick:e[0]||(e[0]=(...e)=>t.clickHandler&&t.clickHandler(...e)),onMouseenter:e[1]||(e[1]=(...e)=>t.hoverPause&&t.hoverPause(...e)),onMouseleave:e[2]||(e[2]=(...e)=>t.hoverPlay&&t.hoverPlay(...e))},[t.icon?((0,r.wg)(),(0,r.j4)(n,{key:0,"custom-icon":t.icon,type:t.type},null,8,["custom-icon","type"])):(0,r.kq)("v-if",!0),(0,r._)("div",{role:t.accessibility.toastRole||"alert",class:(0,o.C_)(t.bodyClasses)},["string"===typeof t.content?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)((0,o.zw)(t.content),1)],2112)):((0,r.wg)(),(0,r.j4)((0,r.LL)(t.getVueComponentFromObj(t.content)),(0,r.dG)({key:1,"toast-id":t.id},t.hasProp(t.content,"props")?t.content.props:{},(0,r.mx)(t.hasProp(t.content,"listeners")?t.content.listeners:{}),{onCloseToast:t.closeToast}),null,16,["toast-id","onCloseToast"]))],10,At),t.closeButton?((0,r.wg)(),(0,r.j4)(s,{key:1,component:t.closeButton,"class-names":t.closeButtonClassName,"show-on-hover":t.showCloseButtonOnHover,"aria-label":t.accessibility.closeButtonLabel,onClick:(0,i.iM)(t.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):(0,r.kq)("v-if",!0),t.timeout?((0,r.wg)(),(0,r.j4)(a,{key:2,"is-running":t.isRunning,"hide-progress-bar":t.hideProgressBar,timeout:t.timeout,onCloseToast:t.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):(0,r.kq)("v-if",!0)],38)}Ct.render=Ot;var Dt=Ct,Rt=(0,r.aZ)({name:"VtTransition",props:G.TRANSITION,emits:["leave"],methods:{hasProp:T,leave(t){t instanceof HTMLElement&&(t.style.left=t.offsetLeft+"px",t.style.top=t.offsetTop+"px",t.style.width=getComputedStyle(t).width,t.style.position="absolute")}}});function Pt(t,e){return(0,r.wg)(),(0,r.j4)(i.W3,{tag:"div","enter-active-class":t.transition.enter?t.transition.enter:`${t.transition}-enter-active`,"move-class":t.transition.move?t.transition.move:`${t.transition}-move`,"leave-active-class":t.transition.leave?t.transition.leave:`${t.transition}-leave-active`,onLeave:t.leave},{default:(0,r.w5)((()=>[(0,r.WI)(t.$slots,"default")])),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}Rt.render=Pt;var Nt=Rt,Mt=(0,r.aZ)({name:"VueToastification",devtools:{hide:!0},components:{Toast:Dt,VtTransition:Nt},props:Object.assign({},G.CORE_TOAST,G.CONTAINER,G.TRANSITION),data(){const t={count:0,positions:Object.values(O),toasts:{},defaults:{}};return t},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const t=this.eventBus;t.on(D.ADD,this.addToast),t.on(D.CLEAR,this.clearToasts),t.on(D.DISMISS,this.dismissToast),t.on(D.UPDATE,this.updateToast),t.on(D.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(t){f(t)&&(t=await t()),R(this.$el),t.appendChild(this.$el)},setToast(t){y(t.id)||(this.toasts[t.id]=t)},addToast(t){t.content=N(t.content);const e=Object.assign({},this.defaults,t.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[t.type],t),n=this.defaults.filterBeforeCreate(e,this.toastArray);n&&this.setToast(n)},dismissToast(t){const e=this.toasts[t];y(e)||y(e.onClose)||e.onClose(),delete this.toasts[t]},clearToasts(){Object.keys(this.toasts).forEach((t=>{this.dismissToast(t)}))},getPositionToasts(t){const e=this.filteredToasts.filter((e=>e.position===t)).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?e.reverse():e},updateDefaults(t){y(t.container)||this.setup(t.container),this.defaults=Object.assign({},this.defaults,t)},updateToast({id:t,options:e,create:n}){this.toasts[t]?(e.timeout&&e.timeout===this.toasts[t].timeout&&e.timeout++,this.setToast(Object.assign({},this.toasts[t],e))):n&&this.addToast(Object.assign({},{id:t},e))},getClasses(t){const e=[`${j}__container`,t];return e.concat(this.defaults.containerClassName)}}});function Lt(t,e){const n=(0,r.up)("Toast"),i=(0,r.up)("VtTransition");return(0,r.wg)(),(0,r.iD)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.positions,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e},[(0,r.Wm)(i,{transition:t.defaults.transition,class:(0,o.C_)(t.getClasses(e))},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.getPositionToasts(e),(t=>((0,r.wg)(),(0,r.j4)(n,(0,r.dG)({key:t.id},t),null,16)))),128))])),_:2},1032,["transition","class"])])))),128))])}Mt.render=Lt;var Ft=Mt,jt=(t={},e=!0)=>{const n=t.eventBus=t.eventBus||new L;e&&(0,r.Y3)((()=>{const e=(0,i.ri)(Ft,d({},t)),n=e.mount(document.createElement("div")),r=t.onMounted;if(y(r)||r(n,e),t.shareAppContext){const n=t.shareAppContext;!0===n?console.warn(`[${j}] App to share context with was not provided.`):(e._context.components=n._context.components,e._context.directives=n._context.directives,e._context.mixins=n._context.mixins,e._context.provides=n._context.provides,e.config.globalProperties=n.config.globalProperties)}}));const s=(t,e)=>{const r=Object.assign({},{id:S(),type:A.DEFAULT},e,{content:t});return n.emit(D.ADD,r),r.id};function o(t,{content:e,options:r},i=!1){const s=Object.assign({},r,{content:e});n.emit(D.UPDATE,{id:t,options:s,create:i})}return s.clear=()=>n.emit(D.CLEAR,void 0),s.updateDefaults=t=>{n.emit(D.UPDATE_DEFAULTS,t)},s.dismiss=t=>{n.emit(D.DISMISS,t)},s.update=o,s.success=(t,e)=>s(t,Object.assign({},e,{type:A.SUCCESS})),s.info=(t,e)=>s(t,Object.assign({},e,{type:A.INFO})),s.error=(t,e)=>s(t,Object.assign({},e,{type:A.ERROR})),s.warning=(t,e)=>s(t,Object.assign({},e,{type:A.WARNING})),s},Bt=()=>{const t=()=>console.warn(`[${j}] This plugin does not support SSR!`);return new Proxy(t,{get(){return t}})};function Vt(t){return M()?F(t)?jt({eventBus:t},!1):jt(t,!0):Bt()}var Ut=Symbol("VueToastification"),$t=new L,zt=(t,e)=>{!0===(null==e?void 0:e.shareAppContext)&&(e.shareAppContext=t);const n=Vt(d({eventBus:$t},e));t.provide(Ut,n)},qt=t=>{if(t)return Vt(t);const e=(0,r.FN)()?(0,r.f3)(Ut,void 0):void 0;return e||Vt($t)},Ht=zt}}]);
//# sourceMappingURL=chunk-vendors.ff41c275.js.map