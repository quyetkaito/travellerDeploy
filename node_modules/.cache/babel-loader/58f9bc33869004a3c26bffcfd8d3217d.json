{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2f90d1b6\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"m-popup-box h-625 w-800\"\n};\nconst _hoisted_2 = {\n  class: \"m-popup-header\"\n};\nconst _hoisted_3 = {\n  class: \"m-popup-header__left\"\n};\nconst _hoisted_4 = {\n  class: \"title-container\"\n};\nconst _hoisted_5 = {\n  class: \"popup-title-text\"\n};\nconst _hoisted_6 = {\n  class: \"m-popup-header__right\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"position\": \"relative\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"m-icon m-icon-24 m-help__nav\",\n  style: {\n    \"margin-right\": \"6px\"\n  }\n}), /*#__PURE__*/_createCommentVNode(\" <ms-tooltip class=\\\"hide\\\" text=\\\"Giúp (F1)\\\" :isTop=\\\"true\\\" /> \")], -1\n/* HOISTED */\n));\n\nconst _hoisted_8 = {\n  style: {\n    \"position\": \"relative\"\n  }\n};\nconst _hoisted_9 = {\n  class: \"m-popup-form\"\n};\nconst _hoisted_10 = {\n  class: \"form-container\"\n};\nconst _hoisted_11 = {\n  class: \"form-detail\"\n};\nconst _hoisted_12 = {\n  class: \"general-info\"\n};\nconst _hoisted_13 = {\n  class: \"info-left\"\n};\nconst _hoisted_14 = {\n  class: \"m-form-field\"\n};\nconst _hoisted_15 = {\n  class: \"form-item\",\n  style: {\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_16 = {\n  class: \"m-form-field\"\n};\nconst _hoisted_17 = {\n  class: \"form-item\",\n  style: {\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_18 = {\n  class: \"m-form-field\"\n};\nconst _hoisted_19 = {\n  class: \"form-item\",\n  style: {\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_20 = {\n  class: \"info-right\"\n};\nconst _hoisted_21 = {\n  class: \"m-form-field\"\n};\nconst _hoisted_22 = {\n  class: \"form-item\",\n  style: {\n    \"padding-right\": \"6px\",\n    \"width\": \"40%\"\n  }\n};\nconst _hoisted_23 = {\n  class: \"form-item\",\n  style: {\n    \"width\": \"60%\",\n    \"padding-left\": \"6px\"\n  }\n};\nconst _hoisted_24 = {\n  class: \"m-row m-field-gender\"\n};\nconst _hoisted_25 = {\n  class: \"m-form-field\"\n};\nconst _hoisted_26 = {\n  class: \"form-item\",\n  style: {\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_27 = {\n  class: \"m-form-field\"\n};\nconst _hoisted_28 = {\n  class: \"form-item\",\n  style: {\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_29 = {\n  class: \"contact-info\"\n};\nconst _hoisted_30 = {\n  class: \"m-form-field\"\n};\nconst _hoisted_31 = {\n  class: \"form-item\",\n  style: {\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_32 = {\n  class: \"m-form-field\"\n};\nconst _hoisted_33 = {\n  class: \"form-item\"\n};\nconst _hoisted_34 = {\n  class: \"footer-container\"\n};\nconst _hoisted_35 = {\n  class: \"footer-line\"\n};\nconst _hoisted_36 = {\n  key: 0,\n  class: \"group-btn-popup align-right\"\n};\nconst _hoisted_37 = {\n  style: {\n    \"position\": \"relative\"\n  }\n};\nconst _hoisted_38 = {\n  style: {\n    \"position\": \"relative\"\n  }\n};\nconst _hoisted_39 = {\n  class: \"m-btn btn-multi-add tooltip\",\n  style: {\n    \"margin-left\": \"16px\"\n  }\n};\nconst _hoisted_40 = {\n  key: 1,\n  class: \"group-btn-popup align-right\"\n};\nconst _hoisted_41 = {\n  style: {\n    \"position\": \"relative\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_m_input = _resolveComponent(\"m-input\");\n\n  const _component_m_label = _resolveComponent(\"m-label\");\n\n  const _component_v_date_picker = _resolveComponent(\"v-date-picker\");\n\n  const _component_m_radio = _resolveComponent(\"m-radio\");\n\n  const _component_v_multiselect = _resolveComponent(\"v-multiselect\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" Dialog thêm mới \"), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"m-popup m-add-popup\", {\n      show: $data.isShow\n    }]),\n    ref: \"dialog\"\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, _toDisplayString(_ctx.formTitle), 1\n  /* TEXT */\n  )])]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", {\n    class: \"m-icon m-icon-24 m-close\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.buttonClick('Close'))\n  }), _createCommentVNode(\" <ms-tooltip class=\\\"hide\\\" text=\\\"Đóng (ESC)\\\" :isTop=\\\"true\\\" /> \")])])]), _createCommentVNode(\" Header end\"), _createCommentVNode(\" Form \"), _createElementVNode(\"div\", _hoisted_9, [_createCommentVNode(\" Detail \"), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createVNode(_component_m_input, {\n    labelText: _ctx.$t('EmailLogin'),\n    modelValue: $data.currentItem.email,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.currentItem.email = $event),\n    required: \"\",\n    readonly: $data.isViewing,\n    isAutoFocus: true,\n    maxlength: 100,\n    placeholder: \"\",\n    style: {\n      width: '100%'\n    },\n    ref: \"email\",\n    onChange: $options.emailChange\n  }, null, 8\n  /* PROPS */\n  , [\"labelText\", \"modelValue\", \"readonly\", \"onChange\"])])]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createVNode(_component_m_input, {\n    labelText: _ctx.$t('FullName'),\n    maxlength: 100,\n    required: \"\",\n    readonly: $data.isViewing,\n    modelValue: $data.currentItem.full_name,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.currentItem.full_name = $event),\n    placeholder: \"\",\n    ref: \"fullname\"\n  }, null, 8\n  /* PROPS */\n  , [\"labelText\", \"readonly\", \"modelValue\"])])]), _createElementVNode(\"div\", _hoisted_18, [_createCommentVNode(\" <div class=\\\"form-item\\\" style=\\\"padding-right: 6px; width: 100%\\\">\\r\\n                        <m-input\\r\\n                            :labelText=\\\"$t('UserName')\\\"                            \\r\\n                            :maxlength=\\\"50\\\"\\r\\n                            v-model=\\\"currentItem.username\\\"\\r\\n                            placeholder=\\\"\\\"\\r\\n                            ref=\\\"username\\\"\\r\\n                            disabled\\r\\n                        />\\r\\n                    </div> \"), _createElementVNode(\"div\", _hoisted_19, [_createVNode(_component_m_input, {\n    labelText: _ctx.$t('Password'),\n    maxlength: 50,\n    required: \"\",\n    readonly: $data.isViewing,\n    modelValue: $data.currentItem.password,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.currentItem.password = $event),\n    placeholder: \"\",\n    ref: \"password\"\n  }, null, 8\n  /* PROPS */\n  , [\"labelText\", \"readonly\", \"modelValue\"])]), _createCommentVNode(\" <div class=\\\"form-item\\\" style=\\\"width: 100%\\\">\\r\\n                    <m-label text=\\\"Vai trò\\\" />                    \\r\\n                    <v-multiselect\\r\\n                    ref=\\\"department\\\"\\r\\n                      v-model=\\\"currentItem.role\\\"\\r\\n                      :options=\\\"storeUserRole\\\"\\r\\n                      label=\\\"label\\\"\\r\\n                      :close-on-select=\\\"true\\\"\\r\\n                      :clearOnSelect=\\\"true\\\"\\r\\n                      :searchable=\\\"true\\\"\\r\\n                      noResultsText=\\\"Không có dữ liệu hiển thị\\\"\\r\\n                      :disabled=\\\"false\\\"                      \\r\\n                      :canClear=\\\"false\\\"\\r\\n                      :canDeselect=\\\"false\\\"\\r\\n                    />\\r\\n                  </div> \")])]), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_createVNode(_component_m_label, {\n    text: \"Ngày sinh\"\n  }), _createVNode(_component_v_date_picker, {\n    value: $data.currentItem.date_of_birth,\n    \"onUpdate:value\": _cache[4] || (_cache[4] = $event => $data.currentItem.date_of_birth = $event),\n    format: _ctx.dateFormat,\n    disabled: $data.isViewing,\n    placeholder: _ctx.dateFormat,\n    lang: _ctx.langString,\n    \"disabled-date\": $options.disabledDateBeforeToday,\n    clearable: false,\n    \"title-format\": \"DD/MM/YYYY\"\n  }, null, 8\n  /* PROPS */\n  , [\"value\", \"format\", \"disabled\", \"placeholder\", \"lang\", \"disabled-date\"])]), _createElementVNode(\"div\", _hoisted_23, [_createVNode(_component_m_label, {\n    text: \"Giới tính\"\n  }), _createElementVNode(\"div\", _hoisted_24, [_createVNode(_component_m_radio, {\n    modelValue: $data.currentItem.gender,\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.currentItem.gender = $event),\n    value: 1,\n    label: \"Nam\",\n    disabled: $data.isViewing\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\", \"disabled\"]), _createVNode(_component_m_radio, {\n    modelValue: $data.currentItem.gender,\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.currentItem.gender = $event),\n    value: 0,\n    label: \"Nữ\",\n    disabled: $data.isViewing\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\", \"disabled\"]), _createVNode(_component_m_radio, {\n    modelValue: $data.currentItem.gender,\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.currentItem.gender = $event),\n    value: 2,\n    label: \"Khác\",\n    disabled: $data.isViewing\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\", \"disabled\"])])])]), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createVNode(_component_m_input, {\n    labelText: _ctx.$t('PhoneNumber'),\n    maxlength: 25,\n    readonly: $data.isViewing,\n    modelValue: $data.currentItem.phone,\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.currentItem.phone = $event),\n    placeholder: \"\",\n    ref: \"phoneNumber\"\n  }, null, 8\n  /* PROPS */\n  , [\"labelText\", \"readonly\", \"modelValue\"])])]), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"div\", _hoisted_28, [_createVNode(_component_m_label, {\n    text: \"Vai trò\"\n  }), _createVNode(_component_v_multiselect, {\n    ref: \"department\",\n    modelValue: $data.currentItem.role,\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.currentItem.role = $event),\n    options: _ctx.storeUserRole,\n    label: \"label\",\n    \"close-on-select\": true,\n    clearOnSelect: true,\n    searchable: true,\n    noResultsText: \"Không có dữ liệu hiển thị\",\n    disabled: $data.isViewing,\n    canClear: false,\n    canDeselect: false\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\", \"options\", \"disabled\"])])])])]), _createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"div\", _hoisted_31, [_createVNode(_component_m_input, {\n    labelText: \"Địa chỉ\",\n    maxlength: 255,\n    readonly: $data.isViewing,\n    modelValue: $data.currentItem.address,\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.currentItem.address = $event),\n    placeholder: \"\",\n    style: {\n      width: '100%'\n    },\n    ref: \"address\"\n  }, null, 8\n  /* PROPS */\n  , [\"readonly\", \"modelValue\"])])]), _createElementVNode(\"div\", _hoisted_32, [_createElementVNode(\"div\", _hoisted_33, [_createVNode(_component_m_input, {\n    labelText: \"Trạng thái\",\n    maxlength: 50,\n    readonly: $data.isViewing,\n    modelValue: $data.currentItem.status,\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.currentItem.status = $event),\n    placeholder: \"\",\n    ref: \"status\"\n  }, null, 8\n  /* PROPS */\n  , [\"readonly\", \"modelValue\"])])])])])]), _createCommentVNode(\" Detail end\"), _createCommentVNode(\" Footer \"), _createElementVNode(\"div\", _hoisted_34, [_createElementVNode(\"div\", _hoisted_35, [_createElementVNode(\"button\", {\n    class: \"m-btn-second\",\n    onClick: _cache[12] || (_cache[12] = $event => $options.buttonClick('Cancel'))\n  }, _toDisplayString(_ctx.$t('Cancel')), 1\n  /* TEXT */\n  ), !$data.isViewing ? (_openBlock(), _createElementBlock(\"div\", _hoisted_36, [_createElementVNode(\"div\", _hoisted_37, [_createElementVNode(\"button\", {\n    class: \"m-btn-second btn-save\",\n    onClick: _cache[13] || (_cache[13] = $event => $options.buttonClick('Save'))\n  }, _toDisplayString(_ctx.$t('Save')), 1\n  /* TEXT */\n  ), _createCommentVNode(\" <ms-tooltip class=\\\"hide\\\" text=\\\"Cất (Ctrl + S)\\\" :isTop=\\\"false\\\" /> \")]), _createElementVNode(\"div\", _hoisted_38, [_createElementVNode(\"button\", _hoisted_39, _toDisplayString(_ctx.$t('SaveAndAdd')), 1\n  /* TEXT */\n  ), _createCommentVNode(\" <ms-tooltip\\r\\n                  class=\\\"hide\\\"\\r\\n                  text=\\\"Cất và thêm (Ctrl + Shift + S)\\\"\\r\\n                  :isTop=\\\"false\\\"\\r\\n                /> \")])])) : _createCommentVNode(\"v-if\", true), $data.isViewing ? (_openBlock(), _createElementBlock(\"div\", _hoisted_40, [_createElementVNode(\"div\", _hoisted_41, [_createElementVNode(\"button\", {\n    class: \"m-btn btn-save\",\n    onClick: _cache[14] || (_cache[14] = $event => $options.buttonClick('Edit'))\n  }, _toDisplayString(_ctx.$t('Edit')), 1\n  /* TEXT */\n  )])])) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" Footer end\")]), _createCommentVNode(\" Form end \")])], 2\n  /* CLASS */\n  )], 2112\n  /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","style","_createCommentVNode","show","$data","ref","_toDisplayString","_ctx","_hoisted_7","onClick","$options","_createVNode","_component_m_input","labelText","email","$event","required","readonly","isAutoFocus","maxlength","placeholder","width","onChange","full_name","password","_component_m_label","text","_component_v_date_picker","value","date_of_birth","format","disabled","lang","clearable","_component_m_radio","gender","label","phone","_component_v_multiselect","role","options","clearOnSelect","searchable","noResultsText","canClear","canDeselect","address","status","_createElementBlock"],"sourceRoot":"","sources":["D:\\Traveller\\Traveller-Frontend\\traveller-ui\\src\\views\\user\\UserDetail.vue"],"sourcesContent":["<template>\r\n    <!-- Dialog thêm mới -->\r\n  <div class=\"m-popup m-add-popup\" v-bind:class=\"{ show: isShow }\" ref=\"dialog\">\r\n    <div class=\"m-popup-box h-625 w-800\">\r\n      <!-- Header -->\r\n      <div class=\"m-popup-header\">\r\n        <div class=\"m-popup-header__left\">\r\n          <div class=\"title-container\">\r\n            <div class=\"popup-title-text\">{{ formTitle }}</div>            \r\n          </div>\r\n        </div>\r\n        <div class=\"m-popup-header__right\">\r\n          <div style=\"position: relative\">\r\n            <div\r\n              class=\"m-icon m-icon-24 m-help__nav\"\r\n              style=\"margin-right: 6px\"\r\n            ></div>\r\n            <!-- <ms-tooltip class=\"hide\" text=\"Giúp (F1)\" :isTop=\"true\" /> -->\r\n          </div>\r\n          <div style=\"position: relative\">\r\n            <div class=\"m-icon m-icon-24 m-close\" @click=\"buttonClick('Close')\"></div>\r\n            <!-- <ms-tooltip class=\"hide\" text=\"Đóng (ESC)\" :isTop=\"true\" /> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- Header end-->\r\n      <!-- Form -->\r\n      <div class=\"m-popup-form\">\r\n        <!-- Detail -->\r\n        <div class=\"form-container\">\r\n          <div class=\"form-detail\">\r\n            <div class=\"general-info\">\r\n              <div class=\"info-left\">\r\n                <div class=\"m-form-field\">\r\n                  <div class=\"form-item\" style=\"width: 100%\">\r\n                    <m-input\r\n                      :labelText=\"$t('EmailLogin')\"\r\n                      v-model=\"currentItem.email\"\r\n                      required\r\n                      :readonly=\"isViewing\"\r\n                      :isAutoFocus=\"true\"\r\n                      :maxlength=\"100\"\r\n                      placeholder=\"\"\r\n                      :style=\"{ width: '100%' }\"\r\n                      ref=\"email\"\r\n                      @change=\"emailChange\"\r\n                    />\r\n                  </div>                  \r\n                </div>\r\n                <div class=\"m-form-field\">\r\n                    <div class=\"form-item\" style=\"width: 100%\">\r\n                        <m-input\r\n                            :labelText=\"$t('FullName')\"\r\n                            :maxlength=\"100\"\r\n                            required\r\n                            :readonly=\"isViewing\"\r\n                            v-model=\"currentItem.full_name\"\r\n                            placeholder=\"\"\r\n                            ref=\"fullname\"\r\n                        />\r\n                    </div>                 \r\n                </div>\r\n                <div class=\"m-form-field\">\r\n                    <!-- <div class=\"form-item\" style=\"padding-right: 6px; width: 100%\">\r\n                        <m-input\r\n                            :labelText=\"$t('UserName')\"                            \r\n                            :maxlength=\"50\"\r\n                            v-model=\"currentItem.username\"\r\n                            placeholder=\"\"\r\n                            ref=\"username\"\r\n                            disabled\r\n                        />\r\n                    </div> -->\r\n                    <div class=\"form-item\" style=\"width: 100%\">\r\n                        <m-input\r\n                            :labelText=\"$t('Password')\"                            \r\n                            :maxlength=\"50\"\r\n                            required\r\n                            :readonly=\"isViewing\"\r\n                            v-model=\"currentItem.password\"\r\n                            placeholder=\"\"\r\n                            ref=\"password\"\r\n                        />\r\n                    </div>\r\n                   <!-- <div class=\"form-item\" style=\"width: 100%\">\r\n                    <m-label text=\"Vai trò\" />                    \r\n                    <v-multiselect\r\n                    ref=\"department\"\r\n                      v-model=\"currentItem.role\"\r\n                      :options=\"storeUserRole\"\r\n                      label=\"label\"\r\n                      :close-on-select=\"true\"\r\n                      :clearOnSelect=\"true\"\r\n                      :searchable=\"true\"\r\n                      noResultsText=\"Không có dữ liệu hiển thị\"\r\n                      :disabled=\"false\"                      \r\n                      :canClear=\"false\"\r\n                      :canDeselect=\"false\"\r\n                    />\r\n                  </div> -->\r\n                </div>\r\n              </div>\r\n              <div class=\"info-right\">\r\n                <div class=\"m-form-field\">\r\n                  <div class=\"form-item\" style=\"padding-right: 6px; width: 40%\">\r\n                    <m-label text=\"Ngày sinh\" />\r\n                    <v-date-picker\r\n                      v-model:value=\"currentItem.date_of_birth\"\r\n                      :format=\"dateFormat\"\r\n                      :disabled=\"isViewing\"\r\n                      :placeholder=\"dateFormat\"\r\n                      :lang=\"langString\"\r\n                      :disabled-date=\"disabledDateBeforeToday\"\r\n                      :clearable=\"false\"\r\n                      title-format=\"DD/MM/YYYY\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"form-item\" style=\"width: 60%; padding-left: 6px\">\r\n                    <m-label text=\"Giới tính\" />\r\n                    <div class=\"m-row m-field-gender\">\r\n                      <m-radio v-model=\"currentItem.gender\" :value=\"1\" label=\"Nam\" :disabled=\"isViewing\"/>\r\n                      <m-radio v-model=\"currentItem.gender\" :value=\"0\" label=\"Nữ\" :disabled=\"isViewing\"/>\r\n                      <m-radio v-model=\"currentItem.gender\" :value=\"2\" label=\"Khác\" :disabled=\"isViewing\"/>                      \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"m-form-field\">\r\n                  <div class=\"form-item\" style=\"width: 100%\">\r\n                    <m-input\r\n                      :labelText=\"$t('PhoneNumber')\"\r\n                      :maxlength=\"25\"\r\n                      :readonly=\"isViewing\"\r\n                      v-model=\"currentItem.phone\"\r\n                      placeholder=\"\"\r\n                      ref=\"phoneNumber\"\r\n                    />\r\n                    </div>                  \r\n                </div>\r\n                <div class=\"m-form-field\">\r\n                  <div class=\"form-item\" style=\"width: 100%\">\r\n                    <m-label text=\"Vai trò\" />                    \r\n                    <v-multiselect\r\n                    ref=\"department\"\r\n                      v-model=\"currentItem.role\"\r\n                      :options=\"storeUserRole\"\r\n                      label=\"label\"\r\n                      :close-on-select=\"true\"\r\n                      :clearOnSelect=\"true\"\r\n                      :searchable=\"true\"\r\n                      noResultsText=\"Không có dữ liệu hiển thị\"\r\n                      :disabled=\"isViewing\"                      \r\n                      :canClear=\"false\"\r\n                      :canDeselect=\"false\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"contact-info\">\r\n              <div class=\"m-form-field\">\r\n                <div class=\"form-item\" style=\"width: 100%\">\r\n                  <m-input\r\n                    labelText=\"Địa chỉ\"\r\n                    :maxlength=\"255\"\r\n                    :readonly=\"isViewing\"\r\n                    v-model=\"currentItem.address\"\r\n                    placeholder=\"\"\r\n                    :style=\"{ width: '100%' }\"\r\n                    ref=\"address\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div class=\"m-form-field\">                \r\n                <div class=\"form-item\">\r\n                  <m-input\r\n                    labelText=\"Trạng thái\"                    \r\n                    :maxlength=\"50\"\r\n                    :readonly=\"isViewing\"\r\n                    v-model=\"currentItem.status\"\r\n                    placeholder=\"\"\r\n                    ref=\"status\"\r\n                  />\r\n                </div>                \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- Detail end-->\r\n\r\n        <!-- Footer -->\r\n        <div class=\"footer-container\">\r\n          <div class=\"footer-line\">\r\n            <button class=\"m-btn-second\" @click=\"buttonClick('Cancel')\"> {{$t('Cancel')}}</button>\r\n            <div class=\"group-btn-popup align-right\" v-if=\"!isViewing\">\r\n              <div style=\"position: relative\">\r\n                <button\r\n                  class=\"m-btn-second btn-save\"\r\n                  @click=\"buttonClick('Save')\"                  \r\n                >\r\n                  {{$t('Save')}}\r\n                </button>\r\n                <!-- <ms-tooltip class=\"hide\" text=\"Cất (Ctrl + S)\" :isTop=\"false\" /> -->\r\n              </div>\r\n              <div style=\"position: relative\">\r\n                <button\r\n                  class=\"m-btn btn-multi-add tooltip\"\r\n                  style=\"margin-left: 16px\"\r\n                >\r\n                   {{$t('SaveAndAdd')}}\r\n                </button>\r\n                <!-- <ms-tooltip\r\n                  class=\"hide\"\r\n                  text=\"Cất và thêm (Ctrl + Shift + S)\"\r\n                  :isTop=\"false\"\r\n                /> -->\r\n              </div>\r\n            </div>\r\n            <div class=\"group-btn-popup align-right\" v-if=\"isViewing\">\r\n              <div style=\"position: relative\">\r\n                <button\r\n                  class=\"m-btn btn-save\"\r\n                  @click=\"buttonClick('Edit')\"                  \r\n                >\r\n                  {{$t('Edit')}}\r\n                </button>               \r\n              </div>              \r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- Footer end-->\r\n      </div>\r\n      <!-- Form end -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import DatePicker\r\nimport NextDatePicker from \"vue-datepicker-next\";\r\nimport \"vue-datepicker-next/index.css\";\r\nimport \"vue-datepicker-next/locale/vi\";\r\n\r\n//multi vue 3\r\nimport vMultiselect from \"@vueform/multiselect\";\r\nimport \"@vueform/multiselect/themes/default.css\";\r\n\r\nimport UserAPI from '@/api/UserAPI';\r\nimport BaseDictionaryDetail from \"@/views/base/BaseDictionaryDetail.vue\";\r\n\r\nexport default {\r\n  name: \"MSDialogDetail\",\r\n  extends: BaseDictionaryDetail,\r\n  emits: [\"showDialog\", \"loadData\", \"eShowPopup\", \"eCloseDialog\"],\r\n  components: {\r\n    \"v-date-picker\": NextDatePicker,\r\n    /* eslint-disable vue/no-unused-components */\r\n    \"v-multiselect\": vMultiselect,\r\n  },\r\n\r\n  props: {\r\n    // isShow: {\r\n    //   type: Boolean,\r\n    //   default: false,\r\n    // },\r\n    employeeSelected: {}, //currentItem đang thao tác\r\n    isShowDialog: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    formMode: {\r\n      //trạng thái của form là gì\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      isShow: false,// trạng thái ẩn hiện của form\r\n      editMode: 'Add', //trạng thái form\r\n      isViewing: false, //mode view\r\n      //có đang thêm nhiều không?\r\n      isMultiAdd: false,\r\n      //dữ liệu có bị thay đổi không?\r\n      isChange: false,\r\n      listInputError: [],\r\n      currentItem: {},\r\n      employeeInit: {gender:null,},\r\n      //new employeeId truyền vào dialog\r\n      newEmployeeCode: null,\r\n      //danh sách các phòng ban nhận từ server\r\n      departments: {},\r\n      //danh sách các phòng ban truyền vào combobox: title và value      \r\n      departmentValue: null, //giá trị của combobox department\r\n    };\r\n  },\r\n  created(){\r\n    this.initStaticData();\r\n  },\r\n  methods:{\r\n    /**\r\n    * hàm xử lý bind data lên form từ màn hình danh sách\r\n    * @created : quyetkaito 06/10/2022\r\n    * @param {Object} object  đối tượng truyền từ ngoài danh sách vào\r\n    * @param {String} editMode : xác định là xem hay sửa..\r\n    */\r\n    bindData(object, editMode){\r\n        let me = this;\r\n        if(object){\r\n            if(editMode){\r\n                me.editMode = editMode;   \r\n                if(editMode == 'View'){\r\n                    me.isViewing = true;\r\n                }             \r\n            }\r\n            //còn đoạn xử lý datetime các kiểu\r\n            me.currentItem = object;\r\n            if(me.currentItem.date_of_birth){\r\n              me.currentItem.date_of_birth = new Date(me.currentItem.date_of_birth);\r\n            }\r\n            me.originalItem = JSON.parse(JSON.stringify(me.currentItem));\r\n        }\r\n    },\r\n\r\n    /**\r\n    * Xử lý khi email thay đổi\r\n    * @created : quyetkaito 05/10/2022\r\n    */\r\n    emailChange(){\r\n        let me = this;\r\n        if(me.currentItem){\r\n            if(me.currentItem.email){\r\n                if(! me.$commonFunc.validateEmail(me.currentItem.email)){\r\n                    // me.$store.commit(\"showError\", {\r\n                    //     message: \"Email không hợp lệ.\",\r\n                    // });\r\n                    if(me.$refs.email && typeof me.$refs.email.setTooltip == \"function\"){\r\n                        me.$refs.email.setErrorTooltip(\"Email không đúng định dạng.\");\r\n                    }\r\n                    if(me.$refs.email && typeof me.$refs.email.focus == 'function'){\r\n                        me.$refs.email.focus();    \r\n                        me.$refs.email.addRedBorder();                          \r\n                    }\r\n                }\r\n                //gán username theo \r\n                me.currentItem.username = me.currentItem.email.split('@')[0];                \r\n            }else{\r\n                //thông báo ko được để trống\r\n                if(me.$refs.email && typeof me.$refs.email.focus == 'function'){\r\n                    me.$refs.email.focus();\r\n                    if(typeof me.$refs.email.addError == 'function'){\r\n                        me.$refs.email.addError();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    /**\r\n    * hàm khởi tạo biến tĩnh\r\n    * @created : quyetkaito 04/10/2022\r\n    */\r\n    initStaticData(){\r\n        let me = this;\r\n        me.formTitle = me.$t('UserDetail'); //title của form.\r\n        me.langString = \"vi\"; //ngôn ngữ cho datepicker\r\n        me.dateFormat = \"DD/MM/YYYY\";\r\n        me.storeUserRole = [\r\n            {\r\n                label: \"Admin\",\r\n                value: 1,\r\n            },\r\n            {\r\n                label: \"User\",\r\n                value: 0,\r\n            }\r\n\r\n        ]         \r\n    },\r\n\r\n    initNewItem(){\r\n        let me = this;\r\n        me.currentItem.password =  \"Abc@12345678\"; //random pasword\r\n        me.currentItem.role = 1; //mặc định là thêm người dùng\r\n    },\r\n\r\n    /**\r\n    * hàm xử lý sự kiện cho các button\r\n    * @created : quyetkaito 04/10/2022\r\n    */\r\n    buttonClick(action){\r\n        let me = this;\r\n        switch(action){\r\n            case 'Close':\r\n            case 'Cancel':\r\n                me.hide();\r\n                break;\r\n            case 'Save':\r\n                me.save();\r\n                break;\r\n            case 'Edit':\r\n                me.edit();\r\n                break;                \r\n            default:\r\n                break;            \r\n        }        \r\n    },\r\n    \r\n    edit(){\r\n        let me = this;\r\n        this.editMode = 'Edit';\r\n        this.isViewing = false;   \r\n        // focus vào ô đầu tiên \r\n        if(me.$refs.email && typeof me.$refs.email.focus == \"function\"){\r\n            me.$refs.email.focus();\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n    * hàm xử lý cất dữ liệu\r\n    * @created : quyetkaito 05/10/2022\r\n    * @param {Boolean}  isClose : có đóng form sau khi cất hay không\r\n    */\r\n    async save(isClose){\r\n        let me = this;\r\n        if(!await me.validate()) return;\r\n        //build object\r\n        let obj = me.prepareDataBeforeSave();\r\n        if(obj){\r\n            me.$commonFunc.load();\r\n            try {\r\n                let method = 'POST';\r\n                if(me.editMode == 'Edit') method = 'PUT';\r\n                await UserAPI.request(UserAPI.urlName, method, obj).then((res)=>{                    \r\n                    console.log(`res:`, res.data);\r\n                    if(res && res.data && res.data.Data){\r\n                        if(res.data.StatusCode == 201){\r\n                            me.$store.commit(\"showSuccess\", {\r\n                                message: \"Thêm mới thành công.\",\r\n                            });\r\n                        }else if(res.data.StatusCode == 200){\r\n                            me.$store.commit(\"showSuccess\", {\r\n                                message: \"Thành công.\",\r\n                            });\r\n                        }else if(![200, 201].includes(res.data.StatusCode)){\r\n                            me.handleException(res);\r\n                        }\r\n                        if(isClose != false){\r\n                            this.isShow = false; //ẩn form\r\n                            //gọi parent reload lại danh sách\r\n                            this.$parent.buttonClick('Refresh');\r\n                        }\r\n                    }else{\r\n                        me.handleException(res);                        \r\n                    }\r\n                    me.$commonFunc.unload();\r\n                })            \r\n            } catch (error) {\r\n                me.handleException(error);                \r\n            }\r\n            \r\n        }        \r\n    },\r\n\r\n    async validate(){\r\n        let me = this;\r\n        if(!await me.validateComponent() || !await me.validateBusiness()) return false;\r\n        return true;        \r\n    },\r\n\r\n    async validateComponent(){\r\n        let me = this;\r\n        //validate bỏ trống\r\n        let valid = true;\r\n        let listError = []; //chứa các refs input để tí focus hoặc gọi hàm trong MInput\r\n        let message = \"\";\r\n        if(me.currentItem){\r\n            if(!me.currentItem.email){\r\n                listError.push(\"email\");\r\n                valid = false;               \r\n            }\r\n            if(!me.currentItem.full_name){\r\n                listError.push(\"fullname\");\r\n                valid = false;                \r\n            }\r\n            if(!me.currentItem.password){\r\n                listError.push(\"password\");\r\n                valid = false;                \r\n            }\r\n            \r\n        }\r\n        if(listError && listError.length > 0){\r\n            //set error đỏ cho các ô input\r\n            for(let i = 0 ; i< listError.length ; i++){\r\n                if(me.$refs[listError[i]] && typeof me.$refs[listError[i]].addError == \"function\"){\r\n                    me.$refs[listError[i]].addError();\r\n                }\r\n            }\r\n            if(typeof me.$refs[listError[0]].getTitle == \"function\"){\r\n                message = me.$refs[listError[0]].getTitle() + \" không được bỏ trống.\";\r\n            }\r\n            //show message\r\n            me.$store.commit(\"showError\", {\r\n                message: message,\r\n            });\r\n            me.focusAfterValidate(listError[0]);\r\n        }\r\n        return valid;\r\n        //validate email       \r\n    },\r\n\r\n    /**\r\n    * Hàm focus vào ô input khi validate có lỗi\r\n    * @created : quyetkaito 05/10/2022\r\n    */\r\n    focusAfterValidate(ref){\r\n        let me = this;        \r\n        if(ref && me.$refs[ref] && typeof me.$refs[ref].focus == \"function\"){\r\n            me.$refs[ref].focus();\r\n            if(typeof me.$refs[ref].addError == 'function'){\r\n                me.$refs[ref].addError();\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n    * Validate nghiệp vụ khác\r\n    * @created : quyetkaito 06/10/2022\r\n    */\r\n    async validateBusiness(){\r\n        let me = this;\r\n        //validate trùng email/username\r\n        if(! me.$commonFunc.validateEmail(me.currentItem.email)){               \r\n            me.$store.commit(\"showError\", {\r\n                message: \"Email không hợp lệ.\",\r\n            });\r\n            me.focusAfterValidate(\"email\");         \r\n            return false;           \r\n        }\r\n        return true;\r\n    },\r\n\r\n    prepareDataBeforeSave(){\r\n        let me = this;\r\n        if(me.currentItem){\r\n            if(me.currentItem.date_of_birth){\r\n              me.currentItem.date_of_birth = me.$commonFunc.setTimeZone(me.currentItem.date_of_birth);\r\n            }\r\n            return me.currentItem;\r\n        }\r\n    },\r\n\r\n    hide(){\r\n        let me = this;\r\n        me.beforeHide();\r\n        this.isShow = false;\r\n        me.afterHide();\r\n    },\r\n\r\n    beforeHide(){\r\n        //kiểm tra thay đổi các kiểu\r\n        let me = this;\r\n        if(me.$commonFunc.isDeepEqual(me.originalItem, me.currentItem)){\r\n            console.log(`ko có thay đổi`);\r\n        }else{\r\n            if(confirm(\"Dữ liệu đã bị thay đổi. Bạn có muốn lưu không?\")){\r\n                console.log(\"Có lưu\");\r\n            }\r\n        }\r\n    },\r\n\r\n    afterHide(){        \r\n        this.currentItem = {};\r\n        this.isViewing = false;\r\n    },\r\n    \r\n    /**\r\n    * hiện form lên\r\n    * @created : quyetkaito 04/10/2022\r\n    */\r\n    show(editMode){\r\n        let me = this;\r\n        this.isShow = true;       \r\n        if(editMode == 'Add'){\r\n            me.initNewItem();\r\n            me.originalItem = JSON.parse(JSON.stringify(me.currentItem));\r\n        } \r\n        //focus vào ô nhập liệu đầu tiên\r\n        if(editMode != 'View'){\r\n            if(this.$refs.email && typeof this.$refs.email.focus == \"function\"){\r\n                this.$refs.email.focus();\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n    * Không cho chọn ngày lớn hơn hiện tại\r\n    * @created : quyetkaito 04/10/2022\r\n    */\r\n    disabledDateBeforeToday(date ){\r\n        return date > new Date();\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n@import url(\"/src/style/common/dialog.css\");\r\n@import url(\"/src/style/common/custom-datepicker.css\");\r\n@import url(\"/src/style/page/employee-dialog.css\");\r\n.error{\r\n  border-color: var(--danger-color)!important;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}