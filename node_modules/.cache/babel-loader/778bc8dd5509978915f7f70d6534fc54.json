{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_m_loading = _resolveComponent(\"m-loading\");\n\n  const _component_router_view = _resolveComponent(\"router-view\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_m_loading), _createCommentVNode(\" <m-message/> \"), _createVNode(_component_router_view)], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;;;;;6DACEA,aAAYC,oBAAZ,GACAC,uCACAF,aAAcG,sBAAd","names":["_createVNode","_component_m_loading","_createCommentVNode","_component_router_view"],"sourceRoot":"","sources":["D:\\Traveller\\Traveller-Frontend\\traveller-ui\\src\\App.vue"],"sourcesContent":["<template>\r\n  <m-loading/>\r\n  <!-- <m-message/> -->\r\n  <router-view/> \r\n</template>\r\n\r\n<script>\r\nimport firebase from \"./firebase/firebaseInit\";\r\nimport AuthAPI from \"@/api/AuthAPI\";\r\nexport default {\r\n  name: \"App\",\r\n  created(){\r\n    // this.checkLogin();\r\n  },\r\n  methods: {\r\n    /**\r\n    * Check xem đã login hay chưa, nếu chưa thì quay về màn đăng nhập\r\n    * @created : quyetkaito 13/10/2022\r\n    */\r\n    async checkLogin(){\r\n      let me = this;\r\n      let refreshToken = me.$cache.get('RefreshToken');\r\n      let accessToken = me.$cache.get('AccessToken');\r\n      if(refreshToken && accessToken){\r\n        let tokenModel = {\r\n          access_token: accessToken,\r\n          refresh_token: refreshToken\r\n        };\r\n          //gọi lấy accessToken mới\r\n        try {\r\n          let res = await AuthAPI.request(AuthAPI.urlName+`/refresh_token`, 'POST', tokenModel);          \r\n          if(res && res.accessToken && res.refreshToken){\r\n            alert('lấy access token mới thành công');\r\n          }\r\n        } catch (error) {\r\n          me.$store.commit('showInfo', {message: 'Phiên làm việc của bạn đã hết hạn. Vui lòng đăng nhập lại.', timeuot : 3000});\r\n          this.$router.push({name: 'login'});    \r\n        }\r\n      }else{  \r\n        this.$router.push({name: 'login'});\r\n      }\r\n\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n/* import font */\r\n@import url('https://fonts.googleapis.com/css2?family=Roboto+Serif:opsz,wght@8..144,100;8..144,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');\r\n@import url(\"/src/style/common/main.css\");\r\n@import url(\"/src/style/layout/header.css\");\r\n@import url(\"/src/style/common/icon.css\");\r\n@import url(\"/src/style/common/button.css\");\r\n@import url(\"/src/style/common/card.css\");\r\n@import url(\"/src/style/common/table.css\");\r\n@import url(\"/src/style/common/paging.css\");\r\n@import url(\"/src/style/common/input.css\");\r\n@import url(\"/src/style/common/checkbox.css\");\r\n@import url(\"/src/style/common/tooltip.css\");\r\n@import url(\"/src/style/common/loading.css\");\r\n@import url(\"/src/style/common/custom-dropdown.css\");\r\n@import url(\"/src/style/common/custom-combobox.css\");\r\n@import url(\"/src/style/common/custom-datepicker.css\");\r\n@import url(\"/src/style/common/custom-multiselect.css\");\r\n@import url(\"@/assets/fonts/fontawesome-5.15.1/css/all.min.css\");\r\n</style>\r\n\r\n"]},"metadata":{},"sourceType":"module"}