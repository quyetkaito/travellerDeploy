{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nvar __objRest = (source, exclude) => {\n  var target = {};\n\n  for (var prop in source) if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0) target[prop] = source[prop];\n\n  if (source != null && __getOwnPropSymbols) for (var prop of __getOwnPropSymbols(source)) {\n    if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop)) target[prop] = source[prop];\n  }\n  return target;\n};\n\nimport { inject, shallowRef, computed, provide, ref, watchEffect, createVNode, Teleport, Transition, openBlock, createElementBlock, createElementVNode, toRef, defineComponent, onMounted, onUnmounted, isVNode, watch, h } from \"vue\";\nimport { getWeek, format, parse } from \"date-format-parse\";\nimport en from \"date-format-parse/es/locale/en\";\nconst lang = {\n  formatLocale: en,\n  yearFormat: \"YYYY\",\n  monthFormat: \"MMM\",\n  monthBeforeYear: true\n};\nlet defaultLocale = \"en\";\nconst locales = {};\nlocales[defaultLocale] = lang;\n\nfunction locale(name, object, isLocal = false) {\n  if (typeof name !== \"string\") return locales[defaultLocale];\n  let l = defaultLocale;\n\n  if (locales[name]) {\n    l = name;\n  }\n\n  if (object) {\n    locales[name] = object;\n    l = name;\n  }\n\n  if (!isLocal) {\n    defaultLocale = l;\n  }\n\n  return locales[name] || locales[defaultLocale];\n}\n\nfunction getLocale(name) {\n  return locale(name, void 0, true);\n}\n\nfunction chunk(arr, size) {\n  if (!Array.isArray(arr)) {\n    return [];\n  }\n\n  const result = [];\n  const len = arr.length;\n  let i = 0;\n  size = size || len;\n\n  while (i < len) {\n    result.push(arr.slice(i, i += size));\n  }\n\n  return result;\n}\n\nfunction last(array) {\n  return Array.isArray(array) ? array[array.length - 1] : void 0;\n}\n\nfunction isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === \"[object Object]\";\n}\n\nfunction pick(obj, props) {\n  const res = {};\n  if (!isPlainObject(obj)) return res;\n\n  if (!Array.isArray(props)) {\n    props = [props];\n  }\n\n  props.forEach(prop => {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n      res[prop] = obj[prop];\n    }\n  });\n  return res;\n}\n\nfunction mergeDeep(target, source) {\n  if (!isPlainObject(target)) {\n    return {};\n  }\n\n  let result = target;\n\n  if (isPlainObject(source)) {\n    Object.keys(source).forEach(key => {\n      let value = source[key];\n      const targetValue = target[key];\n\n      if (isPlainObject(value) && isPlainObject(targetValue)) {\n        value = mergeDeep(targetValue, value);\n      }\n\n      result = __spreadProps(__spreadValues({}, result), {\n        [key]: value\n      });\n    });\n  }\n\n  return result;\n}\n\nfunction padNumber(value) {\n  const num = parseInt(String(value), 10);\n  return num < 10 ? `0${num}` : `${num}`;\n}\n\nfunction camelcase(str) {\n  const camelizeRE = /-(\\w)/g;\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n}\n\nconst localeContextKey = \"datepicker_locale\";\nconst prefixClassKey = \"datepicker_prefixClass\";\nconst getWeekKey = \"datepicker_getWeek\";\n\nfunction useLocale() {\n  return inject(localeContextKey, shallowRef(getLocale()));\n}\n\nfunction provideLocale(lang2) {\n  const locale2 = computed(() => {\n    if (isPlainObject(lang2.value)) {\n      return mergeDeep(getLocale(), lang2.value);\n    }\n\n    return getLocale(lang2.value);\n  });\n  provide(localeContextKey, locale2);\n  return locale2;\n}\n\nfunction providePrefixClass(value) {\n  provide(prefixClassKey, value);\n}\n\nfunction usePrefixClass() {\n  return inject(prefixClassKey, \"mx\");\n}\n\nfunction provideGetWeek(value) {\n  provide(getWeekKey, value);\n}\n\nfunction useGetWeek() {\n  return inject(getWeekKey, getWeek);\n}\n\nfunction getPopupElementSize(element) {\n  const originalDisplay = element.style.display;\n  const originalVisibility = element.style.visibility;\n  element.style.display = \"block\";\n  element.style.visibility = \"hidden\";\n  const styles = window.getComputedStyle(element);\n  const width = element.offsetWidth + parseInt(styles.marginLeft, 10) + parseInt(styles.marginRight, 10);\n  const height = element.offsetHeight + parseInt(styles.marginTop, 10) + parseInt(styles.marginBottom, 10);\n  element.style.display = originalDisplay;\n  element.style.visibility = originalVisibility;\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRelativePosition(el, targetWidth, targetHeight, fixed) {\n  let left = 0;\n  let top = 0;\n  let offsetX = 0;\n  let offsetY = 0;\n  const relativeRect = el.getBoundingClientRect();\n  const dw = document.documentElement.clientWidth;\n  const dh = document.documentElement.clientHeight;\n\n  if (fixed) {\n    offsetX = window.pageXOffset + relativeRect.left;\n    offsetY = window.pageYOffset + relativeRect.top;\n  }\n\n  if (dw - relativeRect.left < targetWidth && relativeRect.right < targetWidth) {\n    left = offsetX - relativeRect.left + 1;\n  } else if (relativeRect.left + relativeRect.width / 2 <= dw / 2) {\n    left = offsetX;\n  } else {\n    left = offsetX + relativeRect.width - targetWidth;\n  }\n\n  if (relativeRect.top <= targetHeight && dh - relativeRect.bottom <= targetHeight) {\n    top = offsetY + dh - relativeRect.top - targetHeight;\n  } else if (relativeRect.top + relativeRect.height / 2 <= dh / 2) {\n    top = offsetY + relativeRect.height;\n  } else {\n    top = offsetY - targetHeight;\n  }\n\n  return {\n    left: `${left}px`,\n    top: `${top}px`\n  };\n}\n\nfunction getScrollParent(node, until = document.body) {\n  if (!node || node === until) {\n    return null;\n  }\n\n  const style = (value, prop) => getComputedStyle(value, null).getPropertyValue(prop);\n\n  const regex = /(auto|scroll)/;\n  const scroll = regex.test(style(node, \"overflow\") + style(node, \"overflow-y\") + style(node, \"overflow-x\"));\n  return scroll ? node : getScrollParent(node.parentElement, until);\n}\n\nlet scrollBarWidth;\n\nfunction getScrollbarWidth() {\n  if (typeof window === \"undefined\") return 0;\n  if (scrollBarWidth !== void 0) return scrollBarWidth;\n  const outer = document.createElement(\"div\");\n  outer.style.visibility = \"hidden\";\n  outer.style.overflow = \"scroll\";\n  outer.style.width = \"100px\";\n  outer.style.position = \"absolute\";\n  outer.style.top = \"-9999px\";\n  document.body.appendChild(outer);\n  const inner = document.createElement(\"div\");\n  inner.style.width = \"100%\";\n  outer.appendChild(inner);\n  scrollBarWidth = outer.offsetWidth - inner.offsetWidth;\n  outer.parentNode.removeChild(outer);\n  return scrollBarWidth;\n}\n\nconst mousedownEvent = \"ontouchend\" in document ? \"touchstart\" : \"mousedown\";\n\nfunction rafThrottle(fn) {\n  let isRunning = false;\n  return function fnBinfRaf(...args) {\n    if (isRunning) return;\n    isRunning = true;\n    requestAnimationFrame(() => {\n      isRunning = false;\n      fn.apply(this, args);\n    });\n  };\n}\n\nfunction defineVueComponent(setup, props) {\n  return {\n    setup,\n    name: setup.name,\n    props\n  };\n}\n\nfunction withDefault(props, defaultProps) {\n  const result = new Proxy(props, {\n    get(target, key) {\n      const value = target[key];\n\n      if (value !== void 0) {\n        return value;\n      }\n\n      return defaultProps[key];\n    }\n\n  });\n  return result;\n}\n\nconst keys = () => props => props;\n\nconst resolveProps = (obj, booleanKeys2) => {\n  const props = {};\n\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      const camelizeKey = camelcase(key);\n      let value = obj[key];\n\n      if (booleanKeys2.indexOf(camelizeKey) !== -1 && value === \"\") {\n        value = true;\n      }\n\n      props[camelizeKey] = value;\n    }\n  }\n\n  return props;\n};\n\nfunction Popup(originalProps, {\n  slots\n}) {\n  const props = withDefault(originalProps, {\n    appendToBody: true\n  });\n  const prefixClass = usePrefixClass();\n  const popup = ref(null);\n  const position = ref({\n    left: \"\",\n    top: \"\"\n  });\n\n  const displayPopup = () => {\n    if (!props.visible || !popup.value) return;\n    const relativeElement = props.getRelativeElement();\n    if (!relativeElement) return;\n    const {\n      width,\n      height\n    } = getPopupElementSize(popup.value);\n    position.value = getRelativePosition(relativeElement, width, height, props.appendToBody);\n  };\n\n  watchEffect(displayPopup, {\n    flush: \"post\"\n  });\n  watchEffect(onInvalidate => {\n    const relativeElement = props.getRelativeElement();\n    if (!relativeElement) return;\n    const scrollElement = getScrollParent(relativeElement) || window;\n    const handleMove = rafThrottle(displayPopup);\n    scrollElement.addEventListener(\"scroll\", handleMove);\n    window.addEventListener(\"resize\", handleMove);\n    onInvalidate(() => {\n      scrollElement.removeEventListener(\"scroll\", handleMove);\n      window.removeEventListener(\"resize\", handleMove);\n    });\n  }, {\n    flush: \"post\"\n  });\n\n  const handleClickOutside = evt => {\n    if (!props.visible) return;\n    const target = evt.target;\n    const el = popup.value;\n    const relativeElement = props.getRelativeElement();\n\n    if (el && !el.contains(target) && relativeElement && !relativeElement.contains(target)) {\n      props.onClickOutside(evt);\n    }\n  };\n\n  watchEffect(onInvalidate => {\n    document.addEventListener(mousedownEvent, handleClickOutside);\n    onInvalidate(() => {\n      document.removeEventListener(mousedownEvent, handleClickOutside);\n    });\n  });\n  return () => {\n    return createVNode(Teleport, {\n      \"to\": \"body\",\n      \"disabled\": !props.appendToBody\n    }, {\n      default: () => [createVNode(Transition, {\n        \"name\": `${prefixClass}-zoom-in-down`\n      }, {\n        default: () => {\n          var _a;\n\n          return [props.visible && createVNode(\"div\", {\n            \"ref\": popup,\n            \"class\": `${prefixClass}-datepicker-main ${prefixClass}-datepicker-popup ${props.className}`,\n            \"style\": [__spreadValues({\n              position: \"absolute\"\n            }, position.value), props.style || {}]\n          }, [(_a = slots.default) == null ? void 0 : _a.call(slots)])];\n        }\n      })]\n    });\n  };\n}\n\nconst popupProps = keys()([\"style\", \"className\", \"visible\", \"appendToBody\", \"onClickOutside\", \"getRelativeElement\"]);\nvar Popup$1 = defineVueComponent(Popup, popupProps);\nconst _hoisted_1$2 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 1024 1024\",\n  width: \"1em\",\n  height: \"1em\"\n};\n\nconst _hoisted_2$2 = /* @__PURE__ */createElementVNode(\"path\", {\n  d: \"M940.218 107.055H730.764v-60.51H665.6v60.51H363.055v-60.51H297.89v60.51H83.78c-18.617 0-32.581 13.963-32.581 32.581v805.237c0 18.618 13.964 32.582 32.582 32.582h861.09c18.619 0 32.583-13.964 32.583-32.582V139.636c-4.655-18.618-18.619-32.581-37.237-32.581zm-642.327 65.163v60.51h65.164v-60.51h307.2v60.51h65.163v-60.51h176.873v204.8H116.364v-204.8H297.89zM116.364 912.291V442.18H912.29v470.11H116.364z\"\n}, null, -1);\n\nconst _hoisted_3$2 = [_hoisted_2$2];\n\nfunction render$2(_ctx, _cache) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1$2, _hoisted_3$2);\n}\n\nconst _hoisted_1$1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 1024 1024\",\n  width: \"1em\",\n  height: \"1em\"\n};\n\nconst _hoisted_2$1 = /* @__PURE__ */createElementVNode(\"path\", {\n  d: \"M810.005 274.005 572.011 512l237.994 237.995-60.01 60.01L512 572.011 274.005 810.005l-60.01-60.01L451.989 512 213.995 274.005l60.01-60.01L512 451.989l237.995-237.994z\"\n}, null, -1);\n\nconst _hoisted_3$1 = [_hoisted_2$1];\n\nfunction render$1(_ctx, _cache) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1$1, _hoisted_3$1);\n}\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  width: \"1em\",\n  height: \"1em\"\n};\n\nconst _hoisted_2 = /* @__PURE__ */createElementVNode(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n}, null, -1);\n\nconst _hoisted_3 = /* @__PURE__ */createElementVNode(\"path\", {\n  d: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}, null, -1);\n\nconst _hoisted_4 = /* @__PURE__ */createElementVNode(\"path\", {\n  d: \"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z\"\n}, null, -1);\n\nconst _hoisted_5 = [_hoisted_2, _hoisted_3, _hoisted_4];\n\nfunction render(_ctx, _cache) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_5);\n}\n\nfunction createDate(y, M = 0, d = 1, h2 = 0, m = 0, s = 0, ms = 0) {\n  const date = new Date(y, M, d, h2, m, s, ms);\n\n  if (y < 100 && y >= 0) {\n    date.setFullYear(y);\n  }\n\n  return date;\n}\n\nfunction isValidDate(date) {\n  return date instanceof Date && !isNaN(date.getTime());\n}\n\nfunction isValidRangeDate(dates) {\n  return Array.isArray(dates) && dates.length === 2 && dates.every(isValidDate) && dates[0] <= dates[1];\n}\n\nfunction isValidDates(dates) {\n  return Array.isArray(dates) && dates.every(isValidDate);\n}\n\nfunction getValidDate(...values) {\n  if (values[0] !== void 0 && values[0] !== null) {\n    const date = new Date(values[0]);\n\n    if (isValidDate(date)) {\n      return date;\n    }\n  }\n\n  const rest = values.slice(1);\n\n  if (rest.length) {\n    return getValidDate(...rest);\n  }\n\n  return new Date();\n}\n\nfunction startOfYear(value) {\n  const date = new Date(value);\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n\nfunction startOfMonth(value) {\n  const date = new Date(value);\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n\nfunction startOfDay(value) {\n  const date = new Date(value);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n\nfunction getCalendar({\n  firstDayOfWeek,\n  year,\n  month\n}) {\n  const arr = [];\n  const calendar = createDate(year, month, 0);\n  const lastDayInLastMonth = calendar.getDate();\n  const firstDayInLastMonth = lastDayInLastMonth - (calendar.getDay() + 7 - firstDayOfWeek) % 7;\n\n  for (let i = firstDayInLastMonth; i <= lastDayInLastMonth; i++) {\n    arr.push(createDate(year, month, i - lastDayInLastMonth));\n  }\n\n  calendar.setMonth(month + 1, 0);\n  const lastDayInCurrentMonth = calendar.getDate();\n\n  for (let i = 1; i <= lastDayInCurrentMonth; i++) {\n    arr.push(createDate(year, month, i));\n  }\n\n  const lastMonthLength = lastDayInLastMonth - firstDayInLastMonth + 1;\n  const nextMonthLength = 6 * 7 - lastMonthLength - lastDayInCurrentMonth;\n\n  for (let i = 1; i <= nextMonthLength; i++) {\n    arr.push(createDate(year, month, lastDayInCurrentMonth + i));\n  }\n\n  return arr;\n}\n\nfunction setMonth(dirtyDate, dirtyMonth) {\n  const date = new Date(dirtyDate);\n  const month = typeof dirtyMonth === \"function\" ? dirtyMonth(date.getMonth()) : Number(dirtyMonth);\n  const year = date.getFullYear();\n  const daysInMonth = createDate(year, month + 1, 0).getDate();\n  const day = date.getDate();\n  date.setMonth(month, Math.min(day, daysInMonth));\n  return date;\n}\n\nfunction setYear(dirtyDate, dirtyYear) {\n  const date = new Date(dirtyDate);\n  const year = typeof dirtyYear === \"function\" ? dirtyYear(date.getFullYear()) : dirtyYear;\n  date.setFullYear(year);\n  return date;\n}\n\nfunction diffCalendarMonths(dirtyDateLeft, dirtyDateRight) {\n  const dateRight = new Date(dirtyDateRight);\n  const dateLeft = new Date(dirtyDateLeft);\n  const yearDiff = dateRight.getFullYear() - dateLeft.getFullYear();\n  const monthDiff = dateRight.getMonth() - dateLeft.getMonth();\n  return yearDiff * 12 + monthDiff;\n}\n\nfunction assignTime(target, source) {\n  const date = new Date(target);\n  const time = new Date(source);\n  date.setHours(time.getHours(), time.getMinutes(), time.getSeconds());\n  return date;\n}\n\nfunction PickerInput(originalProps, {\n  slots\n}) {\n  const props = withDefault(originalProps, {\n    editable: true,\n    disabled: false,\n    clearable: true,\n    range: false,\n    multiple: false\n  });\n  const prefixClass = usePrefixClass();\n  const userInput = ref(null);\n  const innerSeparator = computed(() => {\n    return props.separator || (props.range ? \" ~ \" : \",\");\n  });\n\n  const isValidValue = value => {\n    if (props.range) {\n      return isValidRangeDate(value) && value.every(date => !props.disabledDate(date));\n    }\n\n    if (props.multiple) {\n      return isValidDates(value) && value.every(date => !props.disabledDate(date));\n    }\n\n    return isValidDate(value) && !props.disabledDate(value);\n  };\n\n  const text = computed(() => {\n    if (userInput.value !== null) {\n      return userInput.value;\n    }\n\n    if (typeof props.renderInputText === \"function\") {\n      return props.renderInputText(props.value);\n    }\n\n    if (!isValidValue(props.value)) {\n      return \"\";\n    }\n\n    if (Array.isArray(props.value)) {\n      return props.value.map(v => props.formatDate(v)).join(innerSeparator.value);\n    }\n\n    return props.formatDate(props.value);\n  });\n\n  const handleClear = evt => {\n    var _a;\n\n    if (evt) {\n      evt.stopPropagation();\n    }\n\n    props.onChange(props.range ? [null, null] : null);\n    (_a = props.onClear) == null ? void 0 : _a.call(props);\n  };\n\n  const handleChange = () => {\n    var _a;\n\n    if (!props.editable || userInput.value === null) return;\n    const text2 = userInput.value.trim();\n    userInput.value = null;\n\n    if (text2 === \"\") {\n      handleClear();\n      return;\n    }\n\n    let date;\n\n    if (props.range) {\n      let arr = text2.split(innerSeparator.value);\n\n      if (arr.length !== 2) {\n        arr = text2.split(innerSeparator.value.trim());\n      }\n\n      date = arr.map(v => props.parseDate(v.trim()));\n    } else if (props.multiple) {\n      date = text2.split(innerSeparator.value).map(v => props.parseDate(v.trim()));\n    } else {\n      date = props.parseDate(text2);\n    }\n\n    if (isValidValue(date)) {\n      props.onChange(date);\n    } else {\n      (_a = props.onInputError) == null ? void 0 : _a.call(props, text2);\n    }\n  };\n\n  const handleInput = evt => {\n    userInput.value = typeof evt === \"string\" ? evt : evt.target.value;\n  };\n\n  const handleKeydown = evt => {\n    const {\n      keyCode\n    } = evt;\n\n    if (keyCode === 9) {\n      props.onBlur();\n    } else if (keyCode === 13) {\n      handleChange();\n    }\n  };\n\n  return () => {\n    var _a, _b, _c;\n\n    const showClearIcon = !props.disabled && props.clearable && text.value;\n\n    const inputProps = __spreadProps(__spreadValues({\n      name: \"date\",\n      type: \"text\",\n      autocomplete: \"off\",\n      value: text.value,\n      class: props.inputClass || `${prefixClass}-input`,\n      readonly: !props.editable,\n      disabled: props.disabled,\n      placeholder: props.placeholder\n    }, props.inputAttr), {\n      onFocus: props.onFocus,\n      onKeydown: handleKeydown,\n      onInput: handleInput,\n      onChange: handleChange\n    });\n\n    return createVNode(\"div\", {\n      \"class\": `${prefixClass}-input-wrapper`,\n      \"onClick\": props.onClick\n    }, [((_a = slots.input) == null ? void 0 : _a.call(slots, inputProps)) || createVNode(\"input\", inputProps, null), showClearIcon ? createVNode(\"i\", {\n      \"class\": `${prefixClass}-icon-clear`,\n      \"onClick\": handleClear\n    }, [((_b = slots[\"icon-clear\"]) == null ? void 0 : _b.call(slots)) || createVNode(render$1, null, null)]) : null, createVNode(\"i\", {\n      \"class\": `${prefixClass}-icon-calendar`\n    }, [((_c = slots[\"icon-calendar\"]) == null ? void 0 : _c.call(slots)) || createVNode(render$2, null, null)])]);\n  };\n}\n\nconst pickerInputBaseProps = keys()([\"placeholder\", \"editable\", \"disabled\", \"clearable\", \"inputClass\", \"inputAttr\", \"range\", \"multiple\", \"separator\", \"renderInputText\", \"onInputError\", \"onClear\"]);\nconst pickerInputProps = keys()([\"value\", \"formatDate\", \"parseDate\", \"disabledDate\", \"onChange\", \"onFocus\", \"onBlur\", \"onClick\", ...pickerInputBaseProps]);\nvar PickerInput$1 = defineVueComponent(PickerInput, pickerInputProps);\n\nfunction Picker(originalProps, {\n  slots\n}) {\n  var _a;\n\n  const props = withDefault(originalProps, {\n    prefixClass: \"mx\",\n    valueType: \"date\",\n    format: \"YYYY-MM-DD\",\n    type: \"date\",\n    disabledDate: () => false,\n    disabledTime: () => false,\n    confirmText: \"OK\"\n  });\n  providePrefixClass(props.prefixClass);\n  provideGetWeek(((_a = props.formatter) == null ? void 0 : _a.getWeek) || getWeek);\n  const locale2 = provideLocale(toRef(originalProps, \"lang\"));\n  const container = ref();\n\n  const getContainer = () => container.value;\n\n  const defaultOpen = ref(false);\n  const popupVisible = computed(() => {\n    return !props.disabled && (typeof props.open === \"boolean\" ? props.open : defaultOpen.value);\n  });\n\n  const openPopup = () => {\n    var _a2, _b;\n\n    if (props.disabled || popupVisible.value) return;\n    defaultOpen.value = true;\n    (_a2 = props[\"onUpdate:open\"]) == null ? void 0 : _a2.call(props, true);\n    (_b = props.onOpen) == null ? void 0 : _b.call(props);\n  };\n\n  const closePopup = () => {\n    var _a2, _b;\n\n    if (!popupVisible.value) return;\n    defaultOpen.value = false;\n    (_a2 = props[\"onUpdate:open\"]) == null ? void 0 : _a2.call(props, false);\n    (_b = props.onClose) == null ? void 0 : _b.call(props);\n  };\n\n  const formatDate = (date, fmt) => {\n    fmt = fmt || props.format;\n\n    if (isPlainObject(props.formatter) && typeof props.formatter.stringify === \"function\") {\n      return props.formatter.stringify(date, fmt);\n    }\n\n    return format(date, fmt, {\n      locale: locale2.value.formatLocale\n    });\n  };\n\n  const parseDate = (value, fmt) => {\n    fmt = fmt || props.format;\n\n    if (isPlainObject(props.formatter) && typeof props.formatter.parse === \"function\") {\n      return props.formatter.parse(value, fmt);\n    }\n\n    const backupDate = new Date();\n    return parse(value, fmt, {\n      locale: locale2.value.formatLocale,\n      backupDate\n    });\n  };\n\n  const value2date = value => {\n    switch (props.valueType) {\n      case \"date\":\n        return value instanceof Date ? new Date(value.getTime()) : new Date(NaN);\n\n      case \"timestamp\":\n        return typeof value === \"number\" ? new Date(value) : new Date(NaN);\n\n      case \"format\":\n        return typeof value === \"string\" ? parseDate(value) : new Date(NaN);\n\n      default:\n        return typeof value === \"string\" ? parseDate(value, props.valueType) : new Date(NaN);\n    }\n  };\n\n  const date2value = date => {\n    if (!isValidDate(date)) return null;\n\n    switch (props.valueType) {\n      case \"date\":\n        return date;\n\n      case \"timestamp\":\n        return date.getTime();\n\n      case \"format\":\n        return formatDate(date);\n\n      default:\n        return formatDate(date, props.valueType);\n    }\n  };\n\n  const innerValue = computed(() => {\n    const value = props.value;\n\n    if (props.range) {\n      return (Array.isArray(value) ? value.slice(0, 2) : [null, null]).map(value2date);\n    }\n\n    if (props.multiple) {\n      return (Array.isArray(value) ? value : []).map(value2date);\n    }\n\n    return value2date(value);\n  });\n\n  const emitValue = (date, type, close = true) => {\n    var _a2, _b;\n\n    const value = Array.isArray(date) ? date.map(date2value) : date2value(date);\n    (_a2 = props[\"onUpdate:value\"]) == null ? void 0 : _a2.call(props, value);\n    (_b = props.onChange) == null ? void 0 : _b.call(props, value, type);\n\n    if (close) {\n      closePopup();\n    }\n\n    return value;\n  };\n\n  const currentValue = ref(new Date());\n  watchEffect(() => {\n    if (popupVisible.value) {\n      currentValue.value = innerValue.value;\n    }\n  });\n\n  const handleSelect = (val, type) => {\n    if (props.confirm) {\n      currentValue.value = val;\n    } else {\n      emitValue(val, type, !props.multiple && (type === props.type || type === \"time\"));\n    }\n  };\n\n  const handleConfirm = () => {\n    var _a2;\n\n    const value = emitValue(currentValue.value);\n    (_a2 = props.onConfirm) == null ? void 0 : _a2.call(props, value);\n  };\n\n  const disabledDateTime = v => {\n    return props.disabledDate(v) || props.disabledTime(v);\n  };\n\n  const renderSidebar = slotProps => {\n    var _a2;\n\n    const {\n      prefixClass\n    } = props;\n    return createVNode(\"div\", {\n      \"class\": `${prefixClass}-datepicker-sidebar`\n    }, [(_a2 = slots.sidebar) == null ? void 0 : _a2.call(slots, slotProps), (props.shortcuts || []).map((v, i) => createVNode(\"button\", {\n      \"key\": i,\n      \"data-index\": i,\n      \"type\": \"button\",\n      \"class\": `${prefixClass}-btn ${prefixClass}-btn-text ${prefixClass}-btn-shortcut`,\n      \"onClick\": () => {\n        var _a3;\n\n        const date = (_a3 = v.onClick) == null ? void 0 : _a3.call(v);\n\n        if (date) {\n          emitValue(date);\n        }\n      }\n    }, [v.text]))]);\n  };\n\n  return () => {\n    var _a2, _b;\n\n    const {\n      prefixClass,\n      disabled,\n      confirm,\n      range,\n      popupClass,\n      popupStyle,\n      appendToBody\n    } = props;\n    const slotProps = {\n      value: currentValue.value,\n      [\"onUpdate:value\"]: handleSelect,\n      emit: emitValue\n    };\n    const header = slots.header && createVNode(\"div\", {\n      \"class\": `${prefixClass}-datepicker-header`\n    }, [slots.header(slotProps)]);\n    const footer = (slots.footer || confirm) && createVNode(\"div\", {\n      \"class\": `${prefixClass}-datepicker-footer`\n    }, [(_a2 = slots.footer) == null ? void 0 : _a2.call(slots, slotProps), confirm && createVNode(\"button\", {\n      \"type\": \"button\",\n      \"class\": `${prefixClass}-btn ${prefixClass}-datepicker-btn-confirm`,\n      \"onClick\": handleConfirm\n    }, [props.confirmText])]);\n    const content = (_b = slots.content) == null ? void 0 : _b.call(slots, slotProps);\n    const sidedar = (slots.sidebar || props.shortcuts) && renderSidebar(slotProps);\n    return createVNode(\"div\", {\n      \"ref\": container,\n      \"class\": {\n        [`${prefixClass}-datepicker`]: true,\n        [`${prefixClass}-datepicker-range`]: range,\n        disabled\n      }\n    }, [createVNode(PickerInput$1, __spreadProps(__spreadValues({}, pick(props, pickerInputBaseProps)), {\n      \"value\": innerValue.value,\n      \"formatDate\": formatDate,\n      \"parseDate\": parseDate,\n      \"disabledDate\": disabledDateTime,\n      \"onChange\": emitValue,\n      \"onClick\": openPopup,\n      \"onFocus\": openPopup,\n      \"onBlur\": closePopup\n    }), pick(slots, [\"icon-calendar\", \"icon-clear\", \"input\"])), createVNode(Popup$1, {\n      \"className\": popupClass,\n      \"style\": popupStyle,\n      \"visible\": popupVisible.value,\n      \"appendToBody\": appendToBody,\n      \"getRelativeElement\": getContainer,\n      \"onClickOutside\": closePopup\n    }, {\n      default: () => [sidedar, createVNode(\"div\", {\n        \"class\": `${prefixClass}-datepicker-content`\n      }, [header, content, footer])]\n    })]);\n  };\n}\n\nconst pickerbaseProps = keys()([\"value\", \"valueType\", \"type\", \"format\", \"formatter\", \"lang\", \"prefixClass\", \"appendToBody\", \"open\", \"popupClass\", \"popupStyle\", \"confirm\", \"confirmText\", \"shortcuts\", \"disabledDate\", \"disabledTime\", \"onOpen\", \"onClose\", \"onConfirm\", \"onChange\", \"onUpdate:open\", \"onUpdate:value\"]);\nconst pickerProps = [...pickerbaseProps, ...pickerInputBaseProps];\nvar Picker$1 = defineVueComponent(Picker, pickerProps);\n\nfunction ButtonIcon(_a) {\n  var _b = _a,\n      {\n    value\n  } = _b,\n      rest = __objRest(_b, [\"value\"]);\n\n  const prefixClass = usePrefixClass();\n  return createVNode(\"button\", __spreadProps(__spreadValues({}, rest), {\n    \"type\": \"button\",\n    \"class\": `${prefixClass}-btn ${prefixClass}-btn-text ${prefixClass}-btn-icon-${value}`\n  }), [createVNode(\"i\", {\n    \"class\": `${prefixClass}-icon-${value}`\n  }, null)]);\n}\n\nfunction TableHeader({\n  type,\n  calendar,\n  onUpdateCalendar\n}, {\n  slots\n}) {\n  var _a;\n\n  const prefixClass = usePrefixClass();\n\n  const lastMonth = () => {\n    onUpdateCalendar(setMonth(calendar, v => v - 1));\n  };\n\n  const nextMonth = () => {\n    onUpdateCalendar(setMonth(calendar, v => v + 1));\n  };\n\n  const lastYear = () => {\n    onUpdateCalendar(setYear(calendar, v => v - 1));\n  };\n\n  const nextYear = () => {\n    onUpdateCalendar(setYear(calendar, v => v + 1));\n  };\n\n  const lastDecade = () => {\n    onUpdateCalendar(setYear(calendar, v => v - 10));\n  };\n\n  const nextDecade = () => {\n    onUpdateCalendar(setYear(calendar, v => v + 10));\n  };\n\n  return createVNode(\"div\", {\n    \"class\": `${prefixClass}-calendar-header`\n  }, [createVNode(ButtonIcon, {\n    \"value\": \"double-left\",\n    \"onClick\": type === \"year\" ? lastDecade : lastYear\n  }, null), type === \"date\" && createVNode(ButtonIcon, {\n    \"value\": \"left\",\n    \"onClick\": lastMonth\n  }, null), createVNode(ButtonIcon, {\n    \"value\": \"double-right\",\n    \"onClick\": type === \"year\" ? nextDecade : nextYear\n  }, null), type === \"date\" && createVNode(ButtonIcon, {\n    \"value\": \"right\",\n    \"onClick\": nextMonth\n  }, null), createVNode(\"span\", {\n    \"class\": `${prefixClass}-calendar-header-label`\n  }, [(_a = slots.default) == null ? void 0 : _a.call(slots)])]);\n}\n\nfunction TableDate({\n  calendar,\n  isWeekMode,\n  showWeekNumber,\n  titleFormat,\n  getWeekActive,\n  getCellClasses,\n  onSelect,\n  onUpdatePanel,\n  onUpdateCalendar,\n  onDateMouseEnter,\n  onDateMouseLeave\n}) {\n  const prefixClass = usePrefixClass();\n  const getWeekNumber = useGetWeek();\n  const locale2 = useLocale().value;\n  const {\n    yearFormat,\n    monthBeforeYear,\n    monthFormat = \"MMM\",\n    formatLocale\n  } = locale2;\n  const firstDayOfWeek = formatLocale.firstDayOfWeek || 0;\n  let days = locale2.days || formatLocale.weekdaysMin;\n  days = days.concat(days).slice(firstDayOfWeek, firstDayOfWeek + 7);\n  const year = calendar.getFullYear();\n  const month = calendar.getMonth();\n  const dates = chunk(getCalendar({\n    firstDayOfWeek,\n    year,\n    month\n  }), 7);\n\n  const formatDate = (date, fmt) => {\n    return format(date, fmt, {\n      locale: locale2.formatLocale\n    });\n  };\n\n  const handlePanelChange = panel => {\n    onUpdatePanel(panel);\n  };\n\n  const getCellDate = el => {\n    const index2 = el.getAttribute(\"data-index\");\n    const [row, col] = index2.split(\",\").map(v => parseInt(v, 10));\n    const value = dates[row][col];\n    return new Date(value);\n  };\n\n  const handleCellClick = evt => {\n    onSelect(getCellDate(evt.currentTarget));\n  };\n\n  const handleMouseEnter = evt => {\n    if (onDateMouseEnter) {\n      onDateMouseEnter(getCellDate(evt.currentTarget));\n    }\n  };\n\n  const handleMouseLeave = evt => {\n    if (onDateMouseLeave) {\n      onDateMouseLeave(getCellDate(evt.currentTarget));\n    }\n  };\n\n  const yearLabel = createVNode(\"button\", {\n    \"type\": \"button\",\n    \"class\": `${prefixClass}-btn ${prefixClass}-btn-text ${prefixClass}-btn-current-year`,\n    \"onClick\": () => handlePanelChange(\"year\")\n  }, [formatDate(calendar, yearFormat)]);\n  const monthLabel = createVNode(\"button\", {\n    \"type\": \"button\",\n    \"class\": `${prefixClass}-btn ${prefixClass}-btn-text ${prefixClass}-btn-current-month`,\n    \"onClick\": () => handlePanelChange(\"month\")\n  }, [formatDate(calendar, monthFormat)]);\n  showWeekNumber = typeof showWeekNumber === \"boolean\" ? showWeekNumber : isWeekMode;\n  return createVNode(\"div\", {\n    \"class\": [`${prefixClass}-calendar ${prefixClass}-calendar-panel-date`, {\n      [`${prefixClass}-calendar-week-mode`]: isWeekMode\n    }]\n  }, [createVNode(TableHeader, {\n    \"type\": \"date\",\n    \"calendar\": calendar,\n    \"onUpdateCalendar\": onUpdateCalendar\n  }, {\n    default: () => [monthBeforeYear ? [monthLabel, yearLabel] : [yearLabel, monthLabel]]\n  }), createVNode(\"div\", {\n    \"class\": `${prefixClass}-calendar-content`\n  }, [createVNode(\"table\", {\n    \"class\": `${prefixClass}-table ${prefixClass}-table-date`\n  }, [createVNode(\"thead\", null, [createVNode(\"tr\", null, [showWeekNumber && createVNode(\"th\", {\n    \"class\": `${prefixClass}-week-number-header`\n  }, null), days.map(day => createVNode(\"th\", {\n    \"key\": day\n  }, [day]))])]), createVNode(\"tbody\", null, [dates.map((row, i) => createVNode(\"tr\", {\n    \"key\": i,\n    \"class\": [`${prefixClass}-date-row`, {\n      [`${prefixClass}-active-week`]: getWeekActive(row)\n    }]\n  }, [showWeekNumber && createVNode(\"td\", {\n    \"class\": `${prefixClass}-week-number`,\n    \"data-index\": `${i},0`,\n    \"onClick\": handleCellClick\n  }, [createVNode(\"div\", null, [getWeekNumber(row[0])])]), row.map((cell, j) => createVNode(\"td\", {\n    \"key\": j,\n    \"class\": [\"cell\", getCellClasses(cell)],\n    \"title\": formatDate(cell, titleFormat),\n    \"data-index\": `${i},${j}`,\n    \"onClick\": handleCellClick,\n    \"onMouseenter\": handleMouseEnter,\n    \"onMouseleave\": handleMouseLeave\n  }, [createVNode(\"div\", null, [cell.getDate()])]))]))])])])]);\n}\n\nfunction TableMonth({\n  calendar,\n  getCellClasses,\n  onSelect,\n  onUpdateCalendar,\n  onUpdatePanel\n}) {\n  const prefixClass = usePrefixClass();\n  const locale2 = useLocale().value;\n  const months = locale2.months || locale2.formatLocale.monthsShort;\n\n  const getDate = month => {\n    return createDate(calendar.getFullYear(), month);\n  };\n\n  const handleClick = evt => {\n    const target = evt.currentTarget;\n    const month = target.getAttribute(\"data-month\");\n    onSelect(getDate(parseInt(month, 10)));\n  };\n\n  return createVNode(\"div\", {\n    \"class\": `${prefixClass}-calendar ${prefixClass}-calendar-panel-month`\n  }, [createVNode(TableHeader, {\n    \"type\": \"month\",\n    \"calendar\": calendar,\n    \"onUpdateCalendar\": onUpdateCalendar\n  }, {\n    default: () => [createVNode(\"button\", {\n      \"type\": \"button\",\n      \"class\": `${prefixClass}-btn ${prefixClass}-btn-text ${prefixClass}-btn-current-year`,\n      \"onClick\": () => onUpdatePanel(\"year\")\n    }, [calendar.getFullYear()])]\n  }), createVNode(\"div\", {\n    \"class\": `${prefixClass}-calendar-content`\n  }, [createVNode(\"table\", {\n    \"class\": `${prefixClass}-table ${prefixClass}-table-month`\n  }, [chunk(months, 3).map((row, i) => createVNode(\"tr\", {\n    \"key\": i\n  }, [row.map((cell, j) => {\n    const month = i * 3 + j;\n    return createVNode(\"td\", {\n      \"key\": j,\n      \"class\": [\"cell\", getCellClasses(getDate(month))],\n      \"data-month\": month,\n      \"onClick\": handleClick\n    }, [createVNode(\"div\", null, [cell])]);\n  })]))])])]);\n}\n\nconst getDefaultYears = calendar => {\n  const firstYear = Math.floor(calendar.getFullYear() / 10) * 10;\n  const years = [];\n\n  for (let i = 0; i < 10; i++) {\n    years.push(firstYear + i);\n  }\n\n  return chunk(years, 2);\n};\n\nfunction TableYear({\n  calendar,\n  getCellClasses = () => [],\n  getYearPanel = getDefaultYears,\n  onSelect,\n  onUpdateCalendar\n}) {\n  const prefixClass = usePrefixClass();\n\n  const getDate = year => {\n    return createDate(year, 0);\n  };\n\n  const handleClick = evt => {\n    const target = evt.currentTarget;\n    const year = target.getAttribute(\"data-year\");\n    onSelect(getDate(parseInt(year, 10)));\n  };\n\n  const years = getYearPanel(new Date(calendar));\n  const firstYear = years[0][0];\n  const lastYear = last(last(years));\n  return createVNode(\"div\", {\n    \"class\": `${prefixClass}-calendar ${prefixClass}-calendar-panel-year`\n  }, [createVNode(TableHeader, {\n    \"type\": \"year\",\n    \"calendar\": calendar,\n    \"onUpdateCalendar\": onUpdateCalendar\n  }, {\n    default: () => [createVNode(\"span\", null, [firstYear]), createVNode(\"span\", {\n      \"class\": `${prefixClass}-calendar-decade-separator`\n    }, null), createVNode(\"span\", null, [lastYear])]\n  }), createVNode(\"div\", {\n    \"class\": `${prefixClass}-calendar-content`\n  }, [createVNode(\"table\", {\n    \"class\": `${prefixClass}-table ${prefixClass}-table-year`\n  }, [years.map((row, i) => createVNode(\"tr\", {\n    \"key\": i\n  }, [row.map((cell, j) => createVNode(\"td\", {\n    \"key\": j,\n    \"class\": [\"cell\", getCellClasses(getDate(cell))],\n    \"data-year\": cell,\n    \"onClick\": handleClick\n  }, [createVNode(\"div\", null, [cell])]))]))])])]);\n}\n\nfunction Calendar(originalProps) {\n  const props = withDefault(originalProps, {\n    defaultValue: startOfDay(new Date()),\n    type: \"date\",\n    disabledDate: () => false,\n    getClasses: () => [],\n    titleFormat: \"YYYY-MM-DD\"\n  });\n  const innerValue = computed(() => {\n    const value = Array.isArray(props.value) ? props.value : [props.value];\n    return value.filter(isValidDate).map(v => {\n      if (props.type === \"year\") return startOfYear(v);\n      if (props.type === \"month\") return startOfMonth(v);\n      return startOfDay(v);\n    });\n  });\n  const innerCalendar = ref(new Date());\n  watchEffect(() => {\n    let calendarDate = props.calendar;\n\n    if (!isValidDate(calendarDate)) {\n      const {\n        length\n      } = innerValue.value;\n      calendarDate = getValidDate(length > 0 ? innerValue.value[length - 1] : props.defaultValue);\n    }\n\n    innerCalendar.value = startOfMonth(calendarDate);\n  });\n\n  const handleCalendarChange = calendar => {\n    var _a;\n\n    innerCalendar.value = calendar;\n    (_a = props.onCalendarChange) == null ? void 0 : _a.call(props, calendar);\n  };\n\n  const panel = ref(\"date\");\n  watchEffect(() => {\n    const panels = [\"date\", \"month\", \"year\"];\n    const index2 = Math.max(panels.indexOf(props.type), panels.indexOf(props.defaultPanel));\n    panel.value = index2 !== -1 ? panels[index2] : \"date\";\n  });\n\n  const handelPanelChange = value => {\n    var _a;\n\n    const oldPanel = panel.value;\n    panel.value = value;\n    (_a = props.onPanelChange) == null ? void 0 : _a.call(props, value, oldPanel);\n  };\n\n  const isDisabled = date => {\n    return props.disabledDate(new Date(date), innerValue.value);\n  };\n\n  const emitDate = (date, type) => {\n    var _a, _b, _c;\n\n    if (!isDisabled(date)) {\n      (_a = props.onPick) == null ? void 0 : _a.call(props, date);\n\n      if (props.multiple === true) {\n        const nextDates = innerValue.value.filter(v => v.getTime() !== date.getTime());\n\n        if (nextDates.length === innerValue.value.length) {\n          nextDates.push(date);\n        }\n\n        (_b = props[\"onUpdate:value\"]) == null ? void 0 : _b.call(props, nextDates, type);\n      } else {\n        (_c = props[\"onUpdate:value\"]) == null ? void 0 : _c.call(props, date, type);\n      }\n    }\n  };\n\n  const handleSelectDate = date => {\n    emitDate(date, props.type === \"week\" ? \"week\" : \"date\");\n  };\n\n  const handleSelectYear = date => {\n    if (props.type === \"year\") {\n      emitDate(date, \"year\");\n    } else {\n      handleCalendarChange(date);\n      handelPanelChange(\"month\");\n\n      if (props.partialUpdate && innerValue.value.length === 1) {\n        const value = setYear(innerValue.value[0], date.getFullYear());\n        emitDate(value, \"year\");\n      }\n    }\n  };\n\n  const handleSelectMonth = date => {\n    if (props.type === \"month\") {\n      emitDate(date, \"month\");\n    } else {\n      handleCalendarChange(date);\n      handelPanelChange(\"date\");\n\n      if (props.partialUpdate && innerValue.value.length === 1) {\n        const value = setMonth(setYear(innerValue.value[0], date.getFullYear()), date.getMonth());\n        emitDate(value, \"month\");\n      }\n    }\n  };\n\n  const getCellClasses = (cellDate, classes = []) => {\n    if (isDisabled(cellDate)) {\n      classes.push(\"disabled\");\n    } else if (innerValue.value.some(v => v.getTime() === cellDate.getTime())) {\n      classes.push(\"active\");\n    }\n\n    return classes.concat(props.getClasses(cellDate, innerValue.value, classes.join(\" \")));\n  };\n\n  const getDateClasses = cellDate => {\n    const notCurrentMonth = cellDate.getMonth() !== innerCalendar.value.getMonth();\n    const classes = [];\n\n    if (cellDate.getTime() === new Date().setHours(0, 0, 0, 0)) {\n      classes.push(\"today\");\n    }\n\n    if (notCurrentMonth) {\n      classes.push(\"not-current-month\");\n    }\n\n    return getCellClasses(cellDate, classes);\n  };\n\n  const getMonthClasses = cellDate => {\n    if (props.type !== \"month\") {\n      return innerCalendar.value.getMonth() === cellDate.getMonth() ? \"active\" : \"\";\n    }\n\n    return getCellClasses(cellDate);\n  };\n\n  const getYearClasses = cellDate => {\n    if (props.type !== \"year\") {\n      return innerCalendar.value.getFullYear() === cellDate.getFullYear() ? \"active\" : \"\";\n    }\n\n    return getCellClasses(cellDate);\n  };\n\n  const getWeekActive = row => {\n    if (props.type !== \"week\") return false;\n    const start = row[0].getTime();\n    const end = row[6].getTime();\n    return innerValue.value.some(v => {\n      const time = v.getTime();\n      return time >= start && time <= end;\n    });\n  };\n\n  return () => {\n    if (panel.value === \"year\") {\n      return createVNode(TableYear, {\n        \"calendar\": innerCalendar.value,\n        \"getCellClasses\": getYearClasses,\n        \"getYearPanel\": props.getYearPanel,\n        \"onSelect\": handleSelectYear,\n        \"onUpdateCalendar\": handleCalendarChange\n      }, null);\n    }\n\n    if (panel.value === \"month\") {\n      return createVNode(TableMonth, {\n        \"calendar\": innerCalendar.value,\n        \"getCellClasses\": getMonthClasses,\n        \"onSelect\": handleSelectMonth,\n        \"onUpdatePanel\": handelPanelChange,\n        \"onUpdateCalendar\": handleCalendarChange\n      }, null);\n    }\n\n    return createVNode(TableDate, {\n      \"isWeekMode\": props.type === \"week\",\n      \"showWeekNumber\": props.showWeekNumber,\n      \"titleFormat\": props.titleFormat,\n      \"calendar\": innerCalendar.value,\n      \"getCellClasses\": getDateClasses,\n      \"getWeekActive\": getWeekActive,\n      \"onSelect\": handleSelectDate,\n      \"onUpdatePanel\": handelPanelChange,\n      \"onUpdateCalendar\": handleCalendarChange,\n      \"onDateMouseEnter\": props.onDateMouseEnter,\n      \"onDateMouseLeave\": props.onDateMouseLeave\n    }, null);\n  };\n}\n\nconst calendarProps = keys()([\"type\", \"value\", \"defaultValue\", \"defaultPanel\", \"disabledDate\", \"getClasses\", \"calendar\", \"multiple\", \"partialUpdate\", \"showWeekNumber\", \"titleFormat\", \"getYearPanel\", \"onDateMouseEnter\", \"onDateMouseLeave\", \"onCalendarChange\", \"onPanelChange\", \"onUpdate:value\", \"onPick\"]);\nvar Calendar$1 = defineVueComponent(Calendar, calendarProps);\n\nconst inRange = (date, range) => {\n  const value = date.getTime();\n  let [min, max] = range.map(v => v.getTime());\n\n  if (min > max) {\n    [min, max] = [max, min];\n  }\n\n  return value > min && value < max;\n};\n\nfunction CalendarRange(originalProps) {\n  const props = withDefault(originalProps, {\n    defaultValue: new Date(),\n    type: \"date\"\n  });\n  const prefixClass = usePrefixClass();\n  const defaultValues = computed(() => {\n    let values = Array.isArray(props.defaultValue) ? props.defaultValue : [props.defaultValue, props.defaultValue];\n    values = values.map(v => startOfDay(v));\n\n    if (isValidRangeDate(values)) {\n      return values;\n    }\n\n    return [new Date(), new Date()].map(v => startOfDay(v));\n  });\n  const innerValue = ref([new Date(NaN), new Date(NaN)]);\n  watchEffect(() => {\n    if (isValidRangeDate(props.value)) {\n      innerValue.value = props.value;\n    }\n  });\n\n  const handlePick = (date, type) => {\n    var _a;\n\n    const [startValue, endValue] = innerValue.value;\n\n    if (isValidDate(startValue) && !isValidDate(endValue)) {\n      if (startValue.getTime() > date.getTime()) {\n        innerValue.value = [date, startValue];\n      } else {\n        innerValue.value = [startValue, date];\n      }\n\n      (_a = props[\"onUpdate:value\"]) == null ? void 0 : _a.call(props, innerValue.value, type);\n    } else {\n      innerValue.value = [date, new Date(NaN)];\n    }\n  };\n\n  const defaultCalendars = ref([new Date(), new Date()]);\n  const calendars = computed(() => {\n    return isValidRangeDate(props.calendar) ? props.calendar : defaultCalendars.value;\n  });\n  const calendarMinDiff = computed(() => {\n    if (props.type === \"year\") return 10 * 12;\n    if (props.type === \"month\") return 1 * 12;\n    return 1;\n  });\n\n  const updateCalendars = (dates, index2) => {\n    var _a;\n\n    const diff = diffCalendarMonths(dates[0], dates[1]);\n    const gap = calendarMinDiff.value - diff;\n\n    if (gap > 0) {\n      const anotherIndex = index2 === 1 ? 0 : 1;\n      dates[anotherIndex] = setMonth(dates[anotherIndex], v => v + (anotherIndex === 0 ? -gap : gap));\n    }\n\n    defaultCalendars.value = dates;\n    (_a = props.onCalendarChange) == null ? void 0 : _a.call(props, dates, index2);\n  };\n\n  const updateCalendarStart = date => {\n    updateCalendars([date, calendars.value[1]], 0);\n  };\n\n  const updateCalendarEnd = date => {\n    updateCalendars([calendars.value[0], date], 1);\n  };\n\n  watchEffect(() => {\n    const dates = isValidRangeDate(props.value) ? props.value : defaultValues.value;\n    updateCalendars(dates.slice(0, 2));\n  });\n  const hoveredValue = ref(null);\n\n  const handleMouseEnter = v => hoveredValue.value = v;\n\n  const handleMouseLeave = () => hoveredValue.value = null;\n\n  const getRangeClasses = (cellDate, currentDates, classnames) => {\n    const outerClasses = props.getClasses ? props.getClasses(cellDate, currentDates, classnames) : [];\n    const classes = Array.isArray(outerClasses) ? outerClasses : [outerClasses];\n    if (/disabled|active/.test(classnames)) return classes;\n\n    if (currentDates.length === 2 && inRange(cellDate, currentDates)) {\n      classes.push(\"in-range\");\n    }\n\n    if (currentDates.length === 1 && hoveredValue.value && inRange(cellDate, [currentDates[0], hoveredValue.value])) {\n      return classes.concat(\"hover-in-range\");\n    }\n\n    return classes;\n  };\n\n  return () => {\n    const calendarRange = calendars.value.map((calendar, index2) => {\n      const calendarProps2 = __spreadProps(__spreadValues({}, props), {\n        calendar,\n        value: innerValue.value,\n        defaultValue: defaultValues.value[index2],\n        getClasses: getRangeClasses,\n        partialUpdate: false,\n        multiple: false,\n        [\"onUpdate:value\"]: handlePick,\n        onCalendarChange: index2 === 0 ? updateCalendarStart : updateCalendarEnd,\n        onDateMouseLeave: handleMouseLeave,\n        onDateMouseEnter: handleMouseEnter\n      });\n\n      return createVNode(Calendar$1, calendarProps2, null);\n    });\n    return createVNode(\"div\", {\n      \"class\": `${prefixClass}-calendar-range`\n    }, [calendarRange]);\n  };\n}\n\nconst calendarRangeProps = calendarProps;\nvar CalendarRange$1 = defineVueComponent(CalendarRange, calendarRangeProps);\nconst ScrollbarVertical = defineComponent({\n  setup(props, {\n    slots\n  }) {\n    const prefixClass = usePrefixClass();\n    const wrapper = ref();\n    const thumbHeight = ref(\"\");\n    const thumbTop = ref(\"\");\n\n    const getThumbHeight = () => {\n      if (!wrapper.value) return;\n      const el = wrapper.value;\n      const heightPercentage = el.clientHeight * 100 / el.scrollHeight;\n      thumbHeight.value = heightPercentage < 100 ? `${heightPercentage}%` : \"\";\n    };\n\n    onMounted(getThumbHeight);\n    const scrollbarWidth = getScrollbarWidth();\n\n    const handleScroll = evt => {\n      const el = evt.currentTarget;\n      const {\n        scrollHeight,\n        scrollTop\n      } = el;\n      thumbTop.value = `${scrollTop * 100 / scrollHeight}%`;\n    };\n\n    let draggable = false;\n    let prevY = 0;\n\n    const handleDragstart = evt => {\n      evt.stopImmediatePropagation();\n      const el = evt.currentTarget;\n      const {\n        offsetTop\n      } = el;\n      draggable = true;\n      prevY = evt.clientY - offsetTop;\n    };\n\n    const handleDraging = evt => {\n      if (!draggable || !wrapper.value) return;\n      const {\n        clientY\n      } = evt;\n      const {\n        scrollHeight,\n        clientHeight\n      } = wrapper.value;\n      const offsetY = clientY - prevY;\n      const top = offsetY * scrollHeight / clientHeight;\n      wrapper.value.scrollTop = top;\n    };\n\n    const handleDragend = () => {\n      draggable = false;\n    };\n\n    onMounted(() => {\n      document.addEventListener(\"mousemove\", handleDraging);\n      document.addEventListener(\"mouseup\", handleDragend);\n    });\n    onUnmounted(() => {\n      document.addEventListener(\"mousemove\", handleDraging);\n      document.addEventListener(\"mouseup\", handleDragend);\n    });\n    return () => {\n      var _a;\n\n      return createVNode(\"div\", {\n        \"class\": `${prefixClass}-scrollbar`,\n        \"style\": {\n          position: \"relative\",\n          overflow: \"hidden\"\n        }\n      }, [createVNode(\"div\", {\n        \"ref\": wrapper,\n        \"class\": `${prefixClass}-scrollbar-wrap`,\n        \"style\": {\n          marginRight: `-${scrollbarWidth}px`\n        },\n        \"onScroll\": handleScroll\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]), createVNode(\"div\", {\n        \"class\": `${prefixClass}-scrollbar-track`\n      }, [createVNode(\"div\", {\n        \"class\": `${prefixClass}-scrollbar-thumb`,\n        \"style\": {\n          height: thumbHeight.value,\n          top: thumbTop.value\n        },\n        \"onMousedown\": handleDragstart\n      }, null)])]);\n    };\n  }\n\n});\n\nfunction Columns({\n  options,\n  getClasses,\n  onSelect\n}) {\n  const prefixClass = usePrefixClass();\n\n  const handleSelect = evt => {\n    const target = evt.target;\n    const currentTarget = evt.currentTarget;\n    if (target.tagName.toUpperCase() !== \"LI\") return;\n    const type = currentTarget.getAttribute(\"data-type\");\n    const col = parseInt(currentTarget.getAttribute(\"data-index\"), 10);\n    const index2 = parseInt(target.getAttribute(\"data-index\"), 10);\n    const value = options[col].list[index2].value;\n    onSelect(value, type);\n  };\n\n  return createVNode(\"div\", {\n    \"class\": `${prefixClass}-time-columns`\n  }, [options.map((col, i) => createVNode(ScrollbarVertical, {\n    \"key\": col.type,\n    \"class\": `${prefixClass}-time-column`\n  }, {\n    default: () => [createVNode(\"ul\", {\n      \"class\": `${prefixClass}-time-list`,\n      \"data-index\": i,\n      \"data-type\": col.type,\n      \"onClick\": handleSelect\n    }, [col.list.map((item, j) => createVNode(\"li\", {\n      \"key\": item.text,\n      \"data-index\": j,\n      \"class\": [`${prefixClass}-time-item`, getClasses(item.value, col.type)]\n    }, [item.text]))])]\n  }))]);\n}\n\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\n\nfunction FixedList(props) {\n  let _slot;\n\n  const prefixClass = usePrefixClass();\n  return createVNode(ScrollbarVertical, null, _isSlot(_slot = props.options.map(item => createVNode(\"div\", {\n    \"key\": item.text,\n    \"class\": [`${prefixClass}-time-option`, props.getClasses(item.value, \"time\")],\n    \"onClick\": () => props.onSelect(item.value, \"time\")\n  }, [item.text]))) ? _slot : {\n    default: () => [_slot]\n  });\n}\n\nfunction generateList({\n  length,\n  step = 1,\n  options\n}) {\n  if (Array.isArray(options)) {\n    return options.filter(v => v >= 0 && v < length);\n  }\n\n  if (step <= 0) {\n    step = 1;\n  }\n\n  const arr = [];\n\n  for (let i = 0; i < length; i += step) {\n    arr.push(i);\n  }\n\n  return arr;\n}\n\nfunction getColumnOptions(date, options) {\n  let {\n    showHour,\n    showMinute,\n    showSecond,\n    use12h\n  } = options;\n  const format2 = options.format || \"HH:mm:ss\";\n  showHour = typeof showHour === \"boolean\" ? showHour : /[HhKk]/.test(format2);\n  showMinute = typeof showMinute === \"boolean\" ? showMinute : /m/.test(format2);\n  showSecond = typeof showSecond === \"boolean\" ? showSecond : /s/.test(format2);\n  use12h = typeof use12h === \"boolean\" ? use12h : /a/i.test(format2);\n  const columns = [];\n  const isPM = use12h && date.getHours() >= 12;\n\n  if (showHour) {\n    columns.push({\n      type: \"hour\",\n      list: generateList({\n        length: use12h ? 12 : 24,\n        step: options.hourStep,\n        options: options.hourOptions\n      }).map(num => {\n        const text = num === 0 && use12h ? \"12\" : padNumber(num);\n        const value = new Date(date);\n        value.setHours(isPM ? num + 12 : num);\n        return {\n          value,\n          text\n        };\n      })\n    });\n  }\n\n  if (showMinute) {\n    columns.push({\n      type: \"minute\",\n      list: generateList({\n        length: 60,\n        step: options.minuteStep,\n        options: options.minuteOptions\n      }).map(num => {\n        const value = new Date(date);\n        value.setMinutes(num);\n        return {\n          value,\n          text: padNumber(num)\n        };\n      })\n    });\n  }\n\n  if (showSecond) {\n    columns.push({\n      type: \"second\",\n      list: generateList({\n        length: 60,\n        step: options.secondStep,\n        options: options.secondOptions\n      }).map(num => {\n        const value = new Date(date);\n        value.setSeconds(num);\n        return {\n          value,\n          text: padNumber(num)\n        };\n      })\n    });\n  }\n\n  if (use12h) {\n    columns.push({\n      type: \"ampm\",\n      list: [\"AM\", \"PM\"].map((text, i) => {\n        const value = new Date(date);\n        value.setHours(value.getHours() % 12 + i * 12);\n        return {\n          text,\n          value\n        };\n      })\n    });\n  }\n\n  return columns;\n}\n\nfunction parseOption(time = \"\") {\n  const values = time.split(\":\");\n\n  if (values.length >= 2) {\n    const hours = parseInt(values[0], 10);\n    const minutes = parseInt(values[1], 10);\n    return {\n      hours,\n      minutes\n    };\n  }\n\n  return null;\n}\n\nfunction getFixedOptions({\n  date,\n  option,\n  format: format2,\n  formatDate\n}) {\n  const result = [];\n\n  if (typeof option === \"function\") {\n    return option() || [];\n  }\n\n  const start = parseOption(option.start);\n  const end = parseOption(option.end);\n  const step = parseOption(option.step);\n  const fmt = option.format || format2;\n\n  if (start && end && step) {\n    const startMinutes = start.minutes + start.hours * 60;\n    const endMinutes = end.minutes + end.hours * 60;\n    const stepMinutes = step.minutes + step.hours * 60;\n    const len = Math.floor((endMinutes - startMinutes) / stepMinutes);\n\n    for (let i = 0; i <= len; i++) {\n      const timeMinutes = startMinutes + i * stepMinutes;\n      const hours = Math.floor(timeMinutes / 60);\n      const minutes = timeMinutes % 60;\n      const value = new Date(date);\n      value.setHours(hours, minutes, 0);\n      result.push({\n        value,\n        text: formatDate(value, fmt)\n      });\n    }\n  }\n\n  return result;\n}\n\nconst scrollTo = (element, to, duration = 0) => {\n  if (duration <= 0) {\n    requestAnimationFrame(() => {\n      element.scrollTop = to;\n    });\n    return;\n  }\n\n  const difference = to - element.scrollTop;\n  const tick = difference / duration * 10;\n  requestAnimationFrame(() => {\n    const scrollTop = element.scrollTop + tick;\n\n    if (scrollTop >= to) {\n      element.scrollTop = to;\n      return;\n    }\n\n    element.scrollTop = scrollTop;\n    scrollTo(element, to, duration - 10);\n  });\n};\n\nfunction TimePanel(originalProps) {\n  const props = withDefault(originalProps, {\n    defaultValue: startOfDay(new Date()),\n    format: \"HH:mm:ss\",\n    timeTitleFormat: \"YYYY-MM-DD\",\n    disabledTime: () => false,\n    scrollDuration: 100\n  });\n  const prefixClass = usePrefixClass();\n  const locale2 = useLocale();\n\n  const formatDate = (date, fmt) => {\n    return format(date, fmt, {\n      locale: locale2.value.formatLocale\n    });\n  };\n\n  const innerValue = ref(new Date());\n  watchEffect(() => {\n    innerValue.value = getValidDate(props.value, props.defaultValue);\n  });\n\n  const isDisabledTimes = value => {\n    if (Array.isArray(value)) {\n      return value.every(v => props.disabledTime(new Date(v)));\n    }\n\n    return props.disabledTime(new Date(value));\n  };\n\n  const isDisabledHour = date => {\n    const value = new Date(date);\n    return isDisabledTimes([value.getTime(), value.setMinutes(0, 0, 0), value.setMinutes(59, 59, 999)]);\n  };\n\n  const isDisabledMinute = date => {\n    const value = new Date(date);\n    return isDisabledTimes([value.getTime(), value.setSeconds(0, 0), value.setSeconds(59, 999)]);\n  };\n\n  const isDisabledAMPM = date => {\n    const value = new Date(date);\n    const minHour = value.getHours() < 12 ? 0 : 12;\n    const maxHour = minHour + 11;\n    return isDisabledTimes([value.getTime(), value.setHours(minHour, 0, 0, 0), value.setHours(maxHour, 59, 59, 999)]);\n  };\n\n  const isDisabled = (date, type) => {\n    if (type === \"hour\") {\n      return isDisabledHour(date);\n    }\n\n    if (type === \"minute\") {\n      return isDisabledMinute(date);\n    }\n\n    if (type === \"ampm\") {\n      return isDisabledAMPM(date);\n    }\n\n    return isDisabledTimes(date);\n  };\n\n  const handleSelect = (value, type) => {\n    var _a;\n\n    if (!isDisabled(value, type)) {\n      const date = new Date(value);\n      innerValue.value = date;\n\n      if (!isDisabledTimes(date)) {\n        (_a = props[\"onUpdate:value\"]) == null ? void 0 : _a.call(props, date, type);\n      }\n    }\n  };\n\n  const getClasses = (cellDate, type) => {\n    if (isDisabled(cellDate, type)) {\n      return \"disabled\";\n    }\n\n    if (cellDate.getTime() === innerValue.value.getTime()) {\n      return \"active\";\n    }\n\n    return \"\";\n  };\n\n  const container = ref();\n\n  const scrollToSelected = duration => {\n    if (!container.value) return;\n    const elements = container.value.querySelectorAll(\".active\");\n\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      const scrollElement = getScrollParent(element, container.value);\n\n      if (scrollElement) {\n        const to = element.offsetTop;\n        scrollTo(scrollElement, to, duration);\n      }\n    }\n  };\n\n  onMounted(() => scrollToSelected(0));\n  watch(innerValue, () => scrollToSelected(props.scrollDuration), {\n    flush: \"post\"\n  });\n  return () => {\n    let content;\n\n    if (props.timePickerOptions) {\n      content = createVNode(FixedList, {\n        \"onSelect\": handleSelect,\n        \"getClasses\": getClasses,\n        \"options\": getFixedOptions({\n          date: innerValue.value,\n          format: props.format,\n          option: props.timePickerOptions,\n          formatDate\n        })\n      }, null);\n    } else {\n      content = createVNode(Columns, {\n        \"options\": getColumnOptions(innerValue.value, props),\n        \"onSelect\": handleSelect,\n        \"getClasses\": getClasses\n      }, null);\n    }\n\n    return createVNode(\"div\", {\n      \"class\": `${prefixClass}-time`,\n      \"ref\": container\n    }, [props.showTimeHeader && createVNode(\"div\", {\n      \"class\": `${prefixClass}-time-header`\n    }, [createVNode(\"button\", {\n      \"type\": \"button\",\n      \"class\": `${prefixClass}-btn ${prefixClass}-btn-text ${prefixClass}-time-header-title`,\n      \"onClick\": props.onClickTitle\n    }, [formatDate(innerValue.value, props.timeTitleFormat)])]), createVNode(\"div\", {\n      \"class\": `${prefixClass}-time-content`\n    }, [content])]);\n  };\n}\n\nconst timePanelProps = keys()([\"value\", \"defaultValue\", \"format\", \"timeTitleFormat\", \"showTimeHeader\", \"disabledTime\", \"timePickerOptions\", \"hourOptions\", \"minuteOptions\", \"secondOptions\", \"hourStep\", \"minuteStep\", \"secondStep\", \"showHour\", \"showMinute\", \"showSecond\", \"use12h\", \"scrollDuration\", \"onClickTitle\", \"onUpdate:value\"]);\nvar TimePanel$1 = defineVueComponent(TimePanel, timePanelProps);\n\nfunction TimeRange(originalProps) {\n  const props = withDefault(originalProps, {\n    defaultValue: startOfDay(new Date()),\n    disabledTime: () => false\n  });\n  const prefixClass = usePrefixClass();\n  const innerValue = ref([new Date(NaN), new Date(NaN)]);\n  watchEffect(() => {\n    if (isValidRangeDate(props.value)) {\n      innerValue.value = props.value;\n    } else {\n      innerValue.value = [new Date(NaN), new Date(NaN)];\n    }\n  });\n\n  const emitChange = (type, index2) => {\n    var _a;\n\n    (_a = props[\"onUpdate:value\"]) == null ? void 0 : _a.call(props, innerValue.value, type === \"time\" ? \"time-range\" : type, index2);\n  };\n\n  const handleSelectStart = (date, type) => {\n    innerValue.value[0] = date;\n\n    if (!(innerValue.value[1].getTime() >= date.getTime())) {\n      innerValue.value[1] = date;\n    }\n\n    emitChange(type, 0);\n  };\n\n  const handleSelectEnd = (date, type) => {\n    innerValue.value[1] = date;\n\n    if (!(innerValue.value[0].getTime() <= date.getTime())) {\n      innerValue.value[0] = date;\n    }\n\n    emitChange(type, 1);\n  };\n\n  const disabledStartTime = date => {\n    return props.disabledTime(date, 0);\n  };\n\n  const disabledEndTime = date => {\n    return date.getTime() < innerValue.value[0].getTime() || props.disabledTime(date, 1);\n  };\n\n  return () => {\n    const defaultValues = Array.isArray(props.defaultValue) ? props.defaultValue : [props.defaultValue, props.defaultValue];\n    return createVNode(\"div\", {\n      \"class\": `${prefixClass}-time-range`\n    }, [createVNode(TimePanel$1, __spreadProps(__spreadValues({}, props), {\n      [\"onUpdate:value\"]: handleSelectStart,\n      \"value\": innerValue.value[0],\n      \"defaultValue\": defaultValues[0],\n      \"disabledTime\": disabledStartTime\n    }), null), createVNode(TimePanel$1, __spreadProps(__spreadValues({}, props), {\n      [\"onUpdate:value\"]: handleSelectEnd,\n      \"value\": innerValue.value[1],\n      \"defaultValue\": defaultValues[1],\n      \"disabledTime\": disabledEndTime\n    }), null)]);\n  };\n}\n\nconst timeRangeProps = timePanelProps;\nvar TimeRange$1 = defineVueComponent(TimeRange, timeRangeProps);\n\nfunction useTimePanelVisible(props) {\n  const defaultTimeVisible = ref(false);\n\n  const closeTimePanel = () => {\n    var _a;\n\n    defaultTimeVisible.value = false;\n    (_a = props.onShowTimePanelChange) == null ? void 0 : _a.call(props, false);\n  };\n\n  const openTimePanel = () => {\n    var _a;\n\n    defaultTimeVisible.value = true;\n    (_a = props.onShowTimePanelChange) == null ? void 0 : _a.call(props, true);\n  };\n\n  const timeVisible = computed(() => {\n    return typeof props.showTimePanel === \"boolean\" ? props.showTimePanel : defaultTimeVisible.value;\n  });\n  return {\n    timeVisible,\n    openTimePanel,\n    closeTimePanel\n  };\n}\n\nfunction DateTime(originalProps) {\n  const props = withDefault(originalProps, {\n    disabledTime: () => false,\n    defaultValue: startOfDay(new Date())\n  });\n  const currentValue = ref(props.value);\n  watchEffect(() => {\n    currentValue.value = props.value;\n  });\n  const {\n    openTimePanel,\n    closeTimePanel,\n    timeVisible\n  } = useTimePanelVisible(props);\n\n  const handleSelect = (date, type) => {\n    var _a;\n\n    if (type === \"date\") {\n      openTimePanel();\n    }\n\n    let datetime = assignTime(date, getValidDate(props.value, props.defaultValue));\n\n    if (props.disabledTime(new Date(datetime))) {\n      datetime = assignTime(date, props.defaultValue);\n\n      if (props.disabledTime(new Date(datetime))) {\n        currentValue.value = datetime;\n        return;\n      }\n    }\n\n    (_a = props[\"onUpdate:value\"]) == null ? void 0 : _a.call(props, datetime, type);\n  };\n\n  return () => {\n    const prefixClass = usePrefixClass();\n\n    const calendarProp = __spreadProps(__spreadValues({}, pick(props, calendarProps)), {\n      multiple: false,\n      type: \"date\",\n      value: currentValue.value,\n      [\"onUpdate:value\"]: handleSelect\n    });\n\n    const timeProps = __spreadProps(__spreadValues({}, pick(props, timePanelProps)), {\n      showTimeHeader: true,\n      value: currentValue.value,\n      [\"onUpdate:value\"]: props[\"onUpdate:value\"],\n      onClickTitle: closeTimePanel\n    });\n\n    return createVNode(\"div\", {\n      \"class\": `${prefixClass}-date-time`\n    }, [createVNode(Calendar$1, calendarProp, null), timeVisible.value && createVNode(TimePanel$1, timeProps, null)]);\n  };\n}\n\nconst datetimeBaseProps = keys()([\"showTimePanel\", \"onShowTimePanelChange\"]);\nconst datetimeProps = [...datetimeBaseProps, ...calendarProps, ...timePanelProps];\nvar DateTime$1 = defineVueComponent(DateTime, datetimeProps);\n\nfunction DateTimeRange(originalProps) {\n  const props = withDefault(originalProps, {\n    defaultValue: startOfDay(new Date()),\n    disabledTime: () => false\n  });\n  const currentValue = ref(props.value);\n  watchEffect(() => {\n    currentValue.value = props.value;\n  });\n  const {\n    openTimePanel,\n    closeTimePanel,\n    timeVisible\n  } = useTimePanelVisible(props);\n\n  const handleSelect = (dates, type) => {\n    var _a;\n\n    if (type === \"date\") {\n      openTimePanel();\n    }\n\n    const defaultValues = Array.isArray(props.defaultValue) ? props.defaultValue : [props.defaultValue, props.defaultValue];\n    let datetimes = dates.map((date, i) => {\n      const time = isValidRangeDate(props.value) ? props.value[i] : defaultValues[i];\n      return assignTime(date, time);\n    });\n\n    if (datetimes[1].getTime() < datetimes[0].getTime()) {\n      datetimes = [datetimes[0], datetimes[0]];\n    }\n\n    if (datetimes.some(props.disabledTime)) {\n      datetimes = dates.map((date, i) => assignTime(date, defaultValues[i]));\n\n      if (datetimes.some(props.disabledTime)) {\n        currentValue.value = datetimes;\n        return;\n      }\n    }\n\n    (_a = props[\"onUpdate:value\"]) == null ? void 0 : _a.call(props, datetimes, type);\n  };\n\n  return () => {\n    const prefixClass = usePrefixClass();\n\n    const calendarProp = __spreadProps(__spreadValues({}, pick(props, calendarRangeProps)), {\n      type: \"date\",\n      value: currentValue.value,\n      [\"onUpdate:value\"]: handleSelect\n    });\n\n    const timeProps = __spreadProps(__spreadValues({}, pick(props, timeRangeProps)), {\n      showTimeHeader: true,\n      value: currentValue.value,\n      [\"onUpdate:value\"]: props[\"onUpdate:value\"],\n      onClickTitle: closeTimePanel\n    });\n\n    return createVNode(\"div\", {\n      \"class\": `${prefixClass}-date-time-range`\n    }, [createVNode(CalendarRange$1, calendarProp, null), timeVisible.value && createVNode(TimeRange$1, timeProps, null)]);\n  };\n}\n\nconst datetimeRangeProps = [...datetimeBaseProps, ...timeRangeProps, ...calendarRangeProps];\nvar DateTimeRange$1 = defineVueComponent(DateTimeRange, datetimeRangeProps);\nconst booleanKeys = keys()([\"range\", \"open\", \"appendToBody\", \"clearable\", \"confirm\", \"disabled\", \"editable\", \"multiple\", \"partialUpdate\", \"showHour\", \"showMinute\", \"showSecond\", \"showTimeHeader\", \"showTimePanel\", \"showWeekNumber\", \"use12h\"]);\nconst formatMap = {\n  date: \"YYYY-MM-DD\",\n  datetime: \"YYYY-MM-DD HH:mm:ss\",\n  year: \"YYYY\",\n  month: \"YYYY-MM\",\n  time: \"HH:mm:ss\",\n  week: \"w\"\n};\n\nfunction DatePicker(originalProps, {\n  slots\n}) {\n  const type = originalProps.type || \"date\";\n  const format2 = originalProps.format || formatMap[type] || formatMap.date;\n\n  const props = __spreadProps(__spreadValues({}, resolveProps(originalProps, booleanKeys)), {\n    type,\n    format: format2\n  });\n\n  return createVNode(Picker$1, pick(props, Picker$1.props), __spreadValues({\n    content: slotProps => {\n      if (props.range) {\n        const Content = type === \"time\" ? TimeRange$1 : type === \"datetime\" ? DateTimeRange$1 : CalendarRange$1;\n        return h(Content, pick(__spreadValues(__spreadValues({}, props), slotProps), Content.props));\n      } else {\n        const Content = type === \"time\" ? TimePanel$1 : type === \"datetime\" ? DateTime$1 : Calendar$1;\n        return h(Content, pick(__spreadValues(__spreadValues({}, props), slotProps), Content.props));\n      }\n    },\n    [\"icon-calendar\"]: () => type === \"time\" ? createVNode(render, null, null) : createVNode(render$2, null, null)\n  }, slots));\n}\n\nconst api = {\n  locale,\n  install: app => {\n    app.component(\"DatePicker\", DatePicker);\n  }\n};\nvar index = Object.assign(DatePicker, api, {\n  Calendar: Calendar$1,\n  CalendarRange: CalendarRange$1,\n  TimePanel: TimePanel$1,\n  TimeRange: TimeRange$1,\n  DateTime: DateTime$1,\n  DateTimeRange: DateTimeRange$1\n});\nexport { index as default };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","__objRest","source","exclude","target","indexOf","inject","shallowRef","computed","provide","ref","watchEffect","createVNode","Teleport","Transition","openBlock","createElementBlock","createElementVNode","toRef","defineComponent","onMounted","onUnmounted","isVNode","watch","h","getWeek","format","parse","en","lang","formatLocale","yearFormat","monthFormat","monthBeforeYear","defaultLocale","locales","locale","name","object","isLocal","l","getLocale","chunk","arr","size","Array","isArray","result","len","length","i","push","slice","last","array","isPlainObject","toString","pick","props","res","forEach","mergeDeep","keys","targetValue","padNumber","num","parseInt","String","camelcase","str","camelizeRE","replace","_","c","toUpperCase","localeContextKey","prefixClassKey","getWeekKey","useLocale","provideLocale","lang2","locale2","providePrefixClass","usePrefixClass","provideGetWeek","useGetWeek","getPopupElementSize","element","originalDisplay","style","display","originalVisibility","visibility","styles","window","getComputedStyle","width","offsetWidth","marginLeft","marginRight","height","offsetHeight","marginTop","marginBottom","getRelativePosition","el","targetWidth","targetHeight","fixed","left","top","offsetX","offsetY","relativeRect","getBoundingClientRect","dw","document","documentElement","clientWidth","dh","clientHeight","pageXOffset","pageYOffset","right","bottom","getScrollParent","node","until","body","getPropertyValue","regex","scroll","test","parentElement","scrollBarWidth","getScrollbarWidth","outer","createElement","overflow","position","appendChild","inner","parentNode","removeChild","mousedownEvent","rafThrottle","fn","isRunning","fnBinfRaf","args","requestAnimationFrame","apply","defineVueComponent","setup","withDefault","defaultProps","Proxy","get","resolveProps","booleanKeys2","camelizeKey","Popup","originalProps","slots","appendToBody","prefixClass","popup","displayPopup","visible","relativeElement","getRelativeElement","flush","onInvalidate","scrollElement","handleMove","addEventListener","removeEventListener","handleClickOutside","evt","contains","onClickOutside","default","_a","className","popupProps","Popup$1","_hoisted_1$2","xmlns","viewBox","_hoisted_2$2","d","_hoisted_3$2","render$2","_ctx","_cache","_hoisted_1$1","_hoisted_2$1","_hoisted_3$1","render$1","_hoisted_1","_hoisted_2","fill","_hoisted_3","_hoisted_4","_hoisted_5","render","createDate","y","M","h2","m","s","ms","date","Date","setFullYear","isValidDate","isNaN","getTime","isValidRangeDate","dates","every","isValidDates","getValidDate","values","rest","startOfYear","setMonth","setHours","startOfMonth","setDate","startOfDay","getCalendar","firstDayOfWeek","year","month","calendar","lastDayInLastMonth","getDate","firstDayInLastMonth","getDay","lastDayInCurrentMonth","lastMonthLength","nextMonthLength","dirtyDate","dirtyMonth","getMonth","Number","getFullYear","daysInMonth","day","Math","min","setYear","dirtyYear","diffCalendarMonths","dirtyDateLeft","dirtyDateRight","dateRight","dateLeft","yearDiff","monthDiff","assignTime","time","getHours","getMinutes","getSeconds","PickerInput","editable","disabled","clearable","range","multiple","userInput","innerSeparator","separator","isValidValue","disabledDate","text","renderInputText","map","v","formatDate","join","handleClear","stopPropagation","onChange","onClear","handleChange","text2","trim","split","parseDate","onInputError","handleInput","handleKeydown","keyCode","onBlur","_b","_c","showClearIcon","inputProps","type","autocomplete","class","inputClass","readonly","placeholder","inputAttr","onFocus","onKeydown","onInput","onClick","input","pickerInputBaseProps","pickerInputProps","PickerInput$1","Picker","valueType","disabledTime","confirmText","formatter","container","getContainer","defaultOpen","popupVisible","open","openPopup","_a2","onOpen","closePopup","onClose","fmt","stringify","backupDate","value2date","NaN","date2value","innerValue","emitValue","close","currentValue","handleSelect","val","confirm","handleConfirm","onConfirm","disabledDateTime","renderSidebar","slotProps","sidebar","shortcuts","_a3","popupClass","popupStyle","emit","header","footer","content","sidedar","pickerbaseProps","pickerProps","Picker$1","ButtonIcon","TableHeader","onUpdateCalendar","lastMonth","nextMonth","lastYear","nextYear","lastDecade","nextDecade","TableDate","isWeekMode","showWeekNumber","titleFormat","getWeekActive","getCellClasses","onSelect","onUpdatePanel","onDateMouseEnter","onDateMouseLeave","getWeekNumber","days","weekdaysMin","concat","handlePanelChange","panel","getCellDate","index2","getAttribute","row","col","handleCellClick","currentTarget","handleMouseEnter","handleMouseLeave","yearLabel","monthLabel","cell","j","TableMonth","months","monthsShort","handleClick","getDefaultYears","firstYear","floor","years","TableYear","getYearPanel","Calendar","defaultValue","getClasses","filter","innerCalendar","calendarDate","handleCalendarChange","onCalendarChange","panels","max","defaultPanel","handelPanelChange","oldPanel","onPanelChange","isDisabled","emitDate","onPick","nextDates","handleSelectDate","handleSelectYear","partialUpdate","handleSelectMonth","cellDate","classes","some","getDateClasses","notCurrentMonth","getMonthClasses","getYearClasses","start","end","calendarProps","Calendar$1","inRange","CalendarRange","defaultValues","handlePick","startValue","endValue","defaultCalendars","calendars","calendarMinDiff","updateCalendars","diff","gap","anotherIndex","updateCalendarStart","updateCalendarEnd","hoveredValue","getRangeClasses","currentDates","classnames","outerClasses","calendarRange","calendarProps2","calendarRangeProps","CalendarRange$1","ScrollbarVertical","wrapper","thumbHeight","thumbTop","getThumbHeight","heightPercentage","scrollHeight","scrollbarWidth","handleScroll","scrollTop","draggable","prevY","handleDragstart","stopImmediatePropagation","offsetTop","clientY","handleDraging","handleDragend","Columns","options","tagName","list","item","_isSlot","FixedList","_slot","generateList","step","getColumnOptions","showHour","showMinute","showSecond","use12h","format2","columns","isPM","hourStep","hourOptions","minuteStep","minuteOptions","setMinutes","secondStep","secondOptions","setSeconds","parseOption","hours","minutes","getFixedOptions","option","startMinutes","endMinutes","stepMinutes","timeMinutes","scrollTo","to","duration","difference","tick","TimePanel","timeTitleFormat","scrollDuration","isDisabledTimes","isDisabledHour","isDisabledMinute","isDisabledAMPM","minHour","maxHour","scrollToSelected","elements","querySelectorAll","timePickerOptions","showTimeHeader","onClickTitle","timePanelProps","TimePanel$1","TimeRange","emitChange","handleSelectStart","handleSelectEnd","disabledStartTime","disabledEndTime","timeRangeProps","TimeRange$1","useTimePanelVisible","defaultTimeVisible","closeTimePanel","onShowTimePanelChange","openTimePanel","timeVisible","showTimePanel","DateTime","datetime","calendarProp","timeProps","datetimeBaseProps","datetimeProps","DateTime$1","DateTimeRange","datetimes","datetimeRangeProps","DateTimeRange$1","booleanKeys","formatMap","week","DatePicker","Content","api","install","app","component","index","assign"],"sources":["D:/Traveller/Traveller-Frontend/traveller-ui/node_modules/vue-datepicker-next/index.es.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nimport { inject, shallowRef, computed, provide, ref, watchEffect, createVNode, Teleport, Transition, openBlock, createElementBlock, createElementVNode, toRef, defineComponent, onMounted, onUnmounted, isVNode, watch, h } from \"vue\";\nimport { getWeek, format, parse } from \"date-format-parse\";\nimport en from \"date-format-parse/es/locale/en\";\nconst lang = {\n  formatLocale: en,\n  yearFormat: \"YYYY\",\n  monthFormat: \"MMM\",\n  monthBeforeYear: true\n};\nlet defaultLocale = \"en\";\nconst locales = {};\nlocales[defaultLocale] = lang;\nfunction locale(name, object, isLocal = false) {\n  if (typeof name !== \"string\")\n    return locales[defaultLocale];\n  let l = defaultLocale;\n  if (locales[name]) {\n    l = name;\n  }\n  if (object) {\n    locales[name] = object;\n    l = name;\n  }\n  if (!isLocal) {\n    defaultLocale = l;\n  }\n  return locales[name] || locales[defaultLocale];\n}\nfunction getLocale(name) {\n  return locale(name, void 0, true);\n}\nfunction chunk(arr, size) {\n  if (!Array.isArray(arr)) {\n    return [];\n  }\n  const result = [];\n  const len = arr.length;\n  let i = 0;\n  size = size || len;\n  while (i < len) {\n    result.push(arr.slice(i, i += size));\n  }\n  return result;\n}\nfunction last(array) {\n  return Array.isArray(array) ? array[array.length - 1] : void 0;\n}\nfunction isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === \"[object Object]\";\n}\nfunction pick(obj, props) {\n  const res = {};\n  if (!isPlainObject(obj))\n    return res;\n  if (!Array.isArray(props)) {\n    props = [props];\n  }\n  props.forEach((prop) => {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n      res[prop] = obj[prop];\n    }\n  });\n  return res;\n}\nfunction mergeDeep(target, source) {\n  if (!isPlainObject(target)) {\n    return {};\n  }\n  let result = target;\n  if (isPlainObject(source)) {\n    Object.keys(source).forEach((key) => {\n      let value = source[key];\n      const targetValue = target[key];\n      if (isPlainObject(value) && isPlainObject(targetValue)) {\n        value = mergeDeep(targetValue, value);\n      }\n      result = __spreadProps(__spreadValues({}, result), { [key]: value });\n    });\n  }\n  return result;\n}\nfunction padNumber(value) {\n  const num = parseInt(String(value), 10);\n  return num < 10 ? `0${num}` : `${num}`;\n}\nfunction camelcase(str) {\n  const camelizeRE = /-(\\w)/g;\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n}\nconst localeContextKey = \"datepicker_locale\";\nconst prefixClassKey = \"datepicker_prefixClass\";\nconst getWeekKey = \"datepicker_getWeek\";\nfunction useLocale() {\n  return inject(localeContextKey, shallowRef(getLocale()));\n}\nfunction provideLocale(lang2) {\n  const locale2 = computed(() => {\n    if (isPlainObject(lang2.value)) {\n      return mergeDeep(getLocale(), lang2.value);\n    }\n    return getLocale(lang2.value);\n  });\n  provide(localeContextKey, locale2);\n  return locale2;\n}\nfunction providePrefixClass(value) {\n  provide(prefixClassKey, value);\n}\nfunction usePrefixClass() {\n  return inject(prefixClassKey, \"mx\");\n}\nfunction provideGetWeek(value) {\n  provide(getWeekKey, value);\n}\nfunction useGetWeek() {\n  return inject(getWeekKey, getWeek);\n}\nfunction getPopupElementSize(element) {\n  const originalDisplay = element.style.display;\n  const originalVisibility = element.style.visibility;\n  element.style.display = \"block\";\n  element.style.visibility = \"hidden\";\n  const styles = window.getComputedStyle(element);\n  const width = element.offsetWidth + parseInt(styles.marginLeft, 10) + parseInt(styles.marginRight, 10);\n  const height = element.offsetHeight + parseInt(styles.marginTop, 10) + parseInt(styles.marginBottom, 10);\n  element.style.display = originalDisplay;\n  element.style.visibility = originalVisibility;\n  return { width, height };\n}\nfunction getRelativePosition(el, targetWidth, targetHeight, fixed) {\n  let left = 0;\n  let top = 0;\n  let offsetX = 0;\n  let offsetY = 0;\n  const relativeRect = el.getBoundingClientRect();\n  const dw = document.documentElement.clientWidth;\n  const dh = document.documentElement.clientHeight;\n  if (fixed) {\n    offsetX = window.pageXOffset + relativeRect.left;\n    offsetY = window.pageYOffset + relativeRect.top;\n  }\n  if (dw - relativeRect.left < targetWidth && relativeRect.right < targetWidth) {\n    left = offsetX - relativeRect.left + 1;\n  } else if (relativeRect.left + relativeRect.width / 2 <= dw / 2) {\n    left = offsetX;\n  } else {\n    left = offsetX + relativeRect.width - targetWidth;\n  }\n  if (relativeRect.top <= targetHeight && dh - relativeRect.bottom <= targetHeight) {\n    top = offsetY + dh - relativeRect.top - targetHeight;\n  } else if (relativeRect.top + relativeRect.height / 2 <= dh / 2) {\n    top = offsetY + relativeRect.height;\n  } else {\n    top = offsetY - targetHeight;\n  }\n  return { left: `${left}px`, top: `${top}px` };\n}\nfunction getScrollParent(node, until = document.body) {\n  if (!node || node === until) {\n    return null;\n  }\n  const style = (value, prop) => getComputedStyle(value, null).getPropertyValue(prop);\n  const regex = /(auto|scroll)/;\n  const scroll = regex.test(style(node, \"overflow\") + style(node, \"overflow-y\") + style(node, \"overflow-x\"));\n  return scroll ? node : getScrollParent(node.parentElement, until);\n}\nlet scrollBarWidth;\nfunction getScrollbarWidth() {\n  if (typeof window === \"undefined\")\n    return 0;\n  if (scrollBarWidth !== void 0)\n    return scrollBarWidth;\n  const outer = document.createElement(\"div\");\n  outer.style.visibility = \"hidden\";\n  outer.style.overflow = \"scroll\";\n  outer.style.width = \"100px\";\n  outer.style.position = \"absolute\";\n  outer.style.top = \"-9999px\";\n  document.body.appendChild(outer);\n  const inner = document.createElement(\"div\");\n  inner.style.width = \"100%\";\n  outer.appendChild(inner);\n  scrollBarWidth = outer.offsetWidth - inner.offsetWidth;\n  outer.parentNode.removeChild(outer);\n  return scrollBarWidth;\n}\nconst mousedownEvent = \"ontouchend\" in document ? \"touchstart\" : \"mousedown\";\nfunction rafThrottle(fn) {\n  let isRunning = false;\n  return function fnBinfRaf(...args) {\n    if (isRunning)\n      return;\n    isRunning = true;\n    requestAnimationFrame(() => {\n      isRunning = false;\n      fn.apply(this, args);\n    });\n  };\n}\nfunction defineVueComponent(setup, props) {\n  return { setup, name: setup.name, props };\n}\nfunction withDefault(props, defaultProps) {\n  const result = new Proxy(props, {\n    get(target, key) {\n      const value = target[key];\n      if (value !== void 0) {\n        return value;\n      }\n      return defaultProps[key];\n    }\n  });\n  return result;\n}\nconst keys = () => (props) => props;\nconst resolveProps = (obj, booleanKeys2) => {\n  const props = {};\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      const camelizeKey = camelcase(key);\n      let value = obj[key];\n      if (booleanKeys2.indexOf(camelizeKey) !== -1 && value === \"\") {\n        value = true;\n      }\n      props[camelizeKey] = value;\n    }\n  }\n  return props;\n};\nfunction Popup(originalProps, {\n  slots\n}) {\n  const props = withDefault(originalProps, {\n    appendToBody: true\n  });\n  const prefixClass = usePrefixClass();\n  const popup = ref(null);\n  const position = ref({\n    left: \"\",\n    top: \"\"\n  });\n  const displayPopup = () => {\n    if (!props.visible || !popup.value)\n      return;\n    const relativeElement = props.getRelativeElement();\n    if (!relativeElement)\n      return;\n    const {\n      width,\n      height\n    } = getPopupElementSize(popup.value);\n    position.value = getRelativePosition(relativeElement, width, height, props.appendToBody);\n  };\n  watchEffect(displayPopup, {\n    flush: \"post\"\n  });\n  watchEffect((onInvalidate) => {\n    const relativeElement = props.getRelativeElement();\n    if (!relativeElement)\n      return;\n    const scrollElement = getScrollParent(relativeElement) || window;\n    const handleMove = rafThrottle(displayPopup);\n    scrollElement.addEventListener(\"scroll\", handleMove);\n    window.addEventListener(\"resize\", handleMove);\n    onInvalidate(() => {\n      scrollElement.removeEventListener(\"scroll\", handleMove);\n      window.removeEventListener(\"resize\", handleMove);\n    });\n  }, {\n    flush: \"post\"\n  });\n  const handleClickOutside = (evt) => {\n    if (!props.visible)\n      return;\n    const target = evt.target;\n    const el = popup.value;\n    const relativeElement = props.getRelativeElement();\n    if (el && !el.contains(target) && relativeElement && !relativeElement.contains(target)) {\n      props.onClickOutside(evt);\n    }\n  };\n  watchEffect((onInvalidate) => {\n    document.addEventListener(mousedownEvent, handleClickOutside);\n    onInvalidate(() => {\n      document.removeEventListener(mousedownEvent, handleClickOutside);\n    });\n  });\n  return () => {\n    return createVNode(Teleport, {\n      \"to\": \"body\",\n      \"disabled\": !props.appendToBody\n    }, {\n      default: () => [createVNode(Transition, {\n        \"name\": `${prefixClass}-zoom-in-down`\n      }, {\n        default: () => {\n          var _a;\n          return [props.visible && createVNode(\"div\", {\n            \"ref\": popup,\n            \"class\": `${prefixClass}-datepicker-main ${prefixClass}-datepicker-popup ${props.className}`,\n            \"style\": [__spreadValues({\n              position: \"absolute\"\n            }, position.value), props.style || {}]\n          }, [(_a = slots.default) == null ? void 0 : _a.call(slots)])];\n        }\n      })]\n    });\n  };\n}\nconst popupProps = keys()([\"style\", \"className\", \"visible\", \"appendToBody\", \"onClickOutside\", \"getRelativeElement\"]);\nvar Popup$1 = defineVueComponent(Popup, popupProps);\nconst _hoisted_1$2 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 1024 1024\",\n  width: \"1em\",\n  height: \"1em\"\n};\nconst _hoisted_2$2 = /* @__PURE__ */ createElementVNode(\"path\", { d: \"M940.218 107.055H730.764v-60.51H665.6v60.51H363.055v-60.51H297.89v60.51H83.78c-18.617 0-32.581 13.963-32.581 32.581v805.237c0 18.618 13.964 32.582 32.582 32.582h861.09c18.619 0 32.583-13.964 32.583-32.582V139.636c-4.655-18.618-18.619-32.581-37.237-32.581zm-642.327 65.163v60.51h65.164v-60.51h307.2v60.51h65.163v-60.51h176.873v204.8H116.364v-204.8H297.89zM116.364 912.291V442.18H912.29v470.11H116.364z\" }, null, -1);\nconst _hoisted_3$2 = [\n  _hoisted_2$2\n];\nfunction render$2(_ctx, _cache) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1$2, _hoisted_3$2);\n}\nconst _hoisted_1$1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 1024 1024\",\n  width: \"1em\",\n  height: \"1em\"\n};\nconst _hoisted_2$1 = /* @__PURE__ */ createElementVNode(\"path\", { d: \"M810.005 274.005 572.011 512l237.994 237.995-60.01 60.01L512 572.011 274.005 810.005l-60.01-60.01L451.989 512 213.995 274.005l60.01-60.01L512 451.989l237.995-237.994z\" }, null, -1);\nconst _hoisted_3$1 = [\n  _hoisted_2$1\n];\nfunction render$1(_ctx, _cache) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1$1, _hoisted_3$1);\n}\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  width: \"1em\",\n  height: \"1em\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n}, null, -1);\nconst _hoisted_3 = /* @__PURE__ */ createElementVNode(\"path\", { d: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\" }, null, -1);\nconst _hoisted_4 = /* @__PURE__ */ createElementVNode(\"path\", { d: \"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z\" }, null, -1);\nconst _hoisted_5 = [\n  _hoisted_2,\n  _hoisted_3,\n  _hoisted_4\n];\nfunction render(_ctx, _cache) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_5);\n}\nfunction createDate(y, M = 0, d = 1, h2 = 0, m = 0, s = 0, ms = 0) {\n  const date = new Date(y, M, d, h2, m, s, ms);\n  if (y < 100 && y >= 0) {\n    date.setFullYear(y);\n  }\n  return date;\n}\nfunction isValidDate(date) {\n  return date instanceof Date && !isNaN(date.getTime());\n}\nfunction isValidRangeDate(dates) {\n  return Array.isArray(dates) && dates.length === 2 && dates.every(isValidDate) && dates[0] <= dates[1];\n}\nfunction isValidDates(dates) {\n  return Array.isArray(dates) && dates.every(isValidDate);\n}\nfunction getValidDate(...values) {\n  if (values[0] !== void 0 && values[0] !== null) {\n    const date = new Date(values[0]);\n    if (isValidDate(date)) {\n      return date;\n    }\n  }\n  const rest = values.slice(1);\n  if (rest.length) {\n    return getValidDate(...rest);\n  }\n  return new Date();\n}\nfunction startOfYear(value) {\n  const date = new Date(value);\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\nfunction startOfMonth(value) {\n  const date = new Date(value);\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\nfunction startOfDay(value) {\n  const date = new Date(value);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\nfunction getCalendar({\n  firstDayOfWeek,\n  year,\n  month\n}) {\n  const arr = [];\n  const calendar = createDate(year, month, 0);\n  const lastDayInLastMonth = calendar.getDate();\n  const firstDayInLastMonth = lastDayInLastMonth - (calendar.getDay() + 7 - firstDayOfWeek) % 7;\n  for (let i = firstDayInLastMonth; i <= lastDayInLastMonth; i++) {\n    arr.push(createDate(year, month, i - lastDayInLastMonth));\n  }\n  calendar.setMonth(month + 1, 0);\n  const lastDayInCurrentMonth = calendar.getDate();\n  for (let i = 1; i <= lastDayInCurrentMonth; i++) {\n    arr.push(createDate(year, month, i));\n  }\n  const lastMonthLength = lastDayInLastMonth - firstDayInLastMonth + 1;\n  const nextMonthLength = 6 * 7 - lastMonthLength - lastDayInCurrentMonth;\n  for (let i = 1; i <= nextMonthLength; i++) {\n    arr.push(createDate(year, month, lastDayInCurrentMonth + i));\n  }\n  return arr;\n}\nfunction setMonth(dirtyDate, dirtyMonth) {\n  const date = new Date(dirtyDate);\n  const month = typeof dirtyMonth === \"function\" ? dirtyMonth(date.getMonth()) : Number(dirtyMonth);\n  const year = date.getFullYear();\n  const daysInMonth = createDate(year, month + 1, 0).getDate();\n  const day = date.getDate();\n  date.setMonth(month, Math.min(day, daysInMonth));\n  return date;\n}\nfunction setYear(dirtyDate, dirtyYear) {\n  const date = new Date(dirtyDate);\n  const year = typeof dirtyYear === \"function\" ? dirtyYear(date.getFullYear()) : dirtyYear;\n  date.setFullYear(year);\n  return date;\n}\nfunction diffCalendarMonths(dirtyDateLeft, dirtyDateRight) {\n  const dateRight = new Date(dirtyDateRight);\n  const dateLeft = new Date(dirtyDateLeft);\n  const yearDiff = dateRight.getFullYear() - dateLeft.getFullYear();\n  const monthDiff = dateRight.getMonth() - dateLeft.getMonth();\n  return yearDiff * 12 + monthDiff;\n}\nfunction assignTime(target, source) {\n  const date = new Date(target);\n  const time = new Date(source);\n  date.setHours(time.getHours(), time.getMinutes(), time.getSeconds());\n  return date;\n}\nfunction PickerInput(originalProps, {\n  slots\n}) {\n  const props = withDefault(originalProps, {\n    editable: true,\n    disabled: false,\n    clearable: true,\n    range: false,\n    multiple: false\n  });\n  const prefixClass = usePrefixClass();\n  const userInput = ref(null);\n  const innerSeparator = computed(() => {\n    return props.separator || (props.range ? \" ~ \" : \",\");\n  });\n  const isValidValue = (value) => {\n    if (props.range) {\n      return isValidRangeDate(value) && value.every((date) => !props.disabledDate(date));\n    }\n    if (props.multiple) {\n      return isValidDates(value) && value.every((date) => !props.disabledDate(date));\n    }\n    return isValidDate(value) && !props.disabledDate(value);\n  };\n  const text = computed(() => {\n    if (userInput.value !== null) {\n      return userInput.value;\n    }\n    if (typeof props.renderInputText === \"function\") {\n      return props.renderInputText(props.value);\n    }\n    if (!isValidValue(props.value)) {\n      return \"\";\n    }\n    if (Array.isArray(props.value)) {\n      return props.value.map((v) => props.formatDate(v)).join(innerSeparator.value);\n    }\n    return props.formatDate(props.value);\n  });\n  const handleClear = (evt) => {\n    var _a;\n    if (evt) {\n      evt.stopPropagation();\n    }\n    props.onChange(props.range ? [null, null] : null);\n    (_a = props.onClear) == null ? void 0 : _a.call(props);\n  };\n  const handleChange = () => {\n    var _a;\n    if (!props.editable || userInput.value === null)\n      return;\n    const text2 = userInput.value.trim();\n    userInput.value = null;\n    if (text2 === \"\") {\n      handleClear();\n      return;\n    }\n    let date;\n    if (props.range) {\n      let arr = text2.split(innerSeparator.value);\n      if (arr.length !== 2) {\n        arr = text2.split(innerSeparator.value.trim());\n      }\n      date = arr.map((v) => props.parseDate(v.trim()));\n    } else if (props.multiple) {\n      date = text2.split(innerSeparator.value).map((v) => props.parseDate(v.trim()));\n    } else {\n      date = props.parseDate(text2);\n    }\n    if (isValidValue(date)) {\n      props.onChange(date);\n    } else {\n      (_a = props.onInputError) == null ? void 0 : _a.call(props, text2);\n    }\n  };\n  const handleInput = (evt) => {\n    userInput.value = typeof evt === \"string\" ? evt : evt.target.value;\n  };\n  const handleKeydown = (evt) => {\n    const {\n      keyCode\n    } = evt;\n    if (keyCode === 9) {\n      props.onBlur();\n    } else if (keyCode === 13) {\n      handleChange();\n    }\n  };\n  return () => {\n    var _a, _b, _c;\n    const showClearIcon = !props.disabled && props.clearable && text.value;\n    const inputProps = __spreadProps(__spreadValues({\n      name: \"date\",\n      type: \"text\",\n      autocomplete: \"off\",\n      value: text.value,\n      class: props.inputClass || `${prefixClass}-input`,\n      readonly: !props.editable,\n      disabled: props.disabled,\n      placeholder: props.placeholder\n    }, props.inputAttr), {\n      onFocus: props.onFocus,\n      onKeydown: handleKeydown,\n      onInput: handleInput,\n      onChange: handleChange\n    });\n    return createVNode(\"div\", {\n      \"class\": `${prefixClass}-input-wrapper`,\n      \"onClick\": props.onClick\n    }, [((_a = slots.input) == null ? void 0 : _a.call(slots, inputProps)) || createVNode(\"input\", inputProps, null), showClearIcon ? createVNode(\"i\", {\n      \"class\": `${prefixClass}-icon-clear`,\n      \"onClick\": handleClear\n    }, [((_b = slots[\"icon-clear\"]) == null ? void 0 : _b.call(slots)) || createVNode(render$1, null, null)]) : null, createVNode(\"i\", {\n      \"class\": `${prefixClass}-icon-calendar`\n    }, [((_c = slots[\"icon-calendar\"]) == null ? void 0 : _c.call(slots)) || createVNode(render$2, null, null)])]);\n  };\n}\nconst pickerInputBaseProps = keys()([\"placeholder\", \"editable\", \"disabled\", \"clearable\", \"inputClass\", \"inputAttr\", \"range\", \"multiple\", \"separator\", \"renderInputText\", \"onInputError\", \"onClear\"]);\nconst pickerInputProps = keys()([\"value\", \"formatDate\", \"parseDate\", \"disabledDate\", \"onChange\", \"onFocus\", \"onBlur\", \"onClick\", ...pickerInputBaseProps]);\nvar PickerInput$1 = defineVueComponent(PickerInput, pickerInputProps);\nfunction Picker(originalProps, {\n  slots\n}) {\n  var _a;\n  const props = withDefault(originalProps, {\n    prefixClass: \"mx\",\n    valueType: \"date\",\n    format: \"YYYY-MM-DD\",\n    type: \"date\",\n    disabledDate: () => false,\n    disabledTime: () => false,\n    confirmText: \"OK\"\n  });\n  providePrefixClass(props.prefixClass);\n  provideGetWeek(((_a = props.formatter) == null ? void 0 : _a.getWeek) || getWeek);\n  const locale2 = provideLocale(toRef(originalProps, \"lang\"));\n  const container = ref();\n  const getContainer = () => container.value;\n  const defaultOpen = ref(false);\n  const popupVisible = computed(() => {\n    return !props.disabled && (typeof props.open === \"boolean\" ? props.open : defaultOpen.value);\n  });\n  const openPopup = () => {\n    var _a2, _b;\n    if (props.disabled || popupVisible.value)\n      return;\n    defaultOpen.value = true;\n    (_a2 = props[\"onUpdate:open\"]) == null ? void 0 : _a2.call(props, true);\n    (_b = props.onOpen) == null ? void 0 : _b.call(props);\n  };\n  const closePopup = () => {\n    var _a2, _b;\n    if (!popupVisible.value)\n      return;\n    defaultOpen.value = false;\n    (_a2 = props[\"onUpdate:open\"]) == null ? void 0 : _a2.call(props, false);\n    (_b = props.onClose) == null ? void 0 : _b.call(props);\n  };\n  const formatDate = (date, fmt) => {\n    fmt = fmt || props.format;\n    if (isPlainObject(props.formatter) && typeof props.formatter.stringify === \"function\") {\n      return props.formatter.stringify(date, fmt);\n    }\n    return format(date, fmt, {\n      locale: locale2.value.formatLocale\n    });\n  };\n  const parseDate = (value, fmt) => {\n    fmt = fmt || props.format;\n    if (isPlainObject(props.formatter) && typeof props.formatter.parse === \"function\") {\n      return props.formatter.parse(value, fmt);\n    }\n    const backupDate = new Date();\n    return parse(value, fmt, {\n      locale: locale2.value.formatLocale,\n      backupDate\n    });\n  };\n  const value2date = (value) => {\n    switch (props.valueType) {\n      case \"date\":\n        return value instanceof Date ? new Date(value.getTime()) : new Date(NaN);\n      case \"timestamp\":\n        return typeof value === \"number\" ? new Date(value) : new Date(NaN);\n      case \"format\":\n        return typeof value === \"string\" ? parseDate(value) : new Date(NaN);\n      default:\n        return typeof value === \"string\" ? parseDate(value, props.valueType) : new Date(NaN);\n    }\n  };\n  const date2value = (date) => {\n    if (!isValidDate(date))\n      return null;\n    switch (props.valueType) {\n      case \"date\":\n        return date;\n      case \"timestamp\":\n        return date.getTime();\n      case \"format\":\n        return formatDate(date);\n      default:\n        return formatDate(date, props.valueType);\n    }\n  };\n  const innerValue = computed(() => {\n    const value = props.value;\n    if (props.range) {\n      return (Array.isArray(value) ? value.slice(0, 2) : [null, null]).map(value2date);\n    }\n    if (props.multiple) {\n      return (Array.isArray(value) ? value : []).map(value2date);\n    }\n    return value2date(value);\n  });\n  const emitValue = (date, type, close = true) => {\n    var _a2, _b;\n    const value = Array.isArray(date) ? date.map(date2value) : date2value(date);\n    (_a2 = props[\"onUpdate:value\"]) == null ? void 0 : _a2.call(props, value);\n    (_b = props.onChange) == null ? void 0 : _b.call(props, value, type);\n    if (close) {\n      closePopup();\n    }\n    return value;\n  };\n  const currentValue = ref(new Date());\n  watchEffect(() => {\n    if (popupVisible.value) {\n      currentValue.value = innerValue.value;\n    }\n  });\n  const handleSelect = (val, type) => {\n    if (props.confirm) {\n      currentValue.value = val;\n    } else {\n      emitValue(val, type, !props.multiple && (type === props.type || type === \"time\"));\n    }\n  };\n  const handleConfirm = () => {\n    var _a2;\n    const value = emitValue(currentValue.value);\n    (_a2 = props.onConfirm) == null ? void 0 : _a2.call(props, value);\n  };\n  const disabledDateTime = (v) => {\n    return props.disabledDate(v) || props.disabledTime(v);\n  };\n  const renderSidebar = (slotProps) => {\n    var _a2;\n    const {\n      prefixClass\n    } = props;\n    return createVNode(\"div\", {\n      \"class\": `${prefixClass}-datepicker-sidebar`\n    }, [(_a2 = slots.sidebar) == null ? void 0 : _a2.call(slots, slotProps), (props.shortcuts || []).map((v, i) => createVNode(\"button\", {\n      \"key\": i,\n      \"data-index\": i,\n      \"type\": \"button\",\n      \"class\": `${prefixClass}-btn ${prefixClass}-btn-text ${prefixClass}-btn-shortcut`,\n      \"onClick\": () => {\n        var _a3;\n        const date = (_a3 = v.onClick) == null ? void 0 : _a3.call(v);\n        if (date) {\n          emitValue(date);\n        }\n      }\n    }, [v.text]))]);\n  };\n  return () => {\n    var _a2, _b;\n    const {\n      prefixClass,\n      disabled,\n      confirm,\n      range,\n      popupClass,\n      popupStyle,\n      appendToBody\n    } = props;\n    const slotProps = {\n      value: currentValue.value,\n      [\"onUpdate:value\"]: handleSelect,\n      emit: emitValue\n    };\n    const header = slots.header && createVNode(\"div\", {\n      \"class\": `${prefixClass}-datepicker-header`\n    }, [slots.header(slotProps)]);\n    const footer = (slots.footer || confirm) && createVNode(\"div\", {\n      \"class\": `${prefixClass}-datepicker-footer`\n    }, [(_a2 = slots.footer) == null ? void 0 : _a2.call(slots, slotProps), confirm && createVNode(\"button\", {\n      \"type\": \"button\",\n      \"class\": `${prefixClass}-btn ${prefixClass}-datepicker-btn-confirm`,\n      \"onClick\": handleConfirm\n    }, [props.confirmText])]);\n    const content = (_b = slots.content) == null ? void 0 : _b.call(slots, slotProps);\n    const sidedar = (slots.sidebar || props.shortcuts) && renderSidebar(slotProps);\n    return createVNode(\"div\", {\n      \"ref\": container,\n      \"class\": {\n        [`${prefixClass}-datepicker`]: true,\n        [`${prefixClass}-datepicker-range`]: range,\n        disabled\n      }\n    }, [createVNode(PickerInput$1, __spreadProps(__spreadValues({}, pick(props, pickerInputBaseProps)), {\n      \"value\": innerValue.value,\n      \"formatDate\": formatDate,\n      \"parseDate\": parseDate,\n      \"disabledDate\": disabledDateTime,\n      \"onChange\": emitValue,\n      \"onClick\": openPopup,\n      \"onFocus\": openPopup,\n      \"onBlur\": closePopup\n    }), pick(slots, [\"icon-calendar\", \"icon-clear\", \"input\"])), createVNode(Popup$1, {\n      \"className\": popupClass,\n      \"style\": popupStyle,\n      \"visible\": popupVisible.value,\n      \"appendToBody\": appendToBody,\n      \"getRelativeElement\": getContainer,\n      \"onClickOutside\": closePopup\n    }, {\n      default: () => [sidedar, createVNode(\"div\", {\n        \"class\": `${prefixClass}-datepicker-content`\n      }, [header, content, footer])]\n    })]);\n  };\n}\nconst pickerbaseProps = keys()([\"value\", \"valueType\", \"type\", \"format\", \"formatter\", \"lang\", \"prefixClass\", \"appendToBody\", \"open\", \"popupClass\", \"popupStyle\", \"confirm\", \"confirmText\", \"shortcuts\", \"disabledDate\", \"disabledTime\", \"onOpen\", \"onClose\", \"onConfirm\", \"onChange\", \"onUpdate:open\", \"onUpdate:value\"]);\nconst pickerProps = [...pickerbaseProps, ...pickerInputBaseProps];\nvar Picker$1 = defineVueComponent(Picker, pickerProps);\nfunction ButtonIcon(_a) {\n  var _b = _a, {\n    value\n  } = _b, rest = __objRest(_b, [\n    \"value\"\n  ]);\n  const prefixClass = usePrefixClass();\n  return createVNode(\"button\", __spreadProps(__spreadValues({}, rest), {\n    \"type\": \"button\",\n    \"class\": `${prefixClass}-btn ${prefixClass}-btn-text ${prefixClass}-btn-icon-${value}`\n  }), [createVNode(\"i\", {\n    \"class\": `${prefixClass}-icon-${value}`\n  }, null)]);\n}\nfunction TableHeader({\n  type,\n  calendar,\n  onUpdateCalendar\n}, {\n  slots\n}) {\n  var _a;\n  const prefixClass = usePrefixClass();\n  const lastMonth = () => {\n    onUpdateCalendar(setMonth(calendar, (v) => v - 1));\n  };\n  const nextMonth = () => {\n    onUpdateCalendar(setMonth(calendar, (v) => v + 1));\n  };\n  const lastYear = () => {\n    onUpdateCalendar(setYear(calendar, (v) => v - 1));\n  };\n  const nextYear = () => {\n    onUpdateCalendar(setYear(calendar, (v) => v + 1));\n  };\n  const lastDecade = () => {\n    onUpdateCalendar(setYear(calendar, (v) => v - 10));\n  };\n  const nextDecade = () => {\n    onUpdateCalendar(setYear(calendar, (v) => v + 10));\n  };\n  return createVNode(\"div\", {\n    \"class\": `${prefixClass}-calendar-header`\n  }, [createVNode(ButtonIcon, {\n    \"value\": \"double-left\",\n    \"onClick\": type === \"year\" ? lastDecade : lastYear\n  }, null), type === \"date\" && createVNode(ButtonIcon, {\n    \"value\": \"left\",\n    \"onClick\": lastMonth\n  }, null), createVNode(ButtonIcon, {\n    \"value\": \"double-right\",\n    \"onClick\": type === \"year\" ? nextDecade : nextYear\n  }, null), type === \"date\" && createVNode(ButtonIcon, {\n    \"value\": \"right\",\n    \"onClick\": nextMonth\n  }, null), createVNode(\"span\", {\n    \"class\": `${prefixClass}-calendar-header-label`\n  }, [(_a = slots.default) == null ? void 0 : _a.call(slots)])]);\n}\nfunction TableDate({\n  calendar,\n  isWeekMode,\n  showWeekNumber,\n  titleFormat,\n  getWeekActive,\n  getCellClasses,\n  onSelect,\n  onUpdatePanel,\n  onUpdateCalendar,\n  onDateMouseEnter,\n  onDateMouseLeave\n}) {\n  const prefixClass = usePrefixClass();\n  const getWeekNumber = useGetWeek();\n  const locale2 = useLocale().value;\n  const {\n    yearFormat,\n    monthBeforeYear,\n    monthFormat = \"MMM\",\n    formatLocale\n  } = locale2;\n  const firstDayOfWeek = formatLocale.firstDayOfWeek || 0;\n  let days = locale2.days || formatLocale.weekdaysMin;\n  days = days.concat(days).slice(firstDayOfWeek, firstDayOfWeek + 7);\n  const year = calendar.getFullYear();\n  const month = calendar.getMonth();\n  const dates = chunk(getCalendar({\n    firstDayOfWeek,\n    year,\n    month\n  }), 7);\n  const formatDate = (date, fmt) => {\n    return format(date, fmt, {\n      locale: locale2.formatLocale\n    });\n  };\n  const handlePanelChange = (panel) => {\n    onUpdatePanel(panel);\n  };\n  const getCellDate = (el) => {\n    const index2 = el.getAttribute(\"data-index\");\n    const [row, col] = index2.split(\",\").map((v) => parseInt(v, 10));\n    const value = dates[row][col];\n    return new Date(value);\n  };\n  const handleCellClick = (evt) => {\n    onSelect(getCellDate(evt.currentTarget));\n  };\n  const handleMouseEnter = (evt) => {\n    if (onDateMouseEnter) {\n      onDateMouseEnter(getCellDate(evt.currentTarget));\n    }\n  };\n  const handleMouseLeave = (evt) => {\n    if (onDateMouseLeave) {\n      onDateMouseLeave(getCellDate(evt.currentTarget));\n    }\n  };\n  const yearLabel = createVNode(\"button\", {\n    \"type\": \"button\",\n    \"class\": `${prefixClass}-btn ${prefixClass}-btn-text ${prefixClass}-btn-current-year`,\n    \"onClick\": () => handlePanelChange(\"year\")\n  }, [formatDate(calendar, yearFormat)]);\n  const monthLabel = createVNode(\"button\", {\n    \"type\": \"button\",\n    \"class\": `${prefixClass}-btn ${prefixClass}-btn-text ${prefixClass}-btn-current-month`,\n    \"onClick\": () => handlePanelChange(\"month\")\n  }, [formatDate(calendar, monthFormat)]);\n  showWeekNumber = typeof showWeekNumber === \"boolean\" ? showWeekNumber : isWeekMode;\n  return createVNode(\"div\", {\n    \"class\": [`${prefixClass}-calendar ${prefixClass}-calendar-panel-date`, {\n      [`${prefixClass}-calendar-week-mode`]: isWeekMode\n    }]\n  }, [createVNode(TableHeader, {\n    \"type\": \"date\",\n    \"calendar\": calendar,\n    \"onUpdateCalendar\": onUpdateCalendar\n  }, {\n    default: () => [monthBeforeYear ? [monthLabel, yearLabel] : [yearLabel, monthLabel]]\n  }), createVNode(\"div\", {\n    \"class\": `${prefixClass}-calendar-content`\n  }, [createVNode(\"table\", {\n    \"class\": `${prefixClass}-table ${prefixClass}-table-date`\n  }, [createVNode(\"thead\", null, [createVNode(\"tr\", null, [showWeekNumber && createVNode(\"th\", {\n    \"class\": `${prefixClass}-week-number-header`\n  }, null), days.map((day) => createVNode(\"th\", {\n    \"key\": day\n  }, [day]))])]), createVNode(\"tbody\", null, [dates.map((row, i) => createVNode(\"tr\", {\n    \"key\": i,\n    \"class\": [`${prefixClass}-date-row`, {\n      [`${prefixClass}-active-week`]: getWeekActive(row)\n    }]\n  }, [showWeekNumber && createVNode(\"td\", {\n    \"class\": `${prefixClass}-week-number`,\n    \"data-index\": `${i},0`,\n    \"onClick\": handleCellClick\n  }, [createVNode(\"div\", null, [getWeekNumber(row[0])])]), row.map((cell, j) => createVNode(\"td\", {\n    \"key\": j,\n    \"class\": [\"cell\", getCellClasses(cell)],\n    \"title\": formatDate(cell, titleFormat),\n    \"data-index\": `${i},${j}`,\n    \"onClick\": handleCellClick,\n    \"onMouseenter\": handleMouseEnter,\n    \"onMouseleave\": handleMouseLeave\n  }, [createVNode(\"div\", null, [cell.getDate()])]))]))])])])]);\n}\nfunction TableMonth({\n  calendar,\n  getCellClasses,\n  onSelect,\n  onUpdateCalendar,\n  onUpdatePanel\n}) {\n  const prefixClass = usePrefixClass();\n  const locale2 = useLocale().value;\n  const months = locale2.months || locale2.formatLocale.monthsShort;\n  const getDate = (month) => {\n    return createDate(calendar.getFullYear(), month);\n  };\n  const handleClick = (evt) => {\n    const target = evt.currentTarget;\n    const month = target.getAttribute(\"data-month\");\n    onSelect(getDate(parseInt(month, 10)));\n  };\n  return createVNode(\"div\", {\n    \"class\": `${prefixClass}-calendar ${prefixClass}-calendar-panel-month`\n  }, [createVNode(TableHeader, {\n    \"type\": \"month\",\n    \"calendar\": calendar,\n    \"onUpdateCalendar\": onUpdateCalendar\n  }, {\n    default: () => [createVNode(\"button\", {\n      \"type\": \"button\",\n      \"class\": `${prefixClass}-btn ${prefixClass}-btn-text ${prefixClass}-btn-current-year`,\n      \"onClick\": () => onUpdatePanel(\"year\")\n    }, [calendar.getFullYear()])]\n  }), createVNode(\"div\", {\n    \"class\": `${prefixClass}-calendar-content`\n  }, [createVNode(\"table\", {\n    \"class\": `${prefixClass}-table ${prefixClass}-table-month`\n  }, [chunk(months, 3).map((row, i) => createVNode(\"tr\", {\n    \"key\": i\n  }, [row.map((cell, j) => {\n    const month = i * 3 + j;\n    return createVNode(\"td\", {\n      \"key\": j,\n      \"class\": [\"cell\", getCellClasses(getDate(month))],\n      \"data-month\": month,\n      \"onClick\": handleClick\n    }, [createVNode(\"div\", null, [cell])]);\n  })]))])])]);\n}\nconst getDefaultYears = (calendar) => {\n  const firstYear = Math.floor(calendar.getFullYear() / 10) * 10;\n  const years = [];\n  for (let i = 0; i < 10; i++) {\n    years.push(firstYear + i);\n  }\n  return chunk(years, 2);\n};\nfunction TableYear({\n  calendar,\n  getCellClasses = () => [],\n  getYearPanel = getDefaultYears,\n  onSelect,\n  onUpdateCalendar\n}) {\n  const prefixClass = usePrefixClass();\n  const getDate = (year) => {\n    return createDate(year, 0);\n  };\n  const handleClick = (evt) => {\n    const target = evt.currentTarget;\n    const year = target.getAttribute(\"data-year\");\n    onSelect(getDate(parseInt(year, 10)));\n  };\n  const years = getYearPanel(new Date(calendar));\n  const firstYear = years[0][0];\n  const lastYear = last(last(years));\n  return createVNode(\"div\", {\n    \"class\": `${prefixClass}-calendar ${prefixClass}-calendar-panel-year`\n  }, [createVNode(TableHeader, {\n    \"type\": \"year\",\n    \"calendar\": calendar,\n    \"onUpdateCalendar\": onUpdateCalendar\n  }, {\n    default: () => [createVNode(\"span\", null, [firstYear]), createVNode(\"span\", {\n      \"class\": `${prefixClass}-calendar-decade-separator`\n    }, null), createVNode(\"span\", null, [lastYear])]\n  }), createVNode(\"div\", {\n    \"class\": `${prefixClass}-calendar-content`\n  }, [createVNode(\"table\", {\n    \"class\": `${prefixClass}-table ${prefixClass}-table-year`\n  }, [years.map((row, i) => createVNode(\"tr\", {\n    \"key\": i\n  }, [row.map((cell, j) => createVNode(\"td\", {\n    \"key\": j,\n    \"class\": [\"cell\", getCellClasses(getDate(cell))],\n    \"data-year\": cell,\n    \"onClick\": handleClick\n  }, [createVNode(\"div\", null, [cell])]))]))])])]);\n}\nfunction Calendar(originalProps) {\n  const props = withDefault(originalProps, {\n    defaultValue: startOfDay(new Date()),\n    type: \"date\",\n    disabledDate: () => false,\n    getClasses: () => [],\n    titleFormat: \"YYYY-MM-DD\"\n  });\n  const innerValue = computed(() => {\n    const value = Array.isArray(props.value) ? props.value : [props.value];\n    return value.filter(isValidDate).map((v) => {\n      if (props.type === \"year\")\n        return startOfYear(v);\n      if (props.type === \"month\")\n        return startOfMonth(v);\n      return startOfDay(v);\n    });\n  });\n  const innerCalendar = ref(new Date());\n  watchEffect(() => {\n    let calendarDate = props.calendar;\n    if (!isValidDate(calendarDate)) {\n      const {\n        length\n      } = innerValue.value;\n      calendarDate = getValidDate(length > 0 ? innerValue.value[length - 1] : props.defaultValue);\n    }\n    innerCalendar.value = startOfMonth(calendarDate);\n  });\n  const handleCalendarChange = (calendar) => {\n    var _a;\n    innerCalendar.value = calendar;\n    (_a = props.onCalendarChange) == null ? void 0 : _a.call(props, calendar);\n  };\n  const panel = ref(\"date\");\n  watchEffect(() => {\n    const panels = [\"date\", \"month\", \"year\"];\n    const index2 = Math.max(panels.indexOf(props.type), panels.indexOf(props.defaultPanel));\n    panel.value = index2 !== -1 ? panels[index2] : \"date\";\n  });\n  const handelPanelChange = (value) => {\n    var _a;\n    const oldPanel = panel.value;\n    panel.value = value;\n    (_a = props.onPanelChange) == null ? void 0 : _a.call(props, value, oldPanel);\n  };\n  const isDisabled = (date) => {\n    return props.disabledDate(new Date(date), innerValue.value);\n  };\n  const emitDate = (date, type) => {\n    var _a, _b, _c;\n    if (!isDisabled(date)) {\n      (_a = props.onPick) == null ? void 0 : _a.call(props, date);\n      if (props.multiple === true) {\n        const nextDates = innerValue.value.filter((v) => v.getTime() !== date.getTime());\n        if (nextDates.length === innerValue.value.length) {\n          nextDates.push(date);\n        }\n        (_b = props[\"onUpdate:value\"]) == null ? void 0 : _b.call(props, nextDates, type);\n      } else {\n        (_c = props[\"onUpdate:value\"]) == null ? void 0 : _c.call(props, date, type);\n      }\n    }\n  };\n  const handleSelectDate = (date) => {\n    emitDate(date, props.type === \"week\" ? \"week\" : \"date\");\n  };\n  const handleSelectYear = (date) => {\n    if (props.type === \"year\") {\n      emitDate(date, \"year\");\n    } else {\n      handleCalendarChange(date);\n      handelPanelChange(\"month\");\n      if (props.partialUpdate && innerValue.value.length === 1) {\n        const value = setYear(innerValue.value[0], date.getFullYear());\n        emitDate(value, \"year\");\n      }\n    }\n  };\n  const handleSelectMonth = (date) => {\n    if (props.type === \"month\") {\n      emitDate(date, \"month\");\n    } else {\n      handleCalendarChange(date);\n      handelPanelChange(\"date\");\n      if (props.partialUpdate && innerValue.value.length === 1) {\n        const value = setMonth(setYear(innerValue.value[0], date.getFullYear()), date.getMonth());\n        emitDate(value, \"month\");\n      }\n    }\n  };\n  const getCellClasses = (cellDate, classes = []) => {\n    if (isDisabled(cellDate)) {\n      classes.push(\"disabled\");\n    } else if (innerValue.value.some((v) => v.getTime() === cellDate.getTime())) {\n      classes.push(\"active\");\n    }\n    return classes.concat(props.getClasses(cellDate, innerValue.value, classes.join(\" \")));\n  };\n  const getDateClasses = (cellDate) => {\n    const notCurrentMonth = cellDate.getMonth() !== innerCalendar.value.getMonth();\n    const classes = [];\n    if (cellDate.getTime() === new Date().setHours(0, 0, 0, 0)) {\n      classes.push(\"today\");\n    }\n    if (notCurrentMonth) {\n      classes.push(\"not-current-month\");\n    }\n    return getCellClasses(cellDate, classes);\n  };\n  const getMonthClasses = (cellDate) => {\n    if (props.type !== \"month\") {\n      return innerCalendar.value.getMonth() === cellDate.getMonth() ? \"active\" : \"\";\n    }\n    return getCellClasses(cellDate);\n  };\n  const getYearClasses = (cellDate) => {\n    if (props.type !== \"year\") {\n      return innerCalendar.value.getFullYear() === cellDate.getFullYear() ? \"active\" : \"\";\n    }\n    return getCellClasses(cellDate);\n  };\n  const getWeekActive = (row) => {\n    if (props.type !== \"week\")\n      return false;\n    const start = row[0].getTime();\n    const end = row[6].getTime();\n    return innerValue.value.some((v) => {\n      const time = v.getTime();\n      return time >= start && time <= end;\n    });\n  };\n  return () => {\n    if (panel.value === \"year\") {\n      return createVNode(TableYear, {\n        \"calendar\": innerCalendar.value,\n        \"getCellClasses\": getYearClasses,\n        \"getYearPanel\": props.getYearPanel,\n        \"onSelect\": handleSelectYear,\n        \"onUpdateCalendar\": handleCalendarChange\n      }, null);\n    }\n    if (panel.value === \"month\") {\n      return createVNode(TableMonth, {\n        \"calendar\": innerCalendar.value,\n        \"getCellClasses\": getMonthClasses,\n        \"onSelect\": handleSelectMonth,\n        \"onUpdatePanel\": handelPanelChange,\n        \"onUpdateCalendar\": handleCalendarChange\n      }, null);\n    }\n    return createVNode(TableDate, {\n      \"isWeekMode\": props.type === \"week\",\n      \"showWeekNumber\": props.showWeekNumber,\n      \"titleFormat\": props.titleFormat,\n      \"calendar\": innerCalendar.value,\n      \"getCellClasses\": getDateClasses,\n      \"getWeekActive\": getWeekActive,\n      \"onSelect\": handleSelectDate,\n      \"onUpdatePanel\": handelPanelChange,\n      \"onUpdateCalendar\": handleCalendarChange,\n      \"onDateMouseEnter\": props.onDateMouseEnter,\n      \"onDateMouseLeave\": props.onDateMouseLeave\n    }, null);\n  };\n}\nconst calendarProps = keys()([\"type\", \"value\", \"defaultValue\", \"defaultPanel\", \"disabledDate\", \"getClasses\", \"calendar\", \"multiple\", \"partialUpdate\", \"showWeekNumber\", \"titleFormat\", \"getYearPanel\", \"onDateMouseEnter\", \"onDateMouseLeave\", \"onCalendarChange\", \"onPanelChange\", \"onUpdate:value\", \"onPick\"]);\nvar Calendar$1 = defineVueComponent(Calendar, calendarProps);\nconst inRange = (date, range) => {\n  const value = date.getTime();\n  let [min, max] = range.map((v) => v.getTime());\n  if (min > max) {\n    [min, max] = [max, min];\n  }\n  return value > min && value < max;\n};\nfunction CalendarRange(originalProps) {\n  const props = withDefault(originalProps, {\n    defaultValue: new Date(),\n    type: \"date\"\n  });\n  const prefixClass = usePrefixClass();\n  const defaultValues = computed(() => {\n    let values = Array.isArray(props.defaultValue) ? props.defaultValue : [props.defaultValue, props.defaultValue];\n    values = values.map((v) => startOfDay(v));\n    if (isValidRangeDate(values)) {\n      return values;\n    }\n    return [new Date(), new Date()].map((v) => startOfDay(v));\n  });\n  const innerValue = ref([new Date(NaN), new Date(NaN)]);\n  watchEffect(() => {\n    if (isValidRangeDate(props.value)) {\n      innerValue.value = props.value;\n    }\n  });\n  const handlePick = (date, type) => {\n    var _a;\n    const [startValue, endValue] = innerValue.value;\n    if (isValidDate(startValue) && !isValidDate(endValue)) {\n      if (startValue.getTime() > date.getTime()) {\n        innerValue.value = [date, startValue];\n      } else {\n        innerValue.value = [startValue, date];\n      }\n      (_a = props[\"onUpdate:value\"]) == null ? void 0 : _a.call(props, innerValue.value, type);\n    } else {\n      innerValue.value = [date, new Date(NaN)];\n    }\n  };\n  const defaultCalendars = ref([new Date(), new Date()]);\n  const calendars = computed(() => {\n    return isValidRangeDate(props.calendar) ? props.calendar : defaultCalendars.value;\n  });\n  const calendarMinDiff = computed(() => {\n    if (props.type === \"year\")\n      return 10 * 12;\n    if (props.type === \"month\")\n      return 1 * 12;\n    return 1;\n  });\n  const updateCalendars = (dates, index2) => {\n    var _a;\n    const diff = diffCalendarMonths(dates[0], dates[1]);\n    const gap = calendarMinDiff.value - diff;\n    if (gap > 0) {\n      const anotherIndex = index2 === 1 ? 0 : 1;\n      dates[anotherIndex] = setMonth(dates[anotherIndex], (v) => v + (anotherIndex === 0 ? -gap : gap));\n    }\n    defaultCalendars.value = dates;\n    (_a = props.onCalendarChange) == null ? void 0 : _a.call(props, dates, index2);\n  };\n  const updateCalendarStart = (date) => {\n    updateCalendars([date, calendars.value[1]], 0);\n  };\n  const updateCalendarEnd = (date) => {\n    updateCalendars([calendars.value[0], date], 1);\n  };\n  watchEffect(() => {\n    const dates = isValidRangeDate(props.value) ? props.value : defaultValues.value;\n    updateCalendars(dates.slice(0, 2));\n  });\n  const hoveredValue = ref(null);\n  const handleMouseEnter = (v) => hoveredValue.value = v;\n  const handleMouseLeave = () => hoveredValue.value = null;\n  const getRangeClasses = (cellDate, currentDates, classnames) => {\n    const outerClasses = props.getClasses ? props.getClasses(cellDate, currentDates, classnames) : [];\n    const classes = Array.isArray(outerClasses) ? outerClasses : [outerClasses];\n    if (/disabled|active/.test(classnames))\n      return classes;\n    if (currentDates.length === 2 && inRange(cellDate, currentDates)) {\n      classes.push(\"in-range\");\n    }\n    if (currentDates.length === 1 && hoveredValue.value && inRange(cellDate, [currentDates[0], hoveredValue.value])) {\n      return classes.concat(\"hover-in-range\");\n    }\n    return classes;\n  };\n  return () => {\n    const calendarRange = calendars.value.map((calendar, index2) => {\n      const calendarProps2 = __spreadProps(__spreadValues({}, props), {\n        calendar,\n        value: innerValue.value,\n        defaultValue: defaultValues.value[index2],\n        getClasses: getRangeClasses,\n        partialUpdate: false,\n        multiple: false,\n        [\"onUpdate:value\"]: handlePick,\n        onCalendarChange: index2 === 0 ? updateCalendarStart : updateCalendarEnd,\n        onDateMouseLeave: handleMouseLeave,\n        onDateMouseEnter: handleMouseEnter\n      });\n      return createVNode(Calendar$1, calendarProps2, null);\n    });\n    return createVNode(\"div\", {\n      \"class\": `${prefixClass}-calendar-range`\n    }, [calendarRange]);\n  };\n}\nconst calendarRangeProps = calendarProps;\nvar CalendarRange$1 = defineVueComponent(CalendarRange, calendarRangeProps);\nconst ScrollbarVertical = defineComponent({\n  setup(props, {\n    slots\n  }) {\n    const prefixClass = usePrefixClass();\n    const wrapper = ref();\n    const thumbHeight = ref(\"\");\n    const thumbTop = ref(\"\");\n    const getThumbHeight = () => {\n      if (!wrapper.value)\n        return;\n      const el = wrapper.value;\n      const heightPercentage = el.clientHeight * 100 / el.scrollHeight;\n      thumbHeight.value = heightPercentage < 100 ? `${heightPercentage}%` : \"\";\n    };\n    onMounted(getThumbHeight);\n    const scrollbarWidth = getScrollbarWidth();\n    const handleScroll = (evt) => {\n      const el = evt.currentTarget;\n      const {\n        scrollHeight,\n        scrollTop\n      } = el;\n      thumbTop.value = `${scrollTop * 100 / scrollHeight}%`;\n    };\n    let draggable = false;\n    let prevY = 0;\n    const handleDragstart = (evt) => {\n      evt.stopImmediatePropagation();\n      const el = evt.currentTarget;\n      const {\n        offsetTop\n      } = el;\n      draggable = true;\n      prevY = evt.clientY - offsetTop;\n    };\n    const handleDraging = (evt) => {\n      if (!draggable || !wrapper.value)\n        return;\n      const {\n        clientY\n      } = evt;\n      const {\n        scrollHeight,\n        clientHeight\n      } = wrapper.value;\n      const offsetY = clientY - prevY;\n      const top = offsetY * scrollHeight / clientHeight;\n      wrapper.value.scrollTop = top;\n    };\n    const handleDragend = () => {\n      draggable = false;\n    };\n    onMounted(() => {\n      document.addEventListener(\"mousemove\", handleDraging);\n      document.addEventListener(\"mouseup\", handleDragend);\n    });\n    onUnmounted(() => {\n      document.addEventListener(\"mousemove\", handleDraging);\n      document.addEventListener(\"mouseup\", handleDragend);\n    });\n    return () => {\n      var _a;\n      return createVNode(\"div\", {\n        \"class\": `${prefixClass}-scrollbar`,\n        \"style\": {\n          position: \"relative\",\n          overflow: \"hidden\"\n        }\n      }, [createVNode(\"div\", {\n        \"ref\": wrapper,\n        \"class\": `${prefixClass}-scrollbar-wrap`,\n        \"style\": {\n          marginRight: `-${scrollbarWidth}px`\n        },\n        \"onScroll\": handleScroll\n      }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]), createVNode(\"div\", {\n        \"class\": `${prefixClass}-scrollbar-track`\n      }, [createVNode(\"div\", {\n        \"class\": `${prefixClass}-scrollbar-thumb`,\n        \"style\": {\n          height: thumbHeight.value,\n          top: thumbTop.value\n        },\n        \"onMousedown\": handleDragstart\n      }, null)])]);\n    };\n  }\n});\nfunction Columns({\n  options,\n  getClasses,\n  onSelect\n}) {\n  const prefixClass = usePrefixClass();\n  const handleSelect = (evt) => {\n    const target = evt.target;\n    const currentTarget = evt.currentTarget;\n    if (target.tagName.toUpperCase() !== \"LI\")\n      return;\n    const type = currentTarget.getAttribute(\"data-type\");\n    const col = parseInt(currentTarget.getAttribute(\"data-index\"), 10);\n    const index2 = parseInt(target.getAttribute(\"data-index\"), 10);\n    const value = options[col].list[index2].value;\n    onSelect(value, type);\n  };\n  return createVNode(\"div\", {\n    \"class\": `${prefixClass}-time-columns`\n  }, [options.map((col, i) => createVNode(ScrollbarVertical, {\n    \"key\": col.type,\n    \"class\": `${prefixClass}-time-column`\n  }, {\n    default: () => [createVNode(\"ul\", {\n      \"class\": `${prefixClass}-time-list`,\n      \"data-index\": i,\n      \"data-type\": col.type,\n      \"onClick\": handleSelect\n    }, [col.list.map((item, j) => createVNode(\"li\", {\n      \"key\": item.text,\n      \"data-index\": j,\n      \"class\": [`${prefixClass}-time-item`, getClasses(item.value, col.type)]\n    }, [item.text]))])]\n  }))]);\n}\nfunction _isSlot(s) {\n  return typeof s === \"function\" || Object.prototype.toString.call(s) === \"[object Object]\" && !isVNode(s);\n}\nfunction FixedList(props) {\n  let _slot;\n  const prefixClass = usePrefixClass();\n  return createVNode(ScrollbarVertical, null, _isSlot(_slot = props.options.map((item) => createVNode(\"div\", {\n    \"key\": item.text,\n    \"class\": [`${prefixClass}-time-option`, props.getClasses(item.value, \"time\")],\n    \"onClick\": () => props.onSelect(item.value, \"time\")\n  }, [item.text]))) ? _slot : {\n    default: () => [_slot]\n  });\n}\nfunction generateList({\n  length,\n  step = 1,\n  options\n}) {\n  if (Array.isArray(options)) {\n    return options.filter((v) => v >= 0 && v < length);\n  }\n  if (step <= 0) {\n    step = 1;\n  }\n  const arr = [];\n  for (let i = 0; i < length; i += step) {\n    arr.push(i);\n  }\n  return arr;\n}\nfunction getColumnOptions(date, options) {\n  let { showHour, showMinute, showSecond, use12h } = options;\n  const format2 = options.format || \"HH:mm:ss\";\n  showHour = typeof showHour === \"boolean\" ? showHour : /[HhKk]/.test(format2);\n  showMinute = typeof showMinute === \"boolean\" ? showMinute : /m/.test(format2);\n  showSecond = typeof showSecond === \"boolean\" ? showSecond : /s/.test(format2);\n  use12h = typeof use12h === \"boolean\" ? use12h : /a/i.test(format2);\n  const columns = [];\n  const isPM = use12h && date.getHours() >= 12;\n  if (showHour) {\n    columns.push({\n      type: \"hour\",\n      list: generateList({\n        length: use12h ? 12 : 24,\n        step: options.hourStep,\n        options: options.hourOptions\n      }).map((num) => {\n        const text = num === 0 && use12h ? \"12\" : padNumber(num);\n        const value = new Date(date);\n        value.setHours(isPM ? num + 12 : num);\n        return { value, text };\n      })\n    });\n  }\n  if (showMinute) {\n    columns.push({\n      type: \"minute\",\n      list: generateList({\n        length: 60,\n        step: options.minuteStep,\n        options: options.minuteOptions\n      }).map((num) => {\n        const value = new Date(date);\n        value.setMinutes(num);\n        return { value, text: padNumber(num) };\n      })\n    });\n  }\n  if (showSecond) {\n    columns.push({\n      type: \"second\",\n      list: generateList({\n        length: 60,\n        step: options.secondStep,\n        options: options.secondOptions\n      }).map((num) => {\n        const value = new Date(date);\n        value.setSeconds(num);\n        return { value, text: padNumber(num) };\n      })\n    });\n  }\n  if (use12h) {\n    columns.push({\n      type: \"ampm\",\n      list: [\"AM\", \"PM\"].map((text, i) => {\n        const value = new Date(date);\n        value.setHours(value.getHours() % 12 + i * 12);\n        return { text, value };\n      })\n    });\n  }\n  return columns;\n}\nfunction parseOption(time = \"\") {\n  const values = time.split(\":\");\n  if (values.length >= 2) {\n    const hours = parseInt(values[0], 10);\n    const minutes = parseInt(values[1], 10);\n    return {\n      hours,\n      minutes\n    };\n  }\n  return null;\n}\nfunction getFixedOptions({\n  date,\n  option,\n  format: format2,\n  formatDate\n}) {\n  const result = [];\n  if (typeof option === \"function\") {\n    return option() || [];\n  }\n  const start = parseOption(option.start);\n  const end = parseOption(option.end);\n  const step = parseOption(option.step);\n  const fmt = option.format || format2;\n  if (start && end && step) {\n    const startMinutes = start.minutes + start.hours * 60;\n    const endMinutes = end.minutes + end.hours * 60;\n    const stepMinutes = step.minutes + step.hours * 60;\n    const len = Math.floor((endMinutes - startMinutes) / stepMinutes);\n    for (let i = 0; i <= len; i++) {\n      const timeMinutes = startMinutes + i * stepMinutes;\n      const hours = Math.floor(timeMinutes / 60);\n      const minutes = timeMinutes % 60;\n      const value = new Date(date);\n      value.setHours(hours, minutes, 0);\n      result.push({\n        value,\n        text: formatDate(value, fmt)\n      });\n    }\n  }\n  return result;\n}\nconst scrollTo = (element, to, duration = 0) => {\n  if (duration <= 0) {\n    requestAnimationFrame(() => {\n      element.scrollTop = to;\n    });\n    return;\n  }\n  const difference = to - element.scrollTop;\n  const tick = difference / duration * 10;\n  requestAnimationFrame(() => {\n    const scrollTop = element.scrollTop + tick;\n    if (scrollTop >= to) {\n      element.scrollTop = to;\n      return;\n    }\n    element.scrollTop = scrollTop;\n    scrollTo(element, to, duration - 10);\n  });\n};\nfunction TimePanel(originalProps) {\n  const props = withDefault(originalProps, {\n    defaultValue: startOfDay(new Date()),\n    format: \"HH:mm:ss\",\n    timeTitleFormat: \"YYYY-MM-DD\",\n    disabledTime: () => false,\n    scrollDuration: 100\n  });\n  const prefixClass = usePrefixClass();\n  const locale2 = useLocale();\n  const formatDate = (date, fmt) => {\n    return format(date, fmt, {\n      locale: locale2.value.formatLocale\n    });\n  };\n  const innerValue = ref(new Date());\n  watchEffect(() => {\n    innerValue.value = getValidDate(props.value, props.defaultValue);\n  });\n  const isDisabledTimes = (value) => {\n    if (Array.isArray(value)) {\n      return value.every((v) => props.disabledTime(new Date(v)));\n    }\n    return props.disabledTime(new Date(value));\n  };\n  const isDisabledHour = (date) => {\n    const value = new Date(date);\n    return isDisabledTimes([value.getTime(), value.setMinutes(0, 0, 0), value.setMinutes(59, 59, 999)]);\n  };\n  const isDisabledMinute = (date) => {\n    const value = new Date(date);\n    return isDisabledTimes([value.getTime(), value.setSeconds(0, 0), value.setSeconds(59, 999)]);\n  };\n  const isDisabledAMPM = (date) => {\n    const value = new Date(date);\n    const minHour = value.getHours() < 12 ? 0 : 12;\n    const maxHour = minHour + 11;\n    return isDisabledTimes([value.getTime(), value.setHours(minHour, 0, 0, 0), value.setHours(maxHour, 59, 59, 999)]);\n  };\n  const isDisabled = (date, type) => {\n    if (type === \"hour\") {\n      return isDisabledHour(date);\n    }\n    if (type === \"minute\") {\n      return isDisabledMinute(date);\n    }\n    if (type === \"ampm\") {\n      return isDisabledAMPM(date);\n    }\n    return isDisabledTimes(date);\n  };\n  const handleSelect = (value, type) => {\n    var _a;\n    if (!isDisabled(value, type)) {\n      const date = new Date(value);\n      innerValue.value = date;\n      if (!isDisabledTimes(date)) {\n        (_a = props[\"onUpdate:value\"]) == null ? void 0 : _a.call(props, date, type);\n      }\n    }\n  };\n  const getClasses = (cellDate, type) => {\n    if (isDisabled(cellDate, type)) {\n      return \"disabled\";\n    }\n    if (cellDate.getTime() === innerValue.value.getTime()) {\n      return \"active\";\n    }\n    return \"\";\n  };\n  const container = ref();\n  const scrollToSelected = (duration) => {\n    if (!container.value)\n      return;\n    const elements = container.value.querySelectorAll(\".active\");\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      const scrollElement = getScrollParent(element, container.value);\n      if (scrollElement) {\n        const to = element.offsetTop;\n        scrollTo(scrollElement, to, duration);\n      }\n    }\n  };\n  onMounted(() => scrollToSelected(0));\n  watch(innerValue, () => scrollToSelected(props.scrollDuration), {\n    flush: \"post\"\n  });\n  return () => {\n    let content;\n    if (props.timePickerOptions) {\n      content = createVNode(FixedList, {\n        \"onSelect\": handleSelect,\n        \"getClasses\": getClasses,\n        \"options\": getFixedOptions({\n          date: innerValue.value,\n          format: props.format,\n          option: props.timePickerOptions,\n          formatDate\n        })\n      }, null);\n    } else {\n      content = createVNode(Columns, {\n        \"options\": getColumnOptions(innerValue.value, props),\n        \"onSelect\": handleSelect,\n        \"getClasses\": getClasses\n      }, null);\n    }\n    return createVNode(\"div\", {\n      \"class\": `${prefixClass}-time`,\n      \"ref\": container\n    }, [props.showTimeHeader && createVNode(\"div\", {\n      \"class\": `${prefixClass}-time-header`\n    }, [createVNode(\"button\", {\n      \"type\": \"button\",\n      \"class\": `${prefixClass}-btn ${prefixClass}-btn-text ${prefixClass}-time-header-title`,\n      \"onClick\": props.onClickTitle\n    }, [formatDate(innerValue.value, props.timeTitleFormat)])]), createVNode(\"div\", {\n      \"class\": `${prefixClass}-time-content`\n    }, [content])]);\n  };\n}\nconst timePanelProps = keys()([\"value\", \"defaultValue\", \"format\", \"timeTitleFormat\", \"showTimeHeader\", \"disabledTime\", \"timePickerOptions\", \"hourOptions\", \"minuteOptions\", \"secondOptions\", \"hourStep\", \"minuteStep\", \"secondStep\", \"showHour\", \"showMinute\", \"showSecond\", \"use12h\", \"scrollDuration\", \"onClickTitle\", \"onUpdate:value\"]);\nvar TimePanel$1 = defineVueComponent(TimePanel, timePanelProps);\nfunction TimeRange(originalProps) {\n  const props = withDefault(originalProps, {\n    defaultValue: startOfDay(new Date()),\n    disabledTime: () => false\n  });\n  const prefixClass = usePrefixClass();\n  const innerValue = ref([new Date(NaN), new Date(NaN)]);\n  watchEffect(() => {\n    if (isValidRangeDate(props.value)) {\n      innerValue.value = props.value;\n    } else {\n      innerValue.value = [new Date(NaN), new Date(NaN)];\n    }\n  });\n  const emitChange = (type, index2) => {\n    var _a;\n    (_a = props[\"onUpdate:value\"]) == null ? void 0 : _a.call(props, innerValue.value, type === \"time\" ? \"time-range\" : type, index2);\n  };\n  const handleSelectStart = (date, type) => {\n    innerValue.value[0] = date;\n    if (!(innerValue.value[1].getTime() >= date.getTime())) {\n      innerValue.value[1] = date;\n    }\n    emitChange(type, 0);\n  };\n  const handleSelectEnd = (date, type) => {\n    innerValue.value[1] = date;\n    if (!(innerValue.value[0].getTime() <= date.getTime())) {\n      innerValue.value[0] = date;\n    }\n    emitChange(type, 1);\n  };\n  const disabledStartTime = (date) => {\n    return props.disabledTime(date, 0);\n  };\n  const disabledEndTime = (date) => {\n    return date.getTime() < innerValue.value[0].getTime() || props.disabledTime(date, 1);\n  };\n  return () => {\n    const defaultValues = Array.isArray(props.defaultValue) ? props.defaultValue : [props.defaultValue, props.defaultValue];\n    return createVNode(\"div\", {\n      \"class\": `${prefixClass}-time-range`\n    }, [createVNode(TimePanel$1, __spreadProps(__spreadValues({}, props), {\n      [\"onUpdate:value\"]: handleSelectStart,\n      \"value\": innerValue.value[0],\n      \"defaultValue\": defaultValues[0],\n      \"disabledTime\": disabledStartTime\n    }), null), createVNode(TimePanel$1, __spreadProps(__spreadValues({}, props), {\n      [\"onUpdate:value\"]: handleSelectEnd,\n      \"value\": innerValue.value[1],\n      \"defaultValue\": defaultValues[1],\n      \"disabledTime\": disabledEndTime\n    }), null)]);\n  };\n}\nconst timeRangeProps = timePanelProps;\nvar TimeRange$1 = defineVueComponent(TimeRange, timeRangeProps);\nfunction useTimePanelVisible(props) {\n  const defaultTimeVisible = ref(false);\n  const closeTimePanel = () => {\n    var _a;\n    defaultTimeVisible.value = false;\n    (_a = props.onShowTimePanelChange) == null ? void 0 : _a.call(props, false);\n  };\n  const openTimePanel = () => {\n    var _a;\n    defaultTimeVisible.value = true;\n    (_a = props.onShowTimePanelChange) == null ? void 0 : _a.call(props, true);\n  };\n  const timeVisible = computed(() => {\n    return typeof props.showTimePanel === \"boolean\" ? props.showTimePanel : defaultTimeVisible.value;\n  });\n  return { timeVisible, openTimePanel, closeTimePanel };\n}\nfunction DateTime(originalProps) {\n  const props = withDefault(originalProps, {\n    disabledTime: () => false,\n    defaultValue: startOfDay(new Date())\n  });\n  const currentValue = ref(props.value);\n  watchEffect(() => {\n    currentValue.value = props.value;\n  });\n  const {\n    openTimePanel,\n    closeTimePanel,\n    timeVisible\n  } = useTimePanelVisible(props);\n  const handleSelect = (date, type) => {\n    var _a;\n    if (type === \"date\") {\n      openTimePanel();\n    }\n    let datetime = assignTime(date, getValidDate(props.value, props.defaultValue));\n    if (props.disabledTime(new Date(datetime))) {\n      datetime = assignTime(date, props.defaultValue);\n      if (props.disabledTime(new Date(datetime))) {\n        currentValue.value = datetime;\n        return;\n      }\n    }\n    (_a = props[\"onUpdate:value\"]) == null ? void 0 : _a.call(props, datetime, type);\n  };\n  return () => {\n    const prefixClass = usePrefixClass();\n    const calendarProp = __spreadProps(__spreadValues({}, pick(props, calendarProps)), {\n      multiple: false,\n      type: \"date\",\n      value: currentValue.value,\n      [\"onUpdate:value\"]: handleSelect\n    });\n    const timeProps = __spreadProps(__spreadValues({}, pick(props, timePanelProps)), {\n      showTimeHeader: true,\n      value: currentValue.value,\n      [\"onUpdate:value\"]: props[\"onUpdate:value\"],\n      onClickTitle: closeTimePanel\n    });\n    return createVNode(\"div\", {\n      \"class\": `${prefixClass}-date-time`\n    }, [createVNode(Calendar$1, calendarProp, null), timeVisible.value && createVNode(TimePanel$1, timeProps, null)]);\n  };\n}\nconst datetimeBaseProps = keys()([\"showTimePanel\", \"onShowTimePanelChange\"]);\nconst datetimeProps = [...datetimeBaseProps, ...calendarProps, ...timePanelProps];\nvar DateTime$1 = defineVueComponent(DateTime, datetimeProps);\nfunction DateTimeRange(originalProps) {\n  const props = withDefault(originalProps, {\n    defaultValue: startOfDay(new Date()),\n    disabledTime: () => false\n  });\n  const currentValue = ref(props.value);\n  watchEffect(() => {\n    currentValue.value = props.value;\n  });\n  const {\n    openTimePanel,\n    closeTimePanel,\n    timeVisible\n  } = useTimePanelVisible(props);\n  const handleSelect = (dates, type) => {\n    var _a;\n    if (type === \"date\") {\n      openTimePanel();\n    }\n    const defaultValues = Array.isArray(props.defaultValue) ? props.defaultValue : [props.defaultValue, props.defaultValue];\n    let datetimes = dates.map((date, i) => {\n      const time = isValidRangeDate(props.value) ? props.value[i] : defaultValues[i];\n      return assignTime(date, time);\n    });\n    if (datetimes[1].getTime() < datetimes[0].getTime()) {\n      datetimes = [datetimes[0], datetimes[0]];\n    }\n    if (datetimes.some(props.disabledTime)) {\n      datetimes = dates.map((date, i) => assignTime(date, defaultValues[i]));\n      if (datetimes.some(props.disabledTime)) {\n        currentValue.value = datetimes;\n        return;\n      }\n    }\n    (_a = props[\"onUpdate:value\"]) == null ? void 0 : _a.call(props, datetimes, type);\n  };\n  return () => {\n    const prefixClass = usePrefixClass();\n    const calendarProp = __spreadProps(__spreadValues({}, pick(props, calendarRangeProps)), {\n      type: \"date\",\n      value: currentValue.value,\n      [\"onUpdate:value\"]: handleSelect\n    });\n    const timeProps = __spreadProps(__spreadValues({}, pick(props, timeRangeProps)), {\n      showTimeHeader: true,\n      value: currentValue.value,\n      [\"onUpdate:value\"]: props[\"onUpdate:value\"],\n      onClickTitle: closeTimePanel\n    });\n    return createVNode(\"div\", {\n      \"class\": `${prefixClass}-date-time-range`\n    }, [createVNode(CalendarRange$1, calendarProp, null), timeVisible.value && createVNode(TimeRange$1, timeProps, null)]);\n  };\n}\nconst datetimeRangeProps = [...datetimeBaseProps, ...timeRangeProps, ...calendarRangeProps];\nvar DateTimeRange$1 = defineVueComponent(DateTimeRange, datetimeRangeProps);\nconst booleanKeys = keys()([\"range\", \"open\", \"appendToBody\", \"clearable\", \"confirm\", \"disabled\", \"editable\", \"multiple\", \"partialUpdate\", \"showHour\", \"showMinute\", \"showSecond\", \"showTimeHeader\", \"showTimePanel\", \"showWeekNumber\", \"use12h\"]);\nconst formatMap = {\n  date: \"YYYY-MM-DD\",\n  datetime: \"YYYY-MM-DD HH:mm:ss\",\n  year: \"YYYY\",\n  month: \"YYYY-MM\",\n  time: \"HH:mm:ss\",\n  week: \"w\"\n};\nfunction DatePicker(originalProps, {\n  slots\n}) {\n  const type = originalProps.type || \"date\";\n  const format2 = originalProps.format || formatMap[type] || formatMap.date;\n  const props = __spreadProps(__spreadValues({}, resolveProps(originalProps, booleanKeys)), {\n    type,\n    format: format2\n  });\n  return createVNode(Picker$1, pick(props, Picker$1.props), __spreadValues({\n    content: (slotProps) => {\n      if (props.range) {\n        const Content = type === \"time\" ? TimeRange$1 : type === \"datetime\" ? DateTimeRange$1 : CalendarRange$1;\n        return h(Content, pick(__spreadValues(__spreadValues({}, props), slotProps), Content.props));\n      } else {\n        const Content = type === \"time\" ? TimePanel$1 : type === \"datetime\" ? DateTime$1 : Calendar$1;\n        return h(Content, pick(__spreadValues(__spreadValues({}, props), slotProps), Content.props));\n      }\n    },\n    [\"icon-calendar\"]: () => type === \"time\" ? createVNode(render, null, null) : createVNode(render$2, null, null)\n  }, slots));\n}\nconst api = {\n  locale,\n  install: (app) => {\n    app.component(\"DatePicker\", DatePicker);\n  }\n};\nvar index = Object.assign(DatePicker, api, {\n  Calendar: Calendar$1,\n  CalendarRange: CalendarRange$1,\n  TimePanel: TimePanel$1,\n  TimeRange: TimeRange$1,\n  DateTime: DateTime$1,\n  DateTimeRange: DateTimeRange$1\n});\nexport { index as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}