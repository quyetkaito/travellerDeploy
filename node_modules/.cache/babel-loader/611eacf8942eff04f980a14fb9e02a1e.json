{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5141259a\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  ref: \"mTable\",\n  class: \"m-table\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"w-50\"\n};\nconst _hoisted_4 = {\n  key: 1\n};\nconst _hoisted_5 = {\n  class: \"m-checkbox\"\n};\nconst _hoisted_6 = [\"title\"];\nconst _hoisted_7 = {\n  key: 2\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"justify-end\"\n}, \"chức năng\", -1\n/* HOISTED */\n));\n\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = {\n  key: 1\n};\nconst _hoisted_11 = [\"onDblclick\", \"onClick\"];\nconst _hoisted_12 = {\n  key: 0,\n  class: \"w-50\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"m-icon m-icon-16 m-drag-grid\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_14 = [_hoisted_13];\nconst _hoisted_15 = {\n  key: 1,\n  class: \"w-50\"\n};\nconst _hoisted_16 = {\n  class: \"m-checkbox\"\n};\nconst _hoisted_17 = [\"value\"];\nconst _hoisted_18 = [\"src\", \"alt\", \"width\", \"height\"];\nconst _hoisted_19 = {\n  key: 2\n};\nconst _hoisted_20 = {\n  class: \"m-table-tool flex align-y-center justify-end\"\n};\nconst _hoisted_21 = [\"onClick\"];\nconst _hoisted_22 = {\n  class: \"tool-btn\"\n};\nconst _hoisted_23 = [\"onClick\", \"onDoubleClick\"];\n\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"m-icon m-icon-16 m-arrow-up--blue\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_25 = [_hoisted_24];\nconst _hoisted_26 = {\n  key: 2,\n  class: \"empty\"\n};\n\nconst _hoisted_27 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_28 = [_hoisted_27];\nconst _hoisted_29 = {\n  key: 3,\n  class: \"empty\"\n};\nconst _hoisted_30 = {\n  key: 4,\n  class: \"m-table-footer\"\n};\nconst _hoisted_31 = {\n  key: 0,\n  class: \"w-50\"\n};\nconst _hoisted_32 = {\n  key: 1,\n  class: \"w-50\"\n};\nconst _hoisted_33 = {\n  key: 0,\n  class: \"align-center\"\n};\nconst _hoisted_34 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"table\", _hoisted_1, [_createCommentVNode(\" Table Header \"), $props.isHasHeader ? (_openBlock(), _createElementBlock(\"thead\", _hoisted_2, [_createElementVNode(\"tr\", null, [$props.isDragable ? (_openBlock(), _createElementBlock(\"th\", _hoisted_3)) : _createCommentVNode(\"v-if\", true), $props.multiSelect ? (_openBlock(), _createElementBlock(\"th\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $options.selectAll = $event),\n    ref: \"selectAll\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelCheckbox, $options.selectAll]])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Lấy tên các header để render ra \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.columns, (header, index) => {\n    return _openBlock(), _createElementBlock(\"th\", {\n      key: index,\n      style: _normalizeStyle(`width:${header.width}px!important;min-width:${header.width}px!important;`)\n    }, [(header.visible = true) ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 0,\n      title: header.titleFull,\n      style: _normalizeStyle(`justify-content: ${header.titleAlign}`)\n    }, _toDisplayString(header.title), 13\n    /* TEXT, STYLE, PROPS */\n    , _hoisted_6)) : _createCommentVNode(\"v-if\", true)], 4\n    /* STYLE */\n    );\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), $props.tableFunction.isShow ? (_openBlock(), _createElementBlock(\"th\", _hoisted_7, _hoisted_9)) : _createCommentVNode(\"v-if\", true)])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Table Body \"), $props.listData.length !== 0 ? (_openBlock(), _createElementBlock(\"tbody\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.listData, (object, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index,\n      onDblclick: $event => $options.handleDoubleClick(object),\n      onClick: $event => $options.handleClick(object, index)\n    }, [$props.isDragable ? (_openBlock(), _createElementBlock(\"td\", _hoisted_12, _hoisted_14)) : _createCommentVNode(\"v-if\", true), $props.multiSelect ? (_openBlock(), _createElementBlock(\"td\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.checkedRows = $event),\n      value: object,\n      onChange: _cache[2] || (_cache[2] = (...args) => _ctx.handleCheckboxChange && _ctx.handleCheckboxChange(...args))\n    }, null, 40\n    /* PROPS, HYDRATE_EVENTS */\n    , _hoisted_17), [[_vModelCheckbox, $data.checkedRows]])])])) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.columns, (column, idx) => {\n      return _openBlock(), _createElementBlock(\"td\", {\n        key: idx,\n        style: _normalizeStyle(`width:${column.width}px!important;min-width:${column.width}px!important;max-width:300px!important;`)\n      }, [(column.visible = true && column.dataType != 'image') ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        style: _normalizeStyle(`justify-content: ${column.titleAlign}`)\n      }, [_createCommentVNode(\" {{ column.width }} \"), _createTextVNode(_toDisplayString($options.showData(object, column)), 1\n      /* TEXT */\n      )], 4\n      /* STYLE */\n      )) : _createCommentVNode(\"v-if\", true), (column.visible = true && column.dataType == 'image') ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        style: _normalizeStyle(`justify-content: ${column.titleAlign}`)\n      }, [_createElementVNode(\"img\", {\n        src: $options.getImageSrc(object.src, object.format, object.type),\n        alt: object.imgAlt,\n        width: object.imgWidth ? object.imgWidth : 50,\n        height: object.imgHeight ? object.imgHeight : 50\n      }, null, 8\n      /* PROPS */\n      , _hoisted_18)], 4\n      /* STYLE */\n      )) : _createCommentVNode(\"v-if\", true)], 4\n      /* STYLE */\n      );\n    }), 128\n    /* KEYED_FRAGMENT */\n    )), $props.tableFunction.isShow ? (_openBlock(), _createElementBlock(\"td\", _hoisted_19, [_createCommentVNode(\" table function \"), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", {\n      class: \"m-table-tool__text\",\n      onClick: $event => $options.mainButtonClick(object)\n    }, [_createElementVNode(\"button\", _hoisted_22, _toDisplayString($props.tableFunction.mainButtonText), 1\n    /* TEXT */\n    )], 8\n    /* PROPS */\n    , _hoisted_21), _createElementVNode(\"div\", {\n      ref_for: true,\n      ref: \"dropdownArrow\",\n      class: \"m-table-tool__icon\"\n    }, [_createElementVNode(\"div\", {\n      class: \"line flex align-center\",\n      onClick: $event => $options.showOptions($event, object, index),\n      onDoubleClick: $event => $options.handleEdit(object)\n    }, _hoisted_25, 40\n    /* PROPS, HYDRATE_EVENTS */\n    , _hoisted_23)], 512\n    /* NEED_PATCH */\n    )]), _createCommentVNode(\" /table function \")])) : _createCommentVNode(\"v-if\", true)], 40\n    /* PROPS, HYDRATE_EVENTS */\n    , _hoisted_11);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Table body skeleton \"), $props.isShowSkeleton && $props.listData.length == 0 ? (_openBlock(), _createElementBlock(\"tbody\", _hoisted_26, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.pageSize, i => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: i\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.columnSkeleton, col => {\n      return _openBlock(), _createElementBlock(\"td\", {\n        key: col\n      }, _hoisted_28);\n    }), 128\n    /* KEYED_FRAGMENT */\n    ))]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Ảnh không có dữ liệu \"), !$props.isShowSkeleton && $props.listData.length == 0 ? (_openBlock(), _createElementBlock(\"tbody\", _hoisted_29, \" Không có dữ liệu \")) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Table Footer \"), $props.showFooter && $props.listData.length !== 0 ? (_openBlock(), _createElementBlock(\"tfoot\", _hoisted_30, [_createElementVNode(\"tr\", null, [$props.isDragable ? (_openBlock(), _createElementBlock(\"th\", _hoisted_31)) : _createCommentVNode(\"v-if\", true), $props.multiSelect ? (_openBlock(), _createElementBlock(\"th\", _hoisted_32)) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.columns, (column, index) => {\n    return _openBlock(), _createElementBlock(\"th\", {\n      key: index,\n      style: _normalizeStyle(`width:${column.width}px!important;min-width:${column.width}px!important;`)\n    }, [index == 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_33, \"Tổng\")) : _createCommentVNode(\"v-if\", true), index != 0 ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 1,\n      class: _normalizeClass(column.align)\n    }, _toDisplayString(column.total_amount), 3\n    /* TEXT, CLASS */\n    )) : _createCommentVNode(\"v-if\", true)], 4\n    /* STYLE */\n    );\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _ctx.isHasFunctionColumn ? (_openBlock(), _createElementBlock(\"th\", _hoisted_34)) : _createCommentVNode(\"v-if\", true)])])) : _createCommentVNode(\"v-if\", true)], 512\n  /* NEED_PATCH */\n  );\n}","map":{"version":3,"mappings":"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","names":["ref","class","_createElementVNode","_hoisted_8","_hoisted_13","_hoisted_24","_hoisted_27","_createElementBlock","_createCommentVNode","$props","_hoisted_2","_hoisted_4","type","$options","$event","_Fragment","_renderList","header","index","key","style","width","visible","title","titleFull","titleAlign","_hoisted_6","isShow","_hoisted_7","_hoisted_9","length","_hoisted_10","object","onDblclick","onClick","_hoisted_14","$data","value","onChange","_ctx","column","idx","dataType","src","format","alt","imgAlt","imgWidth","height","imgHeight","_hoisted_19","_toDisplayString","mainButtonText","onDoubleClick","i","col","_hoisted_28","align","total_amount","_hoisted_34"],"sourceRoot":"","sources":["D:\\Traveller\\Traveller-Frontend\\traveller-ui\\src\\components\\m-grid\\MGrid.vue"],"sourcesContent":["<template>\r\n  <table ref=\"mTable\" class=\"m-table\">\r\n    <!-- Table Header -->\r\n    <thead v-if=\"isHasHeader\">\r\n      <tr>\r\n        <th v-if=\"isDragable\" class=\"w-50\"></th>\r\n        <th v-if=\"multiSelect\">\r\n          <div class=\"m-checkbox\">\r\n            <input type=\"checkbox\" v-model=\"selectAll\" ref=\"selectAll\" />\r\n          </div>\r\n        </th>\r\n        <!-- Lấy tên các header để render ra -->\r\n        <th\r\n          v-for=\"(header, index) in columns\"\r\n          :key=\"index\"\r\n          :style=\"`width:${header.width}px!important;min-width:${header.width}px!important;`\"\r\n        >\r\n          <div :title=\"header.titleFull\" :style=\"`justify-content: ${header.titleAlign}`\" v-if=\"header.visible = true\">\r\n            {{ header.title }}\r\n          </div>\r\n        </th>\r\n        <th v-if=\"tableFunction.isShow\">\r\n          <div class=\"justify-end\">chức năng</div>\r\n        </th>\r\n      </tr>\r\n    </thead>\r\n\r\n    <!-- Table Body -->\r\n    <tbody v-if=\"listData.length !== 0\">\r\n      <tr\r\n        v-for=\"(object, index) in listData\"\r\n        :key=\"index\"\r\n        @dblclick=\"handleDoubleClick(object)\"\r\n        @click=\"handleClick(object, index)\"\r\n      >\r\n        <td v-if=\"isDragable\" class=\"w-50\">\r\n          <div class=\"m-icon m-icon-16 m-drag-grid\"></div>\r\n        </td>\r\n        <td v-if=\"multiSelect\" class=\"w-50\">\r\n          <div class=\"m-checkbox\">\r\n            <input\r\n              type=\"checkbox\"\r\n              v-model=\"checkedRows\"\r\n              :value=\"object\"\r\n              @change=\"handleCheckboxChange\"\r\n            />\r\n          </div>\r\n        </td>\r\n        <td\r\n          v-for=\"(column, idx) in columns\"\r\n          :key=\"idx\"\r\n          :style=\"`width:${column.width}px!important;min-width:${column.width}px!important;max-width:300px!important;`\"\r\n        >\r\n          <div :style=\"`justify-content: ${column.titleAlign}`\" v-if=\"column.visible = true && column.dataType != 'image'\">\r\n            <!-- {{ column.width }} -->\r\n            {{ showData(object, column) }}\r\n          </div>\r\n          <div :style=\"`justify-content: ${column.titleAlign}`\" v-if=\"column.visible = true && column.dataType == 'image'\">            \r\n              <img :src=\"getImageSrc(object.src, object.format, object.type)\" :alt=\"object.imgAlt\" :width=\"object.imgWidth?object.imgWidth:50\" :height=\"object.imgHeight?object.imgHeight:50\"/>\r\n          </div>\r\n        </td>\r\n        <td v-if=\"tableFunction.isShow\">\r\n          <!-- table function -->\r\n          <div class=\"m-table-tool flex align-y-center justify-end\">\r\n            <div class=\"m-table-tool__text\" @click=\"mainButtonClick(object)\">\r\n              <button class=\"tool-btn\">{{ tableFunction.mainButtonText }}</button>\r\n            </div>\r\n            <div ref=\"dropdownArrow\" class=\"m-table-tool__icon\">\r\n              <div\r\n                class=\"line flex align-center\"\r\n                @click=\"showOptions($event, object, index)\"\r\n                @doubleClick=\"handleEdit(object)\"\r\n              >\r\n                <div class=\"m-icon m-icon-16 m-arrow-up--blue\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- /table function -->\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n    <!-- Table body skeleton -->\r\n    <tbody v-if=\"isShowSkeleton && listData.length == 0\" class=\"empty\">\r\n      <tr v-for=\"i in pageSize\" v-bind:key=\"i\">\r\n        <td v-for=\"col in columnSkeleton\" :key=\"col\"><div></div></td>\r\n      </tr>\r\n    </tbody>\r\n    <!-- Ảnh không có dữ liệu -->\r\n    <tbody v-if=\"!isShowSkeleton && listData.length == 0\" class=\"empty\">\r\n      Không có dữ liệu\r\n    </tbody>\r\n    <!-- Table Footer -->\r\n    <tfoot v-if=\"showFooter && listData.length !== 0\" class=\"m-table-footer\">\r\n      <tr>\r\n        <th v-if=\"isDragable\" class=\"w-50\"></th>\r\n        <th v-if=\"multiSelect\" class=\"w-50\"></th>\r\n        <th\r\n          v-for=\"(column, index) in columns\"\r\n          :key=\"index\"\r\n          :style=\"`width:${column.width}px!important;min-width:${column.width}px!important;`\"\r\n        >\r\n          <div v-if=\"index == 0\" class=\"align-center\">Tổng</div>\r\n          <div :class=\"column.align\" v-if=\"index != 0\">\r\n            {{ column.total_amount }}\r\n          </div>\r\n        </th>\r\n        <th v-if=\"isHasFunctionColumn\"></th>\r\n      </tr>\r\n    </tfoot>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\n// import vClickOutside from \"click-outside-vue3\";\r\nimport * as base from \"@/script/base\";\r\n\r\nexport default {\r\n  component: {},\r\n  emits: [\r\n    \"eUpdate\",\r\n    \"onDelete\",\r\n    \"eDoubleClick\",\r\n    \"eClick\",\r\n    \"eShowFunc\",\r\n    \"handleHideFunc\",\r\n    \"eMultiSelect\",\r\n    \"eMainButtonClick\",//button chính của function click\r\n  ],\r\n  //config của thư viện v-click-outside\r\n  // directives: {\r\n  //   clickOutside: vClickOutside.directive,\r\n  // },\r\n\r\n  //danh sách các prop\r\n  props: {\r\n    //list data render ra bảng\r\n    listData: {\r\n      type: Object,\r\n      default: null,\r\n      required: true, //bắt buộc có\r\n    },\r\n    //list các column của bảng\r\n    columns: {\r\n      type: Array, //mảng các object cột\r\n      default: null,\r\n      required: true, //bắt buộc\r\n    },\r\n    //số bản ghi trên một trang\r\n    pageSize: {\r\n      type: [Number, String],\r\n      default: null,\r\n    },\r\n    //loading skeleton có show hay không?\r\n    isShowSkeleton: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    //cấu hình cột chức năng\r\n    tableFunction:{\r\n      type: Object,\r\n      default(){\r\n        return{        \r\n          mainButtonText : 'Edit',\r\n          mainFunction: \"Edit\",\r\n          isShow: true\r\n        }\r\n      }\r\n    },\r\n    //có cột checkbox hay không?\r\n    multiSelect: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    //các hàng có thể kéo thả để thay đổi vị trí không?\r\n    isDragable: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    //bảng này có hiện header không?\r\n    isHasHeader: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    //footer có show không?\r\n    showFooter: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    //icon loading có show không?\r\n    isShowLoading: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n\r\n  //danh sách các data\r\n  data() {\r\n    return {\r\n      isCheckAll: false, //nút check all có đang check hay không?\r\n      checkedRows: [], //số hàng đang được chọn => (mảng các object)\r\n    };\r\n  },\r\n  mounted() {},\r\n  watch: {\r\n    /**----------------------------------------------------------\r\n     * nếu checkedRows thay đổi thì cập nhật lại các hàng dc select\r\n     * Author: quyetkaito (14/03/2022)\r\n     ---------------------------------*/\r\n    checkedRows() {\r\n      this.changeSelected();\r\n    },\r\n\r\n    /**--------------------------------------\r\n     * Nếu đang hiện skeleton thì bỏ check tất cả.\r\n     * Author: quyetkaito (22/-3/2022)\r\n     ---------------------------------*/\r\n    isShowSkeleton() {\r\n      this.checkedRows = [];\r\n    },\r\n  },\r\n\r\n  //các hàm\r\n  methods: {\r\n    /**\r\n     * Trả về source của image bind động\r\n     * @param src : tên file/ link ảnh\r\n     * @param ext : đuôi file\r\n     * @param type : loại source\r\n     */\r\n    getImageSrc(src, format, type = 'local'){\r\n      try {\r\n        src = src.toString(); //chuyển về string cho chắc\r\n        if(type == 'link'){ //nếu type là link thì trả về link luôn\r\n          return src;\r\n        }   \r\n        switch (format) {\r\n          case 'webp':\r\n            return require(`@/assets/${src}.webp`);    //phải viết sẵn như này mới ăn, viết kiểu + string thì chết\r\n          case 'png':\r\n            return require(`@/assets/${src}.png`);           \r\n        \r\n          default:\r\n            return null;\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n        return null;\r\n      }\r\n    },\r\n    \r\n    /**------------------------------------------\r\n    * Xử lý khi button chính trong cột chức năng được click\r\n    * @created : quyetkaito (26/06/2022)\r\n    * @param {Object} object - hàng chứa thông tin đối tượng được click\r\n    ---------------------------------------------*/\r\n    mainButtonClick(object){\r\n        if(object){\r\n            this.$emit(\"eMainButtonClick\", object);\r\n        }\r\n    },\r\n\r\n    /**------------------------------------------\r\n    * Xử lý khi double click vào hàng\r\n    * @param {Object} object : hàng chứa thông tin đối tượng\r\n    * @created : quyetkaito (26/06/2022)\r\n    --------------------------------------------*/\r\n    handleDoubleClick(object){\r\n      if(object){\r\n        this.$emit(\"eDoubleClick\", object);\r\n      }\r\n    },\r\n\r\n    /**---------------------------------------------\r\n     * Thực hiện bỏ dấu checkAll sau khi xóa nhiều.\r\n     * Author: quyetkaito (18/03/2022)\r\n     ---------------------------------*/\r\n    unCheckAll() {\r\n      if (this.$refs.selectAll.checked == true)\r\n        this.$refs.selectAll.checked = false;\r\n    },\r\n\r\n    /**-----------------------------------\r\n     * Hàm show data tương ứng với các cột của header.\r\n     * @param {String} object - object hàng hiện tại.\r\n     * @param {String} column - cấu hình của cột hiện tại\r\n     * Author: quyetkaito (16/03/2022)\r\n     ------------------------------------*/\r\n    showData(object, column) {\r\n      //chuyển column key sang snake_case (nếu cần)\r\n      if(column.key && object){\r\n        let objTemp = JSON.parse(JSON.stringify(object));\r\n        let field = base.camelToUnderscore(column.key);\r\n        //nếu dữ liệu dạng số\r\n        if (column.dataType && column.dataType == \"number\") {\r\n          if(objTemp[field]){\r\n            return base.formatCurrency(objTemp[field].toString());\r\n          }\r\n        }\r\n        //nếu dữ liệu là ngày tháng\r\n        if (column.dataType && column.dataType == \"date\") {\r\n          return !base.formatDate(objTemp[field], this.$enum.DateFormat).includes('NaN') ? base.formatDate(objTemp[field], this.$enum.DateFormat) : \"\";\r\n        }\r\n        //nếu không => trả về data với field tương ứng từ header(dạng text bình thường)\r\n        return objTemp[field] ? objTemp[field]: \"\";\r\n      }\r\n      return \"\";\r\n    },\r\n\r\n    /**----------------------------------------------\r\n     * Hàm emit tới cha danh sách các hàng được chọn.\r\n     * Author: quyetkaito (15/03/2022)\r\n    ------------------------------------*/\r\n    changeSelected() {\r\n      // console.log(this.checkedRows);\r\n      //emit tới cha danh sách đối tượng\r\n      this.$emit(\"eMultiSelect\", this.checkedRows);\r\n    },\r\n\r\n    /**-------------------------------------------------\r\n     * Hàm xử lý khi click vào nút [Sửa] trên bảng.\r\n     * @param {Object} obj - đối tượng thao tác\r\n     * @param {Number} formMode - trạng thái của form\r\n     * Author: quyetkaito (27/02/2022)\r\n     -----------------------------------------------*/\r\n    handleEdit(obj) {\r\n      //emit tới cha nhận sự kiện update\r\n      this.$emit(\"eUpdate\", { data: obj, formMode: 2 });\r\n      //emit tới cha đóng function\r\n      this.$emit(\"handleHideFunc\");\r\n    },\r\n\r\n    /**------------------------------------------\r\n    *Xử lý khi 1 hàng được click\r\n    *Author: quyetkaito (13/04/2022)\r\n    --------------------------------------------*/\r\n    handleClick(object, index) {\r\n      try {\r\n        //emit tới cha đối tượng được click\r\n        this.$emit(\"eClick\", { object, index });\r\n        //xóa background cho tất cả các hàng khác, giữ lại hàng đang được click\r\n        this.$refs.mTable.querySelectorAll(`tbody tr`).forEach((e) => {\r\n          e.classList.remove(\"selected\");\r\n        });\r\n        this.$refs.mTable\r\n          .querySelector(`tbody tr:nth-child(${index + 1})`)\r\n          .classList.add(\"selected\");\r\n      } catch (error) {\r\n        //log ra lỗi\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    /**------------------------------------------------\r\n         * Hàm xử lý khi click vào nút [Xóa] trên bảng.\r\n         * @param {Object} obj - đối tượng cần xóa.\r\n         * Author: quyetkaito (27/02/2022)\r\n         ----------------------------------------------*/\r\n    handleDelete(obj) {\r\n      this.$emit(\"onDelete\", obj);\r\n    },\r\n\r\n    /**------------------------------------------------------\r\n     * Hàm thực hiện lấy vị trí click để hiện dropdown content.\r\n     * @param {Object} object - đối tượng ứng với hàng.\r\n     * @param {Event} event\r\n     * @param {Number} index - số thứ tự của hàng được chọn\r\n     * Author: quyetkaito (07/03/2022)\r\n     -----------------------------------------------------------*/\r\n    showOptions(event, object, index) {\r\n      // console.log(index);\r\n      // console.log(this.$refs.dropdownArrow[index]);\r\n      //lấy ra arrow tại hàng đó\r\n      let arrow = this.$refs.dropdownArrow[index];\r\n      //lấy ra vị trí của arrow\r\n      let arrowPosition = arrow.getBoundingClientRect();\r\n\r\n      //emit tới cha show dropdowncontent hiện tại\r\n      this.$emit(\"eShowFunc\", { object, arrowPosition });\r\n    },\r\n\r\n    /**------------------------------------------------\r\n     * Xử lý đóng table Function khi click ra ngoài bảng\r\n     * Author: quyetkaito (13/03/2022)\r\n    -------------------------------------*/\r\n    hideOptions() {\r\n      //emit tới cha ẩn dropdowncontent hiện tại\r\n      this.$emit(\"handleHideFunc\");\r\n    },\r\n\r\n    /**------------------------------------------\r\n    *CSS cho những hàng đang được chọn\r\n    *@param {Object} selectedRow - hàng đang chọn.\r\n    selectedRow, value\r\n    *Author: quyetkaito (15/04/2022)\r\n    --------------------------------------------*/\r\n    addSelectedRow(index) {\r\n      if (this.listData.length > 0) {\r\n        let allRow = this.$el.querySelectorAll(`tbody tr`);\r\n        let thisRow = this.$el.querySelector(\r\n          `tbody tr:nth-child(${index + 1})`\r\n        );\r\n        if (allRow) {\r\n          //xóa background cho tất cả các hàng khác, giữ lại hàng đang được click\r\n          allRow.forEach((e) => {\r\n            e.classList.remove(\"selected\");\r\n          });\r\n          if (thisRow) thisRow.classList.add(\"selected\");\r\n        }\r\n      }\r\n    },\r\n\r\n    /**------------------------------------------\r\n    *Hàm lấy thông tin 1 hàng của table.\r\n    *@param {Number} index số thứ tự hàng, bắt đầu từ 0\r\n    *Author: quyetkaito (01/05/2022)\r\n    --------------------------------------------*/\r\n    getRow(index){\r\n      return this.listData[index];\r\n    }\r\n  },\r\n\r\n  /**------------------------------------------\r\n  *Tính toán data trong grid.\r\n  *Author: quyetkaito (09/04/2022)\r\n  --------------------------------------------*/\r\n  computed: {\r\n    /**-------------------------------------\r\n     * Thực hiện chọn tất cả/ bỏ chọn tất cả\r\n     * Author: quyetkaito (14/03/2022)\r\n     ---------------------------------*/\r\n    selectAll: {\r\n      get: function () {\r\n        //trả về true nếu listData = số hàng được check, false ngược lại\r\n        return this.listData\r\n          ? this.checkedRows.length == this.listData.length &&\r\n              this.listData.length != 0\r\n          : false;\r\n      },\r\n\r\n      //select All\r\n      set: function (value) {\r\n        var selected = [];\r\n        try {\r\n          if (value) {\r\n            console.log(value);\r\n            //tạo danh sách các đối tượng được chọn\r\n            this.listData.forEach(function (data) {\r\n              selected.push(data);\r\n            });\r\n          }\r\n          this.checkedRows = selected;\r\n        } catch (error) {\r\n          this.checkedRows = selected;\r\n          console.log(error);\r\n        }\r\n      },\r\n    },\r\n\r\n    /**------------------------------\r\n     * Tính toán số lượng các cột skeleton.\r\n     * Author: quyetkaito (27/03/2022)\r\n     --------------------------------*/\r\n    columnSkeleton() {\r\n      if (this.multiSelect) {\r\n        return this.columns.length + 2;\r\n      } else {\r\n        return this.columns.length + 1;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"/src/style/common/table.css\");\r\n.tool-btn {\r\n  white-space: nowrap;\r\n  font-weight: 600 !important;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}