{"ast":null,"code":"import { createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"image-viewer-fullscreen\"\n};\nconst _hoisted_2 = {\n  class: \"image-viewer__header\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-expand\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = [_hoisted_3];\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-times\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = [_hoisted_5];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", {\n    class: \"m-icon-48 icon-close flex align-center\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.backToOriginSize && $options.backToOriginSize(...args))\n  }, _hoisted_4), _createElementVNode(\"div\", {\n    class: \"m-icon-48 icon-close flex align-center\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.hide && $options.hide(...args))\n  }, _hoisted_6)]), _createElementVNode(\"div\", {\n    ref: \"imageViewerContainer\",\n    id: \"imageViewerContainer\",\n    class: \"image-viewer__container\",\n    onMousedown: _cache[3] || (_cache[3] = (...args) => $options.mousedownListener && $options.mousedownListener(...args)),\n    onMouseup: _cache[4] || (_cache[4] = (...args) => $options.mouseupListener && $options.mouseupListener(...args)),\n    onMousemove: _cache[5] || (_cache[5] = (...args) => $options.mousemoveListener && $options.mousemoveListener(...args)),\n    onWheel: _cache[6] || (_cache[6] = (...args) => $options.scrollListener && $options.scrollListener(...args))\n  }, [_createElementVNode(\"img\", {\n    alt: \"\",\n    src: \"https://picsum.photos/seed/picsum/200/300\",\n    id: \"imageViewer\",\n    ref: \"imageViewer\",\n    class: \"image-preview\",\n    onDblclick: _cache[2] || (_cache[2] = (...args) => $options.backToOriginSize && $options.backToOriginSize(...args))\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  )], 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  )], 512\n  /* NEED_PATCH */\n  )), [[_vShow, $data.isShow]]);\n}","map":{"version":3,"mappings":";;EAIOA,KAAK,EAAC;;;EACHA,KAAK,EAAC;;;gCACuEC,oBAA6B,GAA7B,EAA6B;EAA1BD,KAAK,EAAC;AAAoB,CAA7B,EAAwB,IAAxB,EAAwB;AAAA;AAAxB;;oBAAAE;;gCACZD,oBAA4B,GAA5B,EAA4B;EAAzBD,KAAK,EAAC;AAAmB,CAA5B,EAAuB,IAAvB,EAAuB;AAAA;AAAvB;;oBAAAG;;wCAHzEC,oBAQM,KARN,cAQM,CAPHH,oBAGM,KAHN,cAGM,CAFFA,oBAAiH,KAAjH,EAAiH;IAA5GD,KAAK,EAAC,wCAAsG;IAA5DK,OAAK,yCAAEC,+DAAF;EAAuD,CAAjH,aAEE,EADFL,oBAAoG,KAApG,EAAoG;IAA/FD,KAAK,EAAC,wCAAyF;IAA/CK,OAAK,yCAAEC,uCAAF;EAA0C,CAApG,aACE,CAHN,CAOG,EAHHL,oBAEM,KAFN,EAEM;IAFDM,GAAG,EAAC,sBAEH;IAF0BC,EAAE,EAAC,sBAE7B;IAFoDR,KAAK,EAAC,yBAE1D;IAFqFS,WAAS,yCAAEH,iEAAF,CAE9F;IAFoHI,SAAO,yCAAEJ,6DAAF,CAE3H;IAF+IK,WAAS,yCAAEL,iEAAF,CAExJ;IAF8KM,OAAK,yCAAEN,2DAAF;EAEnL,CAFN,GACGL,oBAAkJ,KAAlJ,EAAkJ;IAA7IY,GAAG,EAAC,EAAyI;IAAtIC,GAAG,EAAC,2CAAkI;IAAtFN,EAAE,EAAC,aAAmF;IAArED,GAAG,EAAC,aAAiE;IAAnDP,KAAK,EAAC,eAA6C;IAA5Be,UAAQ,yCAAET,+DAAF;EAAoB,CAAlJ;;EAAA,EADH;;EAAA,CAGG,CARN;;EAAA,cAA6CU","names":["class","_createElementVNode","_hoisted_3","_hoisted_5","_createElementBlock","onClick","$options","ref","id","onMousedown","onMouseup","onMousemove","onWheel","alt","src","onDblclick","$data"],"sourceRoot":"","sources":["D:\\Traveller\\Traveller-Frontend\\traveller-ui\\src\\views\\post\\ImageViewFull.vue"],"sourcesContent":["<!--\r\nFile xem hình ảnh khi click đúp vào ảnh trên bài viết\r\n-->\r\n<template>\r\n  <div class=\"image-viewer-fullscreen\" v-show=\"isShow\">\r\n     <div class=\"image-viewer__header\">\r\n         <div class=\"m-icon-48 icon-close flex align-center\" @click=\"backToOriginSize\"><i class=\"fas fa-expand\"></i></div>\r\n         <div class=\"m-icon-48 icon-close flex align-center\" @click=\"hide\"><i class=\"fas fa-times\"></i></div>\r\n     </div>\r\n     <div ref=\"imageViewerContainer\" id=\"imageViewerContainer\" class=\"image-viewer__container\" @mousedown=\"mousedownListener\" @mouseup=\"mouseupListener\" @mousemove=\"mousemoveListener\" @wheel=\"scrollListener\">\r\n        <img alt=\"\" src=\"https://picsum.photos/seed/picsum/200/300\" id=\"imageViewer\" ref=\"imageViewer\" class=\"image-preview\" @dblclick=\"backToOriginSize\">     \r\n     </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {   \r\n    data() {\r\n        return {\r\n            isShow: false, //show component\r\n            scale: 1, //tỉ lệ phóng to\r\n            panning: false, //có đang kéo thả ko\r\n            pointX: 0, //vị trí chuột\r\n            pointY: 0,\r\n            start: { x: 0, y: 0 }            \r\n        }\r\n    },\r\n\r\n    methods:{\r\n        getSrc(src){\r\n            return src;\r\n        },\r\n\r\n        show(src){\r\n            this.isShow = true;\r\n            if(src){                \r\n                if(this.$refs.imageViewer){\r\n                    this.$refs.imageViewer.src = src;\r\n                }                \r\n            }\r\n            this.backToOriginSize();\r\n        },\r\n\r\n        hide(){\r\n            this.isShow = false;\r\n        },\r\n\r\n        setTransform() {            \r\n            let zoom = this.$refs.imageViewerContainer;\r\n            if(zoom){\r\n                zoom.style.transform = \"translate(\" + this.pointX + \"px, \" + this.pointY + \"px) scale(\" + this.scale + \")\";\r\n            }\r\n        },\r\n        \r\n        /**\r\n        * Nhấn giữ chuột\r\n        * @created : quyetkaito 28/10/2022\r\n        */\r\n        mousedownListener(e){\r\n            e.preventDefault();\r\n            this.start = { x: e.clientX - this.pointX, y: e.clientY - this.pointY };\r\n            this.panning = true;\r\n        },\r\n\r\n        mouseupListener(e){\r\n            this.panning = false;\r\n        },\r\n\r\n        /**\r\n        * Nhấn giữ chuột để kéo thả ảnh\r\n        * @created : quyetkaito 28/10/2022\r\n        */\r\n        mousemoveListener(e){\r\n             e.preventDefault();\r\n            if (!this.panning) {\r\n             return;\r\n            }\r\n            this.pointX = (e.clientX - this.start.x);\r\n            this.pointY = (e.clientY - this.start.y);\r\n            this.setTransform();\r\n        },\r\n\r\n        /**\r\n         * Tính toán khi scroll để phóng to ảnh\r\n         * @created : quyetkaito 28/10/2022\r\n         */\r\n        scrollListener(e){\r\n            e.preventDefault();\r\n            var xs = (e.clientX - this.pointX) / this.scale,\r\n            ys = (e.clientY - this.pointY) / this.scale,\r\n            delta = (e.wheelDelta ? e.wheelDelta : - e.deltaY);\r\n            (delta > 0) ? (this.scale *= 1.2) : (this.scale /= 1.2);\r\n            this.pointX = e.clientX - xs * this.scale;\r\n            this.pointY = e.clientY - ys * this.scale;\r\n\r\n            this.setTransform();\r\n        },\r\n\r\n        /**\r\n         * Quay trở về kích thước ban đầu\r\n         */\r\n        backToOriginSize(){\r\n            this.pointX = 0;\r\n            this.pointY = 0;\r\n            this.scale = 1;\r\n            this.setTransform();\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.image-viewer-fullscreen{\r\n    position: fixed;\r\n    z-index: 1000;\r\n    top:0;\r\n    left:0;\r\n    bottom: 0;\r\n    right:0;\r\n    width: 100;\r\n    background-color: rgba(0, 0, 0, 0.85);\r\n}\r\n\r\n/* #imageViewer{\r\n    height: auto;\r\n    max-height: 100vh;\r\n    cursor: grab;\r\n} */\r\n\r\n.image-viewer__header{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n}\r\n.image-viewer__header .icon-close{\r\n    color: white;    \r\n    font-size: 30px;\r\n    cursor: pointer;\r\n    z-index: 1001;\r\n}\r\n.image-viewer__container{\r\n    object-fit: contain;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 100vh;\r\n    transform-origin: 0px 0px;\r\n    transform: scale(1) translate(0px, 0px);\r\n}\r\n.image-viewer__container .image-preview{\r\n    height: auto;\r\n    max-height: 100vh;\r\n    cursor: grab;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}