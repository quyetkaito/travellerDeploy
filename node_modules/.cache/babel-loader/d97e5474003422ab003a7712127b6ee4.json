{"ast":null,"code":"import vClickOutside from \"click-outside-vue3\";\nimport Navbar from \"@/layout/TheNavbar.vue\";\nimport PostItem from \"@/views/post/PostItem.vue\";\nimport PostList from \"@/views/post/PostList.vue\";\nimport PostImageViewer from \"@/views/post/PostImageViewer.vue\";\nimport PostAPI from \"@/api/PostAPI\";\nexport default {\n  name: \"LandingPage\",\n  components: {\n    /* eslint-disable */\n    \"post-item\": PostItem,\n    \"nav-bar\": Navbar,\n    \"post-list\": PostList,\n    \"post-image-viewer\": PostImageViewer\n  },\n  //click ra ngoài để đóng combobox options.\n  directives: {\n    clickOutside: vClickOutside.directive\n  },\n\n  data() {\n    return {\n      listNews: []\n    };\n  },\n\n  mounted() {\n    this.$eventBus.on('gotoTop', e => {\n      this.scrollTop(e);\n    });\n    this.getNews();\n  },\n\n  methods: {\n    test() {\n      this.$router.push(\"search-history\");\n    },\n\n    /**\r\n     * hàm lấy danh sách địa điểm đang hot\r\n     */\n    getHotPlace() {\n      this.$router.push({\n        name: 'postFilterList',\n        params: {\n          title: 'Các địa điểm đang hot',\n          filterKey: 'hotPlace'\n        }\n      });\n    },\n\n    /**\r\n    * Lấy thông tin tin tức gắn vào phần nội dung bên phải\r\n    * @created : quyetkaito 07/11/2022\r\n    */\n    async getNews() {\n      try {\n        let res = await PostAPI.request(PostAPI.urlName + \"/experience_post\", 'GET');\n\n        if (res && res.data) {\n          this.listNews = res.data;\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    gotoMyPost() {// this.$eventBus.emit('myPost', this.textSearch);\n    },\n\n    back() {\n      this.$router.push(\"/post\");\n    },\n\n    gotoAdmin() {\n      this.$router.push(\"/dashboard\");\n    },\n\n    /**\r\n    * Thực hiện get tiếp dữ liệu nếu tới cuối trang\r\n    * @created : quyetkaito 16/10/2022\r\n    */\n    async lazyLoading() {\n      if (this.$route && this.$route.name == 'postList') {\n        //chỉ lazy cho trang bài viết\n        var myDiv = document.getElementById(\"landingPage\");\n        var total = myDiv.clientHeight + Math.floor(myDiv.scrollTop);\n\n        if (total == myDiv.scrollHeight || total == myDiv.scrollHeight - 1) {\n          // console.log(\"đang ở bottom\");\n          await this.$eventBus.emit('nextPage', this.textSearch);\n        }\n      }\n    },\n\n    /**\r\n     * Xử lý scroll lên top\r\n     */\n    scrollTop() {\n      document.getElementById(\"landingPage\").scrollTo(0, 0);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAyCA,OAAOA,aAAP,MAA0B,oBAA1B;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,eAAP,MAA4B,kCAA5B;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,eAAe;EACbC,IAAI,EAAE,aADO;EAEbC,UAAU,EAAE;IACV;IACA,aAAaL,QAFH;IAGV,WAAWD,MAHD;IAIV,aAAaE,QAJH;IAKV,qBAAqBC;EALX,CAFC;EASb;EACAI,UAAU,EAAE;IACVC,YAAY,EAAET,aAAa,CAACU;EADlB,CAVC;;EAabC,IAAI,GAAG;IACL,OAAO;MACLC,QAAQ,EAAE;IADL,CAAP;EAGD,CAjBY;;EAkBbC,OAAO,GAAE;IACP,KAAKC,SAAL,CAAeC,EAAf,CAAkB,SAAlB,EAA6BC,CAAC,IAAG;MAC7B,KAAKC,SAAL,CAAeD,CAAf;IACH,CAFD;IAGA,KAAKE,OAAL;EACD,CAvBY;;EAwBbC,OAAO,EAAE;IACPC,IAAI,GAAE;MACJ,KAAKC,OAAL,CAAaC,IAAb,CAAkB,gBAAlB;IACD,CAHM;;IAKP;;;IAGAC,WAAW,GAAE;MACV,KAAKF,OAAL,CAAaC,IAAb,CAAkB;QAAChB,IAAI,EAAE,gBAAP;QAAyBkB,MAAM,EAAE;UAACC,KAAK,EAAE,uBAAR;UAAiCC,SAAS,EAAE;QAA5C;MAAjC,CAAlB;IACF,CAVM;;IAYP;;;;IAIA,MAAMR,OAAN,GAAe;MACb,IAAI;QACA,IAAIS,GAAE,GAAI,MAAMtB,OAAO,CAACuB,OAAR,CAAgBvB,OAAO,CAACwB,OAAR,GAAgB,kBAAhC,EAAoD,KAApD,CAAhB;;QACA,IAAGF,GAAE,IAAKA,GAAG,CAAChB,IAAd,EAAmB;UACf,KAAKC,QAAL,GAAgBe,GAAG,CAAChB,IAApB;QACJ;MACJ,CALA,CAKE,OAAOmB,KAAP,EAAc;QACdC,OAAO,CAACD,KAAR,CAAcA,KAAd;MACF;IAED,CA1BM;;IA4BPE,UAAU,GAAE,CACR;IACH,CA9BM;;IAgCPC,IAAI,GAAG;MACL,KAAKZ,OAAL,CAAaC,IAAb,CAAkB,OAAlB;IACD,CAlCM;;IAoCPY,SAAS,GAAE;MACT,KAAKb,OAAL,CAAaC,IAAb,CAAkB,YAAlB;IACD,CAtCM;;IAwCP;;;;IAIA,MAAMa,WAAN,GAAmB;MACjB,IAAG,KAAKC,MAAL,IAAe,KAAKA,MAAL,CAAY9B,IAAZ,IAAoB,UAAtC,EAAiD;QAAE;QACjD,IAAI+B,KAAI,GAAIC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAZ;QACA,IAAIC,KAAI,GAAIH,KAAK,CAACI,YAAN,GAAqBC,IAAI,CAACC,KAAL,CAAWN,KAAK,CAACpB,SAAjB,CAAjC;;QACA,IAAIuB,KAAI,IAAKH,KAAK,CAACO,YAAf,IAA+BJ,KAAI,IAAKH,KAAK,CAACO,YAAN,GAAqB,CAAjE,EAAoE;UAClE;UACA,MAAM,KAAK9B,SAAL,CAAe+B,IAAf,CAAoB,UAApB,EAAgC,KAAKC,UAArC,CAAN;QACF;MACF;IACD,CArDM;;IAuDP;;;IAGA7B,SAAS,GAAE;MACTqB,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCQ,QAAvC,CAAgD,CAAhD,EAAkD,CAAlD;IACF;;EA5DO;AAxBI,CAAf","names":["vClickOutside","Navbar","PostItem","PostList","PostImageViewer","PostAPI","name","components","directives","clickOutside","directive","data","listNews","mounted","$eventBus","on","e","scrollTop","getNews","methods","test","$router","push","getHotPlace","params","title","filterKey","res","request","urlName","error","console","gotoMyPost","back","gotoAdmin","lazyLoading","$route","myDiv","document","getElementById","total","clientHeight","Math","floor","scrollHeight","emit","textSearch","scrollTo"],"sourceRoot":"","sources":["D:\\Traveller\\Traveller-Frontend\\traveller-ui\\src\\views\\landing-page\\LandingPage.vue"],"sourcesContent":["<template>\r\n<div id=\"landingPage\" ref=\"landingPage\" class=\"landing-page\" @scroll=\"lazyLoading\">\r\n  <div class=\"navbar-container\">\r\n    <nav-bar />\r\n  </div>\r\n  <div class=\"main-content-container\">\r\n    <div class=\"flex\">\r\n      <div class=\"filter-container w-1/4\">          \r\n          <div class=\"filter-item\" @click=\"gotoMyPost\">\r\n            <i class=\"fas fa-book-open my-post\"></i>\r\n            <div>Bài viết của bạn</div>\r\n          </div>\r\n          <div class=\"filter-item\" @click=\"getHotPlace\">\r\n            <i class=\"fab fa-hotjar hot-place\"></i>\r\n            <div>Các địa điểm đang hot</div>\r\n          </div>\r\n          <div class=\"filter-item\">\r\n            <i class=\"fas fa-map-marker-alt location\"></i>\r\n            <div>Lọc theo khu vực</div>\r\n          </div>\r\n          <div class=\"filter-item\" @click=\"test\">Lọc theo tỉnh huyện</div>\r\n          <div class=\"filter-item\" @click=\"test\">Lịch sử tìm kiếm</div>\r\n          <div class=\"filter-item\" @click=\"gotoAdmin\" v-if=\"$session.get('UserRole') == $enum.UserRole.Admin\">Cài đặt</div>\r\n      </div>\r\n      <div class=\"post-container\">\r\n        <router-view :key=\"$route\"/>\r\n        <!-- <post-list/> -->\r\n      </div> \r\n      <div class=\"w-1/4 more-content\">\r\n        <div class=\"title\">Kinh nghiệm du lịch</div>\r\n        <div class=\"new-container\">\r\n          <post-item v-for=\"(item,index) in listNews\" :key=\"index\" :post=\"item\"/>\r\n        </div>\r\n      </div>     \r\n    </div>    \r\n  </div>\r\n  <post-image-viewer ref=\"postImageViewer\"/>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport vClickOutside from \"click-outside-vue3\";\r\nimport Navbar from \"@/layout/TheNavbar.vue\";\r\nimport PostItem from \"@/views/post/PostItem.vue\";\r\nimport PostList from \"@/views/post/PostList.vue\";\r\nimport PostImageViewer from \"@/views/post/PostImageViewer.vue\";\r\nimport PostAPI from \"@/api/PostAPI\"\r\nexport default {\r\n  name: \"LandingPage\",\r\n  components: {\r\n    /* eslint-disable */\r\n    \"post-item\": PostItem,\r\n    \"nav-bar\": Navbar,\r\n    \"post-list\": PostList,\r\n    \"post-image-viewer\": PostImageViewer,\r\n  },\r\n  //click ra ngoài để đóng combobox options.\r\n  directives: {\r\n    clickOutside: vClickOutside.directive,\r\n  },  \r\n  data() {\r\n    return {\r\n      listNews: [],\r\n    }\r\n  },\r\n  mounted(){\r\n    this.$eventBus.on('gotoTop', e=> {\r\n        this.scrollTop(e);\r\n    });  \r\n    this.getNews();  \r\n  },\r\n  methods: {\r\n    test(){\r\n      this.$router.push(\"search-history\");\r\n    },\r\n\r\n    /**\r\n     * hàm lấy danh sách địa điểm đang hot\r\n     */\r\n    getHotPlace(){\r\n       this.$router.push({name: 'postFilterList', params: {title: 'Các địa điểm đang hot', filterKey: 'hotPlace'}});\r\n    },\r\n\r\n    /**\r\n    * Lấy thông tin tin tức gắn vào phần nội dung bên phải\r\n    * @created : quyetkaito 07/11/2022\r\n    */\r\n    async getNews(){\r\n      try {\r\n          let res = await PostAPI.request(PostAPI.urlName+\"/experience_post\", 'GET');\r\n          if(res && res.data){\r\n              this.listNews = res.data;\r\n          }\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n      \r\n    },\r\n\r\n    gotoMyPost(){\r\n        // this.$eventBus.emit('myPost', this.textSearch);\r\n    },\r\n\r\n    back() {\r\n      this.$router.push(\"/post\");\r\n    },\r\n\r\n    gotoAdmin(){\r\n      this.$router.push(\"/dashboard\");\r\n    },\r\n\r\n    /**\r\n    * Thực hiện get tiếp dữ liệu nếu tới cuối trang\r\n    * @created : quyetkaito 16/10/2022\r\n    */\r\n    async lazyLoading(){            \r\n      if(this.$route && this.$route.name == 'postList'){ //chỉ lazy cho trang bài viết\r\n        var myDiv = document.getElementById(\"landingPage\");\r\n        var total = myDiv.clientHeight + Math.floor(myDiv.scrollTop);\r\n        if (total == myDiv.scrollHeight || total == myDiv.scrollHeight - 1) {\r\n          // console.log(\"đang ở bottom\");\r\n          await this.$eventBus.emit('nextPage', this.textSearch);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Xử lý scroll lên top\r\n     */\r\n    scrollTop(){\r\n      document.getElementById(\"landingPage\").scrollTo(0,0);\r\n    }\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.landing-page{\r\n   /* max-height: 720px;\r\n   height: 720px; */\r\n   height: 100vh;\r\n  overflow: auto;\r\n  background: #F5F5F5;\r\n  .navbar-container{\r\n    @apply shadow-md;  \r\n  }\r\n  .main-content-container{\r\n    /* padding-right: 100px;*/\r\n    box-sizing: border-box;\r\n    background: #F5F5F5;\r\n    padding-top: 56px;\r\n\r\n    .filter-container{\r\n      position: fixed; \r\n      box-sizing: border-box;\r\n\r\n      .filter-item{\r\n        display: flex;\r\n        padding: 10px;\r\n        cursor: pointer;\r\n        width: 100%;\r\n        height: 48px;\r\n        align-items: center;\r\n        border-radius: 8px;\r\n\r\n        i{\r\n          margin-right: 10px;\r\n          font-size: 30px;\r\n        }\r\n\r\n        .hot-place{\r\n          color: #FE6501;\r\n        }\r\n\r\n        .my-post{\r\n          color: var(--info-color);\r\n        }\r\n\r\n        .location{\r\n          color: var(--default-color);\r\n        }\r\n      }\r\n      .filter-item:hover{\r\n        background: #E4E6E9;\r\n      }       \r\n    }\r\n\r\n    .post-container {\r\n      width: 100%;\r\n      padding-left: 25%;\r\n      padding-right: 30%;\r\n    }\r\n    .more-content{\r\n       position: fixed;\r\n       right: 10px;       \r\n\r\n       .title{\r\n          margin-top: 5px;\r\n          font-weight: 600;\r\n          font-size: 20px;\r\n       }\r\n\r\n       .new-container{\r\n         overflow: auto; \r\n          height: calc(100vh - 100px);   \r\n          padding-right: 5px; \r\n          box-sizing: border-box;             \r\n       }   \r\n       .new-container:hover::-webkit-scrollbar-thumb{\r\n         visibility: visible;\r\n       }\r\n       .new-container::-webkit-scrollbar {\r\n          width: 5px;\r\n          height: 5px;\r\n          background-color: #e5e5e5;\r\n        }\r\n        .new-container::-webkit-scrollbar-thumb {\r\n          background-color: #b8bcc3;\r\n          border-radius: 5px;\r\n          height: 4px;\r\n          visibility: hidden;\r\n        }\r\n\r\n        .new-container::-webkit-scrollbar-thumb:hover {\r\n          background-color: #888888;          \r\n        }\r\n    }\r\n  } \r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}