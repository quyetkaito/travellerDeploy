{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"navbar-container\"\n};\nconst _hoisted_2 = {\n  class: \"main-content-container\"\n};\nconst _hoisted_3 = {\n  class: \"flex\"\n};\nconst _hoisted_4 = {\n  class: \"filter-container w-1/4\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-book-open my-post\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", null, \"Bài viết của bạn\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = [_hoisted_5, _hoisted_6];\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fab fa-hotjar hot-place\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", null, \"Các địa điểm đang hot\", -1\n/* HOISTED */\n);\n\nconst _hoisted_10 = [_hoisted_8, _hoisted_9];\n\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"filter-item\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-map-marker-alt location\"\n}), /*#__PURE__*/_createElementVNode(\"div\", null, \"Lọc theo khu vực\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_12 = {\n  class: \"post-container\"\n};\nconst _hoisted_13 = {\n  class: \"w-1/4 more-content\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"title\"\n}, \"Kinh nghiệm du lịch\", -1\n/* HOISTED */\n);\n\nconst _hoisted_15 = {\n  class: \"new-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_nav_bar = _resolveComponent(\"nav-bar\");\n\n  const _component_router_view = _resolveComponent(\"router-view\");\n\n  const _component_post_item = _resolveComponent(\"post-item\");\n\n  const _component_post_image_viewer = _resolveComponent(\"post-image-viewer\");\n\n  return _openBlock(), _createElementBlock(\"div\", {\n    id: \"landingPage\",\n    ref: \"landingPage\",\n    class: \"landing-page\",\n    onScroll: _cache[5] || (_cache[5] = (...args) => $options.lazyLoading && $options.lazyLoading(...args))\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_nav_bar)]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", {\n    class: \"filter-item\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.gotoMyPost && $options.gotoMyPost(...args))\n  }, _hoisted_7), _createElementVNode(\"div\", {\n    class: \"filter-item\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.getHotPlace && $options.getHotPlace(...args))\n  }, _hoisted_10), _hoisted_11, _createElementVNode(\"div\", {\n    class: \"filter-item\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.test && $options.test(...args))\n  }, \"Lọc theo tỉnh huyện\"), _createElementVNode(\"div\", {\n    class: \"filter-item\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.test && $options.test(...args))\n  }, \"Lịch sử tìm kiếm\"), _ctx.$session.get('UserRole') == _ctx.$enum.UserRole.Admin ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"filter-item\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.gotoAdmin && $options.gotoAdmin(...args))\n  }, \"Cài đặt\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_12, [(_openBlock(), _createBlock(_component_router_view, {\n    key: _ctx.$route\n  })), _createCommentVNode(\" <post-list/> \")]), _createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _createElementVNode(\"div\", _hoisted_15, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.listNews, (item, index) => {\n    return _openBlock(), _createBlock(_component_post_item, {\n      key: index,\n      post: item\n    }, null, 8\n    /* PROPS */\n    , [\"post\"]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])])]), _createVNode(_component_post_image_viewer, {\n    ref: \"postImageViewer\"\n  }, null, 512\n  /* NEED_PATCH */\n  )], 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_9","_createElementBlock","id","ref","onScroll","$options","_createVNode","_component_nav_bar","onClick","_hoisted_11","_ctx","get","UserRole","Admin","_createBlock","_component_router_view","key","_createCommentVNode","_hoisted_14","_Fragment","_renderList","$data","item","index","_component_post_item","post","_component_post_image_viewer"],"sourceRoot":"","sources":["D:\\Traveller\\Traveller-Frontend\\traveller-ui\\src\\views\\landing-page\\LandingPage.vue"],"sourcesContent":["<template>\r\n<div id=\"landingPage\" ref=\"landingPage\" class=\"landing-page\" @scroll=\"lazyLoading\">\r\n  <div class=\"navbar-container\">\r\n    <nav-bar />\r\n  </div>\r\n  <div class=\"main-content-container\">\r\n    <div class=\"flex\">\r\n      <div class=\"filter-container w-1/4\">          \r\n          <div class=\"filter-item\" @click=\"gotoMyPost\">\r\n            <i class=\"fas fa-book-open my-post\"></i>\r\n            <div>Bài viết của bạn</div>\r\n          </div>\r\n          <div class=\"filter-item\" @click=\"getHotPlace\">\r\n            <i class=\"fab fa-hotjar hot-place\"></i>\r\n            <div>Các địa điểm đang hot</div>\r\n          </div>\r\n          <div class=\"filter-item\">\r\n            <i class=\"fas fa-map-marker-alt location\"></i>\r\n            <div>Lọc theo khu vực</div>\r\n          </div>\r\n          <div class=\"filter-item\" @click=\"test\">Lọc theo tỉnh huyện</div>\r\n          <div class=\"filter-item\" @click=\"test\">Lịch sử tìm kiếm</div>\r\n          <div class=\"filter-item\" @click=\"gotoAdmin\" v-if=\"$session.get('UserRole') == $enum.UserRole.Admin\">Cài đặt</div>\r\n      </div>\r\n      <div class=\"post-container\">\r\n        <router-view :key=\"$route\"/>\r\n        <!-- <post-list/> -->\r\n      </div> \r\n      <div class=\"w-1/4 more-content\">\r\n        <div class=\"title\">Kinh nghiệm du lịch</div>\r\n        <div class=\"new-container\">\r\n          <post-item v-for=\"(item,index) in listNews\" :key=\"index\" :post=\"item\"/>\r\n        </div>\r\n      </div>     \r\n    </div>    \r\n  </div>\r\n  <post-image-viewer ref=\"postImageViewer\"/>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport vClickOutside from \"click-outside-vue3\";\r\nimport Navbar from \"@/layout/TheNavbar.vue\";\r\nimport PostItem from \"@/views/post/PostItem.vue\";\r\nimport PostList from \"@/views/post/PostList.vue\";\r\nimport PostImageViewer from \"@/views/post/PostImageViewer.vue\";\r\nimport PostAPI from \"@/api/PostAPI\"\r\nexport default {\r\n  name: \"LandingPage\",\r\n  components: {\r\n    /* eslint-disable */\r\n    \"post-item\": PostItem,\r\n    \"nav-bar\": Navbar,\r\n    \"post-list\": PostList,\r\n    \"post-image-viewer\": PostImageViewer,\r\n  },\r\n  //click ra ngoài để đóng combobox options.\r\n  directives: {\r\n    clickOutside: vClickOutside.directive,\r\n  },  \r\n  data() {\r\n    return {\r\n      listNews: [],\r\n    }\r\n  },\r\n  mounted(){\r\n    this.$eventBus.on('gotoTop', e=> {\r\n        this.scrollTop(e);\r\n    });  \r\n    this.getNews();  \r\n  },\r\n  methods: {\r\n    test(){\r\n      this.$router.push(\"search-history\");\r\n    },\r\n\r\n    /**\r\n     * hàm lấy danh sách địa điểm đang hot\r\n     */\r\n    getHotPlace(){\r\n       this.$router.push({name: 'postFilterList', params: {title: 'Các địa điểm đang hot', filterKey: 'hotPlace'}});\r\n    },\r\n\r\n    /**\r\n    * Lấy thông tin tin tức gắn vào phần nội dung bên phải\r\n    * @created : quyetkaito 07/11/2022\r\n    */\r\n    async getNews(){\r\n      try {\r\n          let res = await PostAPI.request(PostAPI.urlName+\"/experience_post\", 'GET');\r\n          if(res && res.data){\r\n              this.listNews = res.data;\r\n          }\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n      \r\n    },\r\n\r\n    gotoMyPost(){\r\n        // this.$eventBus.emit('myPost', this.textSearch);\r\n    },\r\n\r\n    back() {\r\n      this.$router.push(\"/post\");\r\n    },\r\n\r\n    gotoAdmin(){\r\n      this.$router.push(\"/dashboard\");\r\n    },\r\n\r\n    /**\r\n    * Thực hiện get tiếp dữ liệu nếu tới cuối trang\r\n    * @created : quyetkaito 16/10/2022\r\n    */\r\n    async lazyLoading(){            \r\n      if(this.$route && this.$route.name == 'postList'){ //chỉ lazy cho trang bài viết\r\n        var myDiv = document.getElementById(\"landingPage\");\r\n        var total = myDiv.clientHeight + Math.floor(myDiv.scrollTop);\r\n        if (total == myDiv.scrollHeight || total == myDiv.scrollHeight - 1) {\r\n          // console.log(\"đang ở bottom\");\r\n          await this.$eventBus.emit('nextPage', this.textSearch);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Xử lý scroll lên top\r\n     */\r\n    scrollTop(){\r\n      document.getElementById(\"landingPage\").scrollTo(0,0);\r\n    }\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.landing-page{\r\n   /* max-height: 720px;\r\n   height: 720px; */\r\n   height: 100vh;\r\n  overflow: auto;\r\n  background: #F5F5F5;\r\n  .navbar-container{\r\n    @apply shadow-md;  \r\n  }\r\n  .main-content-container{\r\n    /* padding-right: 100px;*/\r\n    box-sizing: border-box;\r\n    background: #F5F5F5;\r\n    padding-top: 56px;\r\n\r\n    .filter-container{\r\n      position: fixed; \r\n      box-sizing: border-box;\r\n\r\n      .filter-item{\r\n        display: flex;\r\n        padding: 10px;\r\n        cursor: pointer;\r\n        width: 100%;\r\n        height: 48px;\r\n        align-items: center;\r\n        border-radius: 8px;\r\n\r\n        i{\r\n          margin-right: 10px;\r\n          font-size: 30px;\r\n        }\r\n\r\n        .hot-place{\r\n          color: #FE6501;\r\n        }\r\n\r\n        .my-post{\r\n          color: var(--info-color);\r\n        }\r\n\r\n        .location{\r\n          color: var(--default-color);\r\n        }\r\n      }\r\n      .filter-item:hover{\r\n        background: #E4E6E9;\r\n      }       \r\n    }\r\n\r\n    .post-container {\r\n      width: 100%;\r\n      padding-left: 25%;\r\n      padding-right: 30%;\r\n    }\r\n    .more-content{\r\n       position: fixed;\r\n       right: 10px;       \r\n\r\n       .title{\r\n          margin-top: 5px;\r\n          font-weight: 600;\r\n          font-size: 20px;\r\n       }\r\n\r\n       .new-container{\r\n         overflow: auto; \r\n          height: calc(100vh - 100px);   \r\n          padding-right: 5px; \r\n          box-sizing: border-box;             \r\n       }   \r\n       .new-container:hover::-webkit-scrollbar-thumb{\r\n         visibility: visible;\r\n       }\r\n       .new-container::-webkit-scrollbar {\r\n          width: 5px;\r\n          height: 5px;\r\n          background-color: #e5e5e5;\r\n        }\r\n        .new-container::-webkit-scrollbar-thumb {\r\n          background-color: #b8bcc3;\r\n          border-radius: 5px;\r\n          height: 4px;\r\n          visibility: hidden;\r\n        }\r\n\r\n        .new-container::-webkit-scrollbar-thumb:hover {\r\n          background-color: #888888;          \r\n        }\r\n    }\r\n  } \r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}