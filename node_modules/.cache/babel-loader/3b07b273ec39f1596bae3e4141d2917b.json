{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, createStaticVNode as _createStaticVNode } from \"vue\";\nimport _imports_0 from '@/assets/logo-law.png';\nconst _hoisted_1 = {\n  class: \"loginpage\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"login-top-content flex justify-center h-1/4\\\"><div class=\\\"flex-col\\\"><div class=\\\"flex justify-center mb-1\\\"><img src=\\\"\" + _imports_0 + \"\\\" alt=\\\"logo\\\" width=\\\"100\\\" height=\\\"100\\\"></div><!-- tên app --><div class=\\\"appname font-medium text-2xl justify-center flex text-white\\\"> Traveller </div></div></div>\", 1);\n\nconst _hoisted_3 = {\n  class: \"login-bottom-content flex justify-center\"\n};\nconst _hoisted_4 = {\n  class: \"warp-form m-card flex flex-col\"\n};\nconst _hoisted_5 = {\n  class: \"form-title-text\"\n};\nconst _hoisted_6 = {\n  class: \"wrap-form-body\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"social\"\n};\nconst _hoisted_8 = {\n  class: \"social-description\"\n};\nconst _hoisted_9 = {\n  class: \"social-items flex flex-col\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_createStaticVNode(\"<button class=\\\"btn social-item google h-11\\\"><span class=\\\"btn-content\\\"><img src=\\\"\" + _imports_0 + \"\\\" alt=\\\"google-icon\\\" width=\\\"20\\\" height=\\\"30\\\"><span class=\\\"social-item-name\\\">Connect with Google</span></span></button><button class=\\\"btn social-item h-11 facebook\\\"><span class=\\\"social-item-name\\\"> Connect with Facebook </span></button><button class=\\\"btn social-item h-11 apple\\\"><span class=\\\"social-item-name\\\">Sign in with Apple</span></button>\", 3);\n\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"social-item-name\"\n}, \"Quay lại trang chủ\", -1\n/* HOISTED */\n);\n\nconst _hoisted_14 = [_hoisted_13];\nconst _hoisted_15 = {\n  key: 1,\n  class: \"network\"\n};\nconst _hoisted_16 = {\n  class: \"using-ml-account-text\"\n};\nconst _hoisted_17 = {\n  class: \"form-auth\"\n};\nconst _hoisted_18 = {\n  class: \"forgot-password\"\n};\nconst _hoisted_19 = {\n  class: \"forgot-password-text\"\n};\nconst _hoisted_20 = {\n  class: \"btn-content\"\n};\nconst _hoisted_21 = {\n  class: \"suggestion\"\n};\nconst _hoisted_22 = {\n  key: 2,\n  class: \"network\"\n};\nconst _hoisted_23 = {\n  class: \"form-auth\"\n};\nconst _hoisted_24 = {\n  class: \"btn-content\"\n};\nconst _hoisted_25 = {\n  class: \"suggestion\"\n};\nconst _hoisted_26 = {\n  key: 3,\n  class: \"network\"\n};\nconst _hoisted_27 = {\n  class: \"using-ml-account-text\"\n};\n\nconst _hoisted_28 = /*#__PURE__*/_createTextVNode(\" Mã kích hoạt đã được gửi tới email \");\n\nconst _hoisted_29 = {\n  class: \"form-auth\"\n};\nconst _hoisted_30 = {\n  class: \"btn-content\"\n};\nconst _hoisted_31 = {\n  class: \"suggestion\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_m_input = _resolveComponent(\"m-input\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" logo \"), _hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Form đăng nhập \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, _toDisplayString($data.formTitle) + \" \" + _toDisplayString($data.minuteString) + \":\" + _toDisplayString($data.secondString), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_6, [$data.showSocial ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, _toDisplayString(_ctx.$t('login.use_social_account')), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createElementVNode(\"button\", {\n    class: \"btn social-item h-11 apple\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.backToHome && $options.backToHome(...args))\n  }, _hoisted_14)])])) : _createCommentVNode(\"v-if\", true), $data.formType == 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, _toDisplayString(_ctx.$t('login.use_traveller_account')), 1\n  /* TEXT */\n  ), _createElementVNode(\"form\", _hoisted_17, [_createVNode(_component_m_input, {\n    ref: \"email\",\n    showLabel: false,\n    placeholder: \"Email\",\n    modelValue: $data.currentItem.email,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.currentItem.email = $event),\n    class: \"mb-3 caret-red\",\n    height: 44\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"]), _createVNode(_component_m_input, {\n    ref: \"password\",\n    showLabel: false,\n    placeholder: \"Password\",\n    modelValue: $data.currentItem.password,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.currentItem.password = $event),\n    type: \"password\",\n    class: \"mb-2 caret-red\",\n    height: 44\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"span\", _hoisted_19, _toDisplayString(_ctx.$t(\"ForgotPassword\")), 1\n  /* TEXT */\n  )]), _createElementVNode(\"button\", {\n    class: \"btn-submit-ml btn\",\n    type: \"button\",\n    onClick: _cache[3] || (_cache[3] = $event => $options.buttonClick('Login'))\n  }, [_createElementVNode(\"span\", _hoisted_20, _toDisplayString(_ctx.$t(\"Login\")), 1\n  /* TEXT */\n  )])]), _createElementVNode(\"div\", _hoisted_21, [_createTextVNode(_toDisplayString(_ctx.$t(\"NoAccount\")) + \" \", 1\n  /* TEXT */\n  ), _createElementVNode(\"span\", {\n    class: \"suggestion-action\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.gotoRegister && $options.gotoRegister(...args))\n  }, _toDisplayString(_ctx.$t(\"Register\")), 1\n  /* TEXT */\n  )])])) : _createCommentVNode(\"v-if\", true), $data.formType == 2 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [_createCommentVNode(\" <div class=\\\"using-ml-account-text\\\">Nhập thông tin đăng ký</div> \"), _createElementVNode(\"form\", _hoisted_23, [_createVNode(_component_m_input, {\n    ref: \"email\",\n    labelText: \"Nhập email\",\n    placeholder: \"Email\",\n    modelValue: $data.currentItem.email,\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.currentItem.email = $event),\n    class: \"mb-3 caret-red\",\n    height: 44\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"]), _createVNode(_component_m_input, {\n    ref: \"password\",\n    labelText: \"Nhập mật khẩu\",\n    placeholder: \"Password\",\n    type: \"password\",\n    modelValue: $data.currentItem.password,\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.currentItem.password = $event),\n    class: \"mb-2 caret-red\",\n    height: 44\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"]), _createElementVNode(\"button\", {\n    class: \"btn-submit-ml btn mt-2 h-10\",\n    type: \"button\",\n    onClick: _cache[7] || (_cache[7] = $event => $options.buttonClick('Register'))\n  }, [_createElementVNode(\"span\", _hoisted_24, _toDisplayString(_ctx.$t(\"Register\")), 1\n  /* TEXT */\n  )])]), _createElementVNode(\"div\", _hoisted_25, [_createTextVNode(_toDisplayString(_ctx.$t(\"AlreadyHasAccount\")) + \" \", 1\n  /* TEXT */\n  ), _createElementVNode(\"span\", {\n    class: \"suggestion-action\",\n    onClick: _cache[8] || (_cache[8] = (...args) => $options.gotoLogin && $options.gotoLogin(...args))\n  }, _toDisplayString(_ctx.$t(\"Login\")), 1\n  /* TEXT */\n  )])])) : _createCommentVNode(\"v-if\", true), $data.formType == 3 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_hoisted_28, _createElementVNode(\"b\", null, _toDisplayString($data.currentItem.email), 1\n  /* TEXT */\n  ), _createTextVNode(\". Vui lòng kiểm tra và nhập mã kích hoạt. Mã có hiệu lực trong : \" + _toDisplayString($data.minuteString) + \":\" + _toDisplayString($data.secondString), 1\n  /* TEXT */\n  )]), _createElementVNode(\"form\", _hoisted_29, [_createVNode(_component_m_input, {\n    ref: \"otp\",\n    labelText: \"Nhập mã kích hoạt\",\n    placeholder: \"OTP\",\n    modelValue: $data.currentItem.otp_code,\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.currentItem.otp_code = $event),\n    class: \"mb-3 caret-red\",\n    height: 44\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"]), _createElementVNode(\"button\", {\n    class: \"btn-submit-ml btn mt-2 h-10\",\n    type: \"button\",\n    onClick: _cache[10] || (_cache[10] = $event => $options.buttonClick('Active'))\n  }, [_createElementVNode(\"span\", _hoisted_30, _toDisplayString(_ctx.$t(\"Active\")), 1\n  /* TEXT */\n  )])]), _createElementVNode(\"div\", _hoisted_31, [_createTextVNode(_toDisplayString(_ctx.$t(\"NoOTPReceipt\")) + \" \", 1\n  /* TEXT */\n  ), _createElementVNode(\"span\", {\n    class: \"suggestion-action\",\n    onClick: _cache[11] || (_cache[11] = $event => $options.buttonClick('ResendOTP'))\n  }, _toDisplayString(_ctx.$t(\"ResendOTP\")), 1\n  /* TEXT */\n  )])])) : _createCommentVNode(\"v-if\", true)])])])]);\n}","map":{"version":3,"mappings":"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","names":["_imports_0","class","_createElementVNode","_hoisted_13","_createElementBlock","_createCommentVNode","_hoisted_2","_toDisplayString","$data","_ctx","_hoisted_10","onClick","$options","_createVNode","_component_m_input","ref","showLabel","placeholder","email","$event","height","password","type","labelText","otp_code"],"sourceRoot":"","sources":["D:\\Traveller\\Traveller-Frontend\\traveller-ui\\src\\views\\login\\LoginPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"loginpage\">\r\n    <!-- logo -->\r\n    <div class=\"login-top-content flex justify-center h-1/4\">\r\n      <div class=\"flex-col\">\r\n        <div class=\"flex justify-center mb-1\">\r\n          <img\r\n            src=\"@/assets/logo-law.png\"\r\n            alt=\"logo\"\r\n            width=\"100\"\r\n            height=\"100\"\r\n          />\r\n        </div>\r\n        <!-- tên app -->\r\n        <div\r\n          class=\"appname font-medium text-2xl justify-center flex text-white\"\r\n        >\r\n          Traveller\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"login-bottom-content flex justify-center\">\r\n      <!-- Form đăng nhập -->\r\n      <div class=\"warp-form m-card flex flex-col\">\r\n        <div class=\"form-title-text\">{{ formTitle }} {{ minuteString }}:{{ secondString }}</div>\r\n        <div class=\"wrap-form-body\">\r\n          <div class=\"social\" v-if=\"showSocial\">\r\n            <div class=\"social-description\">\r\n              {{$t('login.use_social_account')}}\r\n            </div>\r\n            <div class=\"social-items flex flex-col\">\r\n              <button class=\"btn social-item google h-11\">\r\n                <span class=\"btn-content\">\r\n                  <img\r\n                    src=\"@/assets/logo-law.png\"\r\n                    alt=\"google-icon\"\r\n                    width=\"20\"\r\n                    height=\"30\"\r\n                  />\r\n                  <span class=\"social-item-name\">Connect with Google</span>\r\n                </span>\r\n              </button>\r\n              <button class=\"btn social-item h-11 facebook\">\r\n                <span class=\"social-item-name\"> Connect with Facebook </span>\r\n              </button>\r\n              <button class=\"btn social-item h-11 apple\">\r\n                <span class=\"social-item-name\">Sign in with Apple</span>\r\n              </button>\r\n              <button class=\"btn social-item h-11 apple\" @click=\"backToHome\">\r\n                <span class=\"social-item-name\">Quay lại trang chủ</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"network\" v-if=\"formType == 1\">\r\n            <div class=\"using-ml-account-text\">{{$t('login.use_traveller_account')}}</div>\r\n            <form class=\"form-auth\">\r\n              <m-input\r\n                ref=\"email\"\r\n                :showLabel=\"false\"\r\n                placeholder=\"Email\"\r\n                v-model=\"currentItem.email\"\r\n                class=\"mb-3 caret-red\"\r\n                :height=\"44\"\r\n              ></m-input>\r\n\r\n              <m-input\r\n                ref=\"password\"\r\n                :showLabel=\"false\"\r\n                placeholder=\"Password\"\r\n                v-model=\"currentItem.password\"\r\n                type=\"password\"\r\n                class=\"mb-2 caret-red\"\r\n                :height=\"44\"\r\n              ></m-input>\r\n\r\n              <div class=\"forgot-password\">\r\n                <span class=\"forgot-password-text\">{{\r\n                  $t(\"ForgotPassword\")\r\n                }}</span>\r\n              </div>\r\n              <button\r\n                class=\"btn-submit-ml btn\"\r\n                type=\"button\"\r\n                @click=\"buttonClick('Login')\"\r\n              >\r\n                <span class=\"btn-content\">{{ $t(\"Login\") }}</span>\r\n              </button>\r\n            </form>\r\n            <div class=\"suggestion\">\r\n              {{ $t(\"NoAccount\") }}\r\n              <span class=\"suggestion-action\" @click=\"gotoRegister\">{{\r\n                $t(\"Register\")\r\n              }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"network\" v-if=\"formType == 2\">\r\n            <!-- <div class=\"using-ml-account-text\">Nhập thông tin đăng ký</div> -->\r\n            <form class=\"form-auth\">\r\n              <m-input\r\n                ref=\"email\"\r\n                labelText=\"Nhập email\"\r\n                placeholder=\"Email\"\r\n                v-model=\"currentItem.email\"\r\n                class=\"mb-3 caret-red\"\r\n                :height=\"44\"\r\n              ></m-input>\r\n\r\n              <m-input\r\n                ref=\"password\"\r\n                labelText=\"Nhập mật khẩu\"\r\n                placeholder=\"Password\"\r\n                type=\"password\"\r\n                v-model=\"currentItem.password\"\r\n                class=\"mb-2 caret-red\"\r\n                :height=\"44\"\r\n              ></m-input>\r\n\r\n              <button\r\n                class=\"btn-submit-ml btn mt-2 h-10\"\r\n                type=\"button\"\r\n                @click=\"buttonClick('Register')\"\r\n              >\r\n                <span class=\"btn-content\">{{ $t(\"Register\") }}</span>\r\n              </button>\r\n            </form>\r\n            <div class=\"suggestion\">\r\n              {{ $t(\"AlreadyHasAccount\") }}\r\n              <span class=\"suggestion-action\" @click=\"gotoLogin\">{{\r\n                $t(\"Login\")\r\n              }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"network\" v-if=\"formType == 3\">\r\n            <div class=\"using-ml-account-text\">\r\n              Mã kích hoạt đã được gửi tới email <b>{{ currentItem.email }}</b>. Vui\r\n              lòng kiểm tra và nhập mã kích hoạt. Mã có hiệu lực trong :\r\n              {{ minuteString }}:{{ secondString }}\r\n            </div>\r\n            <form class=\"form-auth\">\r\n              <m-input\r\n                ref=\"otp\"\r\n                labelText=\"Nhập mã kích hoạt\"\r\n                placeholder=\"OTP\"\r\n                v-model=\"currentItem.otp_code\"\r\n                class=\"mb-3 caret-red\"\r\n                :height=\"44\"\r\n              ></m-input>\r\n\r\n              <button\r\n                class=\"btn-submit-ml btn mt-2 h-10\"\r\n                type=\"button\"\r\n                @click=\"buttonClick('Active')\"\r\n              >\r\n                <span class=\"btn-content\">{{ $t(\"Active\") }}</span>\r\n              </button>\r\n            </form>\r\n            <div class=\"suggestion\">\r\n              {{ $t(\"NoOTPReceipt\") }}\r\n              <span class=\"suggestion-action\" @click=\"buttonClick('ResendOTP')\">{{\r\n                $t(\"ResendOTP\")\r\n              }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AuthAPI from \"@/api/AuthAPI\";\r\nexport default {\r\n  name: \"LoginPage\",\r\n  data() {\r\n    return {\r\n      currentItem: {}, //đối tuont57 để\r\n      formType: 1, //mặc định là đăng ký,\r\n      formTitle: this.$t(\"Login\"),\r\n      showSocial: false, //có show cục tài khoản mạng xã hội hay không?\r\n      minute: 14,\r\n      second: 59,\r\n      minuteString: \"\",\r\n      secondString: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    let me = this;\r\n    me.countDown();\r\n    if (me.checkAlreadyLogin()) {\r\n      me.$router.push({ name: \"post\" });\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * Hàm yêu cầu gửi lại mã xác nhận\r\n     */\r\n    async resendOTP(){\r\n        let me = this;\r\n        me.$commonFunc.load();\r\n        let object = {\r\n          email: me.currentItem.email,\r\n          password: me.currentItem.password\r\n        }\r\n        try {\r\n          let res = await AuthAPI.request(\r\n            AuthAPI.urlName + \"/resend_otp\",\r\n            \"POST\",\r\n            object\r\n          );\r\n          if(res && res.data){\r\n              if(res.data.StatusCode == 200){\r\n                me.$store.commit(\"showInfo\",{ message : \"Mã xác nhận đã gửi lại thành công. Vui lòng kiểm tra email của bạn.\"}); \r\n                me.countDown(); //countdown lại\r\n              }else if(res.data.DevMsg){\r\n                me.$store.commit(\"showInfo\", {message : res.data.DevMsg});\r\n              }\r\n          }\r\n        } catch (error) {\r\n          console.error(error);\r\n          me.$commonFunc.unload();   \r\n        }\r\n        \r\n        \r\n        me.$commonFunc.unload();\r\n    },\r\n\r\n    /**\r\n    * Hàm tạo đồng hồ đếm ngược thời gian hết hạn của mã xác nhận.\r\n    * @created : quyetkaito 09/10/2022\r\n    */\r\n    countDown(time) {\r\n      this.minute = time? time: 14; //mặc định countdown 15 phút\r\n      this.second = 59;\r\n      this.minuteString = this.minute+\"\";\r\n      this.secondString = this.second+\"\";\r\n      setInterval(() => {        \r\n        this.second = this.second - 1;\r\n        if (this.second <= 0) {\r\n          this.minute -= 1;\r\n          this.second = 59;\r\n        }\r\n        if (this.minute <= 0) return; //hết thời gian\r\n        this.minuteString = this.minute.toString();\r\n        this.secondString = this.second.toString();\r\n        if(this.minuteString.length <2) this.minuteString = \"0\" + this.minute;\r\n        if(this.secondString.length <2) this.secondString = \"0\" + this.second;\r\n      }, 1000);\r\n    },\r\n\r\n    gotoLogin() {\r\n      this.formType = 1;\r\n      this.formTitle = this.$t(\"Login\");\r\n      //focus vào ô email\r\n      this.$nextTick(() => {\r\n        this.$refs.email.focus();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * chuyển sang màn hình đăng ký\r\n     * @created : quyetkaito 08/10/2022\r\n     */\r\n    gotoRegister() { \r\n      let me = this;     \r\n      this.formType = 2;\r\n      this.formTitle = this.$t(\"register.RegisterNewAccount\");\r\n      //focus vào ô email\r\n      this.$nextTick(() => {\r\n        this.$refs.email.focus();\r\n      });            \r\n    },\r\n\r\n    checkAlreadyLogin() {\r\n      let me = this;\r\n      if (me.$cache.get(\"AccessToken\") != null) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    /**\r\n     * Quay lại trang chủ, ko muốn đăng nhập đăng ký gì nữa\r\n     * @created : quyetkaito 02/10/2022\r\n     */\r\n    backToHome() {\r\n      this.$router.push({ name: \"LandingPage\" });\r\n    },\r\n    /**------------------------------------------\r\n    * Hàm xử lý khi button Login được Click\r\n    * Author: quyetkaito (22/05/2022)\r\n    --------------------------------------------*/\r\n    buttonClick(action) {\r\n      switch (action) {\r\n        case \"Login\":\r\n          this.login();\r\n          break;\r\n        case \"Register\":\r\n          this.register();\r\n          break;\r\n        case \"Active\":\r\n          this.activeAccount();\r\n          break;\r\n        case \"ResendOTP\":\r\n          this.resendOTP();\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Hàm thực hiện kích hoạt tài khoản người dùng.\r\n     * @created : quyetkaito 08/10/2022\r\n     */\r\n    async activeAccount() {\r\n      let me = this;\r\n      let object = {\r\n        email: me.currentItem.email,\r\n        password: me.currentItem.password,\r\n        active_code: me.currentItem.otp_code,\r\n      };\r\n      let res = await AuthAPI.request(\r\n        AuthAPI.urlName + \"/active_user\",\r\n        \"POST\",\r\n        object\r\n      );\r\n      if (res) {\r\n        if (res.data.StatusCode == 200) {\r\n          me.$store.commit(\"showSuccess\", {\r\n            message:\r\n              \"Tài khoản đã được kích hoạt thành công. Vui lòng đăng nhập lại.\",\r\n          });\r\n          me.formType = 1;\r\n          me.formTitle = me.$t(\"Login\");\r\n          me.$nextTick(() => {\r\n            me.$refs.email.focus();\r\n          });\r\n        }else{\r\n          me.$store.commit(\"showError\", {\r\n            message:\r\n              \"Mã xác nhận không chính xác. Vui lòng kiểm tra lại.\",\r\n          });\r\n          me.$refs.otp_code.focus();\r\n          me.$refs.otp_code.addRedBorder();\r\n        }\r\n      }\r\n    },\r\n\r\n    async login() {\r\n      let me = this;\r\n      //validate\r\n      if (me.validateComponent()) {\r\n        //gọi api login\r\n        let object = {\r\n          email: me.currentItem.email,\r\n          password: me.currentItem.password,\r\n        };\r\n        try {\r\n          let res = await AuthAPI.login(object);\r\n          if (res) {\r\n            if (res.token) {\r\n              //lấy token lưu vào accesstoken\r\n              me.$cache.remove(\"AccessToken\");\r\n              me.$cache.set(\"AccessToken\", res.token);\r\n              if (res.account) {\r\n                if (res.account.refresh_token) {\r\n                  me.$cache.remove(\"RefreshToken\");\r\n                  me.$cache.set(\"RefreshToken\", res.account.refresh_token);\r\n                }\r\n                me.$session.set(\"FullName\", res.account.full_name);\r\n              }\r\n              me.$router.push({ name: \"post\" });\r\n            } else {\r\n              me.$store.commit(\"showError\", {\r\n                message: \"Tài khoản hoặc mật khẩu không chính xác.\",\r\n              });\r\n              me.$nextTick(() => {\r\n                me.$refs.email.focus();\r\n              });\r\n            }\r\n          } else {\r\n            me.$store.commit(\"showError\", {\r\n              message: \"Tài khoản hoặc mật khẩu không chính xác.\",\r\n            });\r\n            me.$refs.email.focus();\r\n          }\r\n        } catch (error) {\r\n          console.error(error);\r\n          // me.handleException(error);\r\n        }\r\n\r\n        //lưu vào localstorage\r\n      }\r\n    },\r\n\r\n    validateComponent() {\r\n      let me = this;\r\n      if (me.currentItem) {\r\n        if (!me.currentItem.email) {\r\n          if (\r\n            me.$refs.email &&\r\n            typeof me.$refs.email.addRedBorder == \"function\"\r\n          ) {\r\n            me.$refs.email.addRedBorder();\r\n            me.$refs.email.focus();\r\n            me.$store.commit(\"showError\", {\r\n              message: \"Email/tài khoản không được bỏ trống\",\r\n            });\r\n            return false;\r\n          }\r\n        }\r\n        if (\r\n          me.currentItem.email &&\r\n          !me.$commonFunc.validateEmail(me.currentItem.email)\r\n        ) {\r\n          if (\r\n            me.$refs.email &&\r\n            typeof me.$refs.email.addRedBorder == \"function\"\r\n          ) {\r\n            me.$refs.email.addRedBorder();\r\n            me.$refs.email.focus();\r\n            me.$store.commit(\"showError\", { message: \"Email không hợp lệ\" });\r\n            return false;\r\n          }\r\n        }\r\n        if (!me.currentItem.password) {\r\n          if (\r\n            me.$refs.password &&\r\n            typeof me.$refs.password.addRedBorder == \"function\"\r\n          ) {\r\n            me.$refs.password.addRedBorder();\r\n            me.$refs.password.focus();\r\n            me.$store.commit(\"showError\", {\r\n              message: \"Mật khẩu không được bỏ trống\",\r\n            });\r\n            return false;\r\n          }\r\n        }        \r\n      }\r\n      return true;\r\n    },\r\n\r\n    /**\r\n    * Hàm xử lý cho người dùng đăng ký tài khoản\r\n    * @created : quyetkaito 09/10/2022\r\n    */\r\n    async register() {\r\n      let me = this;\r\n      //validate\r\n      if (me.validateComponent()) {\r\n        //gọi api login\r\n        let object = {\r\n          email: me.currentItem.email,\r\n          password: me.currentItem.password,\r\n        };\r\n        me.$commonFunc.load();\r\n        let res = await AuthAPI.request(\r\n          AuthAPI.urlName + \"/register\",\r\n          \"POST\",\r\n          object\r\n        );\r\n        if (res) {\r\n          if (res.data && res.data.StatusCode == 200) {\r\n            //chuyển sang màn hình nhập mã\r\n            me.formTitle = \"Kích hoạt tài khoản\";\r\n            me.formType = 3;\r\n            me.countDown();            \r\n          }else if(res.data.UserMsg){\r\n            me.$store.commit(\"showWarning\", {\r\n              message: res.data.UserMsg,\r\n            });\r\n          }\r\n        } else {\r\n          me.$store.commit(\"showError\", {\r\n            message: \"Tài khoản hoặc mật khẩu không chính xác.\",\r\n          });\r\n          me.$refs.email.focus();\r\n        }\r\n        me.$commonFunc.unload();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.appname {\r\n  font-weight: 500;\r\n  font-size: 40px;\r\n}\r\n.loginpage {\r\n  width: 100%;\r\n  height: 100vh;\r\n  background: linear-gradient(#00710f 314px, #ebebeb -100%);\r\n}\r\n.login-top-content {\r\n  padding-top: 20px;\r\n}\r\n.login-bottom-content {\r\n  /* background-color: #ebebeb; */\r\n  /* @apply h-3/4; */\r\n}\r\n.warp-form {\r\n  background-color: #fff;\r\n  border-radius: 20px;\r\n  width: 670px;\r\n  padding: 34px 40px 40px;\r\n}\r\n.wrap-form-body {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  align-content: flex-start;\r\n  margin-top: 34px;\r\n}\r\n.form-title-text {\r\n  @apply font-bold text-4xl text-center;\r\n}\r\n.social {\r\n  position: relative;\r\n  overflow: hidden;\r\n  max-width: 280px;\r\n  width: 100%;\r\n  margin-right: 14px;\r\n}\r\n.social-description {\r\n  color: #707070;\r\n  margin-bottom: 18px;\r\n}\r\n.network {\r\n  flex: 1 1 auto;\r\n}\r\n.wrap-form-body .social-item {\r\n  border-radius: 10px !important;\r\n  border: 2px solid !important;\r\n  width: 100% !important;\r\n  padding: 8px 16px !important;\r\n  letter-spacing: normal !important;\r\n  justify-content: center !important;\r\n  text-transform: unset !important;\r\n  background-color: #fff !important;\r\n  margin-bottom: 12px !important;\r\n}\r\n.google {\r\n  color: #fa5d5d !important;\r\n}\r\n.google:hover {\r\n  background-color: #fa5d5d !important;\r\n}\r\n\r\n.wrap-form-body .social-item-name {\r\n  line-height: 19px;\r\n  font-size: 16px;\r\n  margin-left: 14px !important;\r\n}\r\n.wrap-form-body .social-item:hover .social-item-name {\r\n  color: #fff !important;\r\n}\r\n.wrap-form-body .network .using-ml-account-text {\r\n  color: #707070;\r\n  margin-bottom: 18px !important;\r\n  margin-left: 16px !important;\r\n}\r\n.wrap-form-body .network .suggestion {\r\n  color: #000;\r\n  margin-right: 9px;\r\n  text-align: center;\r\n}\r\n.wrap-form-body .network .suggestion-action {\r\n  color: var(--default-color);\r\n  text-decoration: underline;\r\n  font-weight: 400;\r\n  cursor: pointer;\r\n}\r\n.form-auth {\r\n  border-left: 2px solid #e0e0e0;\r\n  padding-left: 14px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 16px;\r\n}\r\n.forgot-password {\r\n  text-align: right;\r\n  margin-bottom: 16px;\r\n}\r\n.forgot-password-text {\r\n  color: var(--default-color);\r\n}\r\n.forgot-password-text:hover {\r\n  color: var(--hover-color);\r\n  cursor: pointer;\r\n}\r\n.btn-submit-ml {\r\n  border-radius: 10px !important;\r\n  background-color: #00bc2a !important;\r\n  color: #fff !important;\r\n  font-size: 16px !important;\r\n  cursor: pointer;\r\n}\r\n.h-52 {\r\n  height: 52px !important;\r\n}\r\n.facebook {\r\n  color: #1877f2 !important;\r\n}\r\n.facebook:hover {\r\n  background-color: #1877f2 !important;\r\n}\r\n.apple {\r\n  color: #000;\r\n}\r\n.apple:hover {\r\n  background-color: #000 !important;\r\n}\r\n</style>\r\n\r\n"]},"metadata":{},"sourceType":"module"}