{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelCheckbox as _vModelCheckbox, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-01103947\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  ref: \"mTable\",\n  class: \"m-table\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"w-50\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"w-50 table-checkbox\"\n};\nconst _hoisted_5 = {\n  class: \"m-checkbox\"\n};\nconst _hoisted_6 = [\"title\"];\nconst _hoisted_7 = {\n  key: 2\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"justify-end\"\n}, \"chức năng\", -1));\n\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = {\n  key: 1\n};\nconst _hoisted_11 = [\"onDblclick\", \"onClick\"];\nconst _hoisted_12 = {\n  key: 0,\n  class: \"w-50\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"m-icon m-icon-24 m-drag-grid\"\n}, null, -1));\n\nconst _hoisted_14 = [_hoisted_13];\nconst _hoisted_15 = {\n  key: 1,\n  class: \"w-50 table-checkbox\"\n};\nconst _hoisted_16 = {\n  class: \"m-checkbox\"\n};\nconst _hoisted_17 = [\"value\"];\nconst _hoisted_18 = [\"src\", \"alt\", \"width\", \"height\"];\nconst _hoisted_19 = {\n  key: 2\n};\nconst _hoisted_20 = {\n  class: \"justify-end\"\n};\nconst _hoisted_21 = [\"title\", \"onClick\"];\nconst _hoisted_22 = [\"title\", \"onClick\"];\nconst _hoisted_23 = [\"title\", \"onClick\"];\n\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-trash-alt text-red-500\"\n}, null, -1));\n\nconst _hoisted_25 = [_hoisted_24];\nconst _hoisted_26 = {\n  key: 2,\n  class: \"empty\"\n};\n\nconst _hoisted_27 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, null, -1));\n\nconst _hoisted_28 = [_hoisted_27];\nconst _hoisted_29 = {\n  key: 3,\n  class: \"m-table-footer\"\n};\nconst _hoisted_30 = {\n  key: 0,\n  class: \"w-50\"\n};\nconst _hoisted_31 = {\n  key: 1,\n  class: \"w-50\"\n};\nconst _hoisted_32 = {\n  key: 0,\n  class: \"align-center\"\n};\nconst _hoisted_33 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"table\", _hoisted_1, [$props.isHasHeader ? (_openBlock(), _createElementBlock(\"thead\", _hoisted_2, [_createElementVNode(\"tr\", null, [$props.isDragable ? (_openBlock(), _createElementBlock(\"th\", _hoisted_3)) : _createCommentVNode(\"\", true), $props.multiSelect ? (_openBlock(), _createElementBlock(\"th\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $options.selectAll = $event),\n    ref: \"selectAll\"\n  }, null, 512), [[_vModelCheckbox, $options.selectAll]])])])) : _createCommentVNode(\"\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.columns, (header, index) => {\n    return _openBlock(), _createElementBlock(\"th\", {\n      key: index,\n      style: _normalizeStyle(`width:${header.width}px!important;min-width:${header.width}px!important;`)\n    }, [header.visible != false ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 0,\n      title: header.titleFull,\n      style: _normalizeStyle(`justify-content: ${header.titleAlign}`)\n    }, _toDisplayString(header.title), 13, _hoisted_6)) : _createCommentVNode(\"\", true)], 4);\n  }), 128)), $props.tableFunction.isShow ? (_openBlock(), _createElementBlock(\"th\", _hoisted_7, _hoisted_9)) : _createCommentVNode(\"\", true)])])) : _createCommentVNode(\"\", true), $props.listData.length !== 0 ? (_openBlock(), _createElementBlock(\"tbody\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.listData, (object, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index,\n      onDblclick: $event => $options.handleDoubleClick(object),\n      onClick: $event => $options.handleClick(object, index)\n    }, [$props.isDragable ? (_openBlock(), _createElementBlock(\"td\", _hoisted_12, _hoisted_14)) : _createCommentVNode(\"\", true), $props.multiSelect ? (_openBlock(), _createElementBlock(\"td\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.checkedRows = $event),\n      value: object,\n      onChange: _cache[2] || (_cache[2] = (...args) => _ctx.handleCheckboxChange && _ctx.handleCheckboxChange(...args))\n    }, null, 40, _hoisted_17), [[_vModelCheckbox, $data.checkedRows]])])])) : _createCommentVNode(\"\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.columns, (column, idx) => {\n      return _openBlock(), _createElementBlock(\"td\", {\n        key: idx,\n        style: _normalizeStyle(`width:${column.width}px!important;min-width:${column.width}px!important;max-width:300px!important;`)\n      }, [column.visible != false && column.dataType != 'image' ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        style: _normalizeStyle(`justify-content: ${column.titleAlign}`)\n      }, _toDisplayString($options.showData(object, column)), 5)) : _createCommentVNode(\"\", true), column.visible != false && column.dataType == 'image' ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 1,\n        style: _normalizeStyle(`justify-content: ${column.titleAlign}`)\n      }, [_createElementVNode(\"img\", {\n        src: $options.getImageSrc(object.src, object.format, object.type),\n        alt: object.imgAlt,\n        width: object.imgWidth ? object.imgWidth : 50,\n        height: object.imgHeight ? object.imgHeight : 50\n      }, null, 8, _hoisted_18)], 4)) : _createCommentVNode(\"\", true)], 4);\n    }), 128)), $props.tableFunction.isShow ? (_openBlock(), _createElementBlock(\"td\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [$props.tableFunction.viewButton ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 0,\n      title: _ctx.$t('View'),\n      class: \"m-icon m-icon-24 m-view view-function\",\n      onClick: $event => $options.buttonClick('View', object)\n    }, null, 8, _hoisted_21)) : _createCommentVNode(\"\", true), $props.tableFunction.editButton ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 1,\n      title: _ctx.$t('Edit'),\n      class: \"m-icon m-icon-24 m-edit view-function\",\n      onClick: $event => $options.buttonClick('Edit', object)\n    }, null, 8, _hoisted_22)) : _createCommentVNode(\"\", true), $props.tableFunction.deleteButton ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 2,\n      title: _ctx.$t('Delete'),\n      class: \"m-icon-16 view-function pointer\",\n      onClick: $event => $options.buttonClick('Delete', object)\n    }, _hoisted_25, 8, _hoisted_23)) : _createCommentVNode(\"\", true)])])) : _createCommentVNode(\"\", true)], 40, _hoisted_11);\n  }), 128))])) : _createCommentVNode(\"\", true), $props.isShowSkeleton && (!$props.listData || $props.listData.length == 0) ? (_openBlock(), _createElementBlock(\"tbody\", _hoisted_26, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.pageSize, i => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: i\n    }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.columnSkeleton, col => {\n      return _openBlock(), _createElementBlock(\"td\", {\n        key: col\n      }, _hoisted_28);\n    }), 128))]);\n  }), 128))])) : _createCommentVNode(\"\", true), $props.showFooter && $props.listData.length !== 0 ? (_openBlock(), _createElementBlock(\"tfoot\", _hoisted_29, [_createElementVNode(\"tr\", null, [$props.isDragable ? (_openBlock(), _createElementBlock(\"th\", _hoisted_30)) : _createCommentVNode(\"\", true), $props.multiSelect ? (_openBlock(), _createElementBlock(\"th\", _hoisted_31)) : _createCommentVNode(\"\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.columns, (column, index) => {\n    return _openBlock(), _createElementBlock(\"th\", {\n      key: index,\n      style: _normalizeStyle(`width:${column.width}px!important;min-width:${column.width}px!important;`)\n    }, [index == 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_32, \"Tổng\")) : _createCommentVNode(\"\", true), index != 0 ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 1,\n      class: _normalizeClass(column.align)\n    }, _toDisplayString(column.total_amount), 3)) : _createCommentVNode(\"\", true)], 4);\n  }), 128)), _ctx.isHasFunctionColumn ? (_openBlock(), _createElementBlock(\"th\", _hoisted_33)) : _createCommentVNode(\"\", true)])])) : _createCommentVNode(\"\", true)], 512);\n}","map":{"version":3,"mappings":"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","names":["ref","class","_createElementVNode","_hoisted_8","_hoisted_13","_hoisted_24","_hoisted_27","_createElementBlock","$props","_hoisted_2","type","$options","$event","_Fragment","_renderList","header","index","key","style","width","visible","title","titleFull","titleAlign","_hoisted_6","isShow","_hoisted_7","_hoisted_9","length","_hoisted_10","object","onDblclick","onClick","_hoisted_14","$data","value","onChange","_ctx","column","idx","dataType","src","format","alt","imgAlt","imgWidth","height","imgHeight","_hoisted_19","viewButton","editButton","deleteButton","i","col","_hoisted_28","align","total_amount","_hoisted_33"],"sourceRoot":"","sources":["D:\\Traveller\\Traveller-Frontend\\traveller-ui\\src\\components\\m-grid\\MGrid.vue"],"sourcesContent":["<template>\r\n  <table ref=\"mTable\" class=\"m-table\">\r\n    <!-- Table Header -->\r\n    <thead v-if=\"isHasHeader\">\r\n      <tr>\r\n        <th v-if=\"isDragable\" class=\"w-50\"></th>\r\n        <th v-if=\"multiSelect\" class=\"w-50 table-checkbox\">\r\n          <div class=\"m-checkbox\">\r\n            <input type=\"checkbox\" v-model=\"selectAll\" ref=\"selectAll\" />\r\n          </div>\r\n        </th>\r\n        <!-- Lấy tên các header để render ra -->\r\n        <th\r\n          v-for=\"(header, index) in columns\"\r\n          :key=\"index\"\r\n          :style=\"`width:${header.width}px!important;min-width:${header.width}px!important;`\"\r\n        >\r\n          <div\r\n            :title=\"header.titleFull\"\r\n            :style=\"`justify-content: ${header.titleAlign}`\"\r\n            v-if=\"header.visible != false\"\r\n          >\r\n            {{ header.title }}\r\n          </div>\r\n        </th>\r\n        <th v-if=\"tableFunction.isShow\">\r\n          <div class=\"justify-end\">chức năng</div>\r\n        </th>\r\n      </tr>\r\n    </thead>\r\n\r\n    <!-- Table Body -->\r\n    <tbody v-if=\"listData.length !== 0\">\r\n      <tr\r\n        v-for=\"(object, index) in listData\"\r\n        :key=\"index\"\r\n        @dblclick=\"handleDoubleClick(object)\"\r\n        @click=\"handleClick(object, index)\"\r\n      >\r\n        <td v-if=\"isDragable\" class=\"w-50\">\r\n          <div class=\"m-icon m-icon-24 m-drag-grid\"></div>\r\n        </td>\r\n        <td v-if=\"multiSelect\" class=\"w-50 table-checkbox\">\r\n          <div class=\"m-checkbox\">\r\n            <input\r\n              type=\"checkbox\"\r\n              v-model=\"checkedRows\"\r\n              :value=\"object\"\r\n              @change=\"handleCheckboxChange\"\r\n            />\r\n          </div>\r\n        </td>\r\n        <td\r\n          v-for=\"(column, idx) in columns\"\r\n          :key=\"idx\"\r\n          :style=\"`width:${column.width}px!important;min-width:${column.width}px!important;max-width:300px!important;`\"\r\n        >\r\n          <div\r\n            :style=\"`justify-content: ${column.titleAlign}`\"\r\n            v-if=\"column.visible != false && column.dataType != 'image'\"\r\n          >\r\n            <!-- {{ column.width }} -->\r\n            {{ showData(object, column) }}\r\n          </div>\r\n          <div\r\n            :style=\"`justify-content: ${column.titleAlign}`\"\r\n            v-if=\"column.visible != false && column.dataType == 'image'\"\r\n          >\r\n            <img\r\n              :src=\"getImageSrc(object.src, object.format, object.type)\"\r\n              :alt=\"object.imgAlt\"\r\n              :width=\"object.imgWidth ? object.imgWidth : 50\"\r\n              :height=\"object.imgHeight ? object.imgHeight : 50\"\r\n            />\r\n          </div>\r\n        </td>\r\n        <td v-if=\"tableFunction.isShow\">\r\n          <!-- table function -->\r\n          <!-- <div class=\"m-table-tool flex align-y-center justify-end\">\r\n            <div class=\"m-table-tool__text\" @click=\"mainButtonClick(object)\">\r\n              <button class=\"tool-btn\">{{ tableFunction.mainButtonText }}</button>\r\n            </div>\r\n            <div ref=\"dropdownArrow\" class=\"m-table-tool__icon\">\r\n              <div\r\n                class=\"line flex align-center\"\r\n                @click=\"showOptions($event, object, index)\"\r\n                @doubleClick=\"handleEdit(object)\"\r\n              >\r\n                <div class=\"m-icon m-icon-16 m-arrow-up--blue\"></div>\r\n              </div></div>\r\n          </div> -->\r\n          <!-- hết table function -->\r\n          <!-- chức năng chuyển sang dạng nút -->\r\n          <div class=\"justify-end\">\r\n            <div\r\n            v-if=\"tableFunction.viewButton\"\r\n              :title=\"$t('View')\"\r\n              class=\"m-icon m-icon-24 m-view view-function\"\r\n              @click=\"buttonClick('View', object)\"\r\n            ></div>\r\n            <div\r\n            v-if=\"tableFunction.editButton\"\r\n              :title=\"$t('Edit')\"\r\n              class=\"m-icon m-icon-24 m-edit view-function\"\r\n              @click=\"buttonClick('Edit', object)\"\r\n            ></div>\r\n            <div\r\n            v-if=\"tableFunction.deleteButton\"\r\n              :title=\"$t('Delete')\"\r\n              class=\"m-icon-16 view-function pointer\"\r\n              @click=\"buttonClick('Delete', object)\"\r\n            >\r\n              <i class=\"fas fa-trash-alt text-red-500\"></i>\r\n            </div>\r\n            <!-- <div class=\"m-icon m-icon-16 m-delete\"></div>s -->\r\n          </div>\r\n          <!-- hết chức năng  -->\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n    <!-- Table body skeleton -->\r\n    <tbody v-if=\"isShowSkeleton && (!listData || listData.length == 0)\" class=\"empty\">\r\n      <tr v-for=\"i in pageSize\" v-bind:key=\"i\">\r\n        <td v-for=\"col in columnSkeleton\" :key=\"col\"><div></div></td>\r\n      </tr>\r\n    </tbody>\r\n    <!-- Table Footer -->\r\n    <tfoot v-if=\"showFooter && listData.length !== 0\" class=\"m-table-footer\">\r\n      <tr>\r\n        <th v-if=\"isDragable\" class=\"w-50\"></th>\r\n        <th v-if=\"multiSelect\" class=\"w-50\"></th>\r\n        <th\r\n          v-for=\"(column, index) in columns\"\r\n          :key=\"index\"\r\n          :style=\"`width:${column.width}px!important;min-width:${column.width}px!important;`\"\r\n        >\r\n          <div v-if=\"index == 0\" class=\"align-center\">Tổng</div>\r\n          <div :class=\"column.align\" v-if=\"index != 0\">\r\n            {{ column.total_amount }}\r\n          </div>\r\n        </th>\r\n        <th v-if=\"isHasFunctionColumn\"></th>\r\n      </tr>\r\n    </tfoot>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\n// import vClickOutside from \"click-outside-vue3\";\r\nimport * as base from \"@/script/base\";\r\n\r\nexport default {\r\n  component: {},\r\n  emits: [\r\n    \"eUpdate\",\r\n    \"onDelete\",\r\n    \"eDoubleClick\",\r\n    \"eClick\",\r\n    \"eShowFunc\",\r\n    \"handleHideFunc\",\r\n    \"eMultiSelect\",\r\n    \"eMainButtonClick\", //button chính của function click\r\n    \"gridAction\"\r\n  ],\r\n  //config của thư viện v-click-outside\r\n  // directives: {\r\n  //   clickOutside: vClickOutside.directive,\r\n  // },\r\n\r\n  //danh sách các prop\r\n  props: {\r\n    //list data render ra bảng\r\n    listData: {\r\n      type: Object,\r\n      default: null,\r\n      required: true, //bắt buộc có\r\n    },\r\n    //list các column của bảng\r\n    columns: {\r\n      type: Array, //mảng các object cột\r\n      default: null,\r\n      required: true, //bắt buộc\r\n    },\r\n    //số bản ghi trên một trang\r\n    pageSize: {\r\n      type: [Number, String],\r\n      default: null,\r\n    },\r\n    //loading skeleton có show hay không?\r\n    isShowSkeleton: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    //cấu hình cột chức năng\r\n    tableFunction: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          mainButtonText: \"Edit\",\r\n          mainFunction: \"Edit\",\r\n          isShow: true,\r\n          viewButton: true,\r\n          editButton: true,\r\n          deleteButton: true,\r\n        };\r\n      },\r\n    },\r\n    //có cột checkbox hay không?\r\n    multiSelect: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    //các hàng có thể kéo thả để thay đổi vị trí không?\r\n    isDragable: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    //bảng này có hiện header không?\r\n    isHasHeader: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    //footer có show không?\r\n    showFooter: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    //icon loading có show không?\r\n    isShowLoading: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n\r\n  //danh sách các data\r\n  data() {\r\n    return {\r\n      isCheckAll: false, //nút check all có đang check hay không?\r\n      checkedRows: [], //số hàng đang được chọn => (mảng các object)\r\n    };\r\n  },\r\n  mounted() {},\r\n  watch: {\r\n    /**----------------------------------------------------------\r\n     * nếu checkedRows thay đổi thì cập nhật lại các hàng dc select\r\n     * Author: quyetkaito (14/03/2022)\r\n     ---------------------------------*/\r\n    checkedRows() {\r\n      this.changeSelected();\r\n    },\r\n\r\n    /**--------------------------------------\r\n     * Nếu đang hiện skeleton thì bỏ check tất cả.\r\n     * Author: quyetkaito (22/-3/2022)\r\n     ---------------------------------*/\r\n    isShowSkeleton() {\r\n      this.checkedRows = [];\r\n    },\r\n  },\r\n\r\n  //các hàm\r\n  methods: {\r\n    /**\r\n     * Hàm xử lý sự kiện click trong grid\r\n     * @created : quyetkaito 02/10/2022\r\n     * @param {String} action : hành động\r\n     * @param {Object} object : đối tượng đang thao tác\r\n     */\r\n    buttonClick(action, object) {\r\n      if (!action) return;\r\n      switch (action) {\r\n        case \"View\":\r\n          this.$emit(\"gridAction\", {object: object, action: 'View'});\r\n          break;\r\n        case \"Edit\":\r\n          this.$emit(\"gridAction\", {object: object, action: 'Edit'});\r\n          break;\r\n        case \"Delete\":\r\n          this.$emit(\"gridAction\", {object: object, action: 'Delete'});\r\n          break;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Trả về source của image bind động\r\n     * @param src : tên file/ link ảnh\r\n     * @param ext : đuôi file\r\n     * @param type : loại source\r\n     */\r\n    getImageSrc(src, format, type = \"local\") {\r\n      try {\r\n        src = src.toString(); //chuyển về string cho chắc\r\n        if (type == \"link\") {\r\n          //nếu type là link thì trả về link luôn\r\n          return src;\r\n        }\r\n        switch (format) {\r\n          case \"webp\":\r\n            return require(`@/assets/${src}.webp`); //phải viết sẵn như này mới ăn, viết kiểu + string thì chết\r\n          case \"png\":\r\n            return require(`@/assets/${src}.png`);\r\n\r\n          default:\r\n            return null;\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n        return null;\r\n      }\r\n    },\r\n\r\n    /**------------------------------------------\r\n    * Xử lý khi button chính trong cột chức năng được click\r\n    * @created : quyetkaito (26/06/2022)\r\n    * @param {Object} object - hàng chứa thông tin đối tượng được click\r\n    ---------------------------------------------*/\r\n    mainButtonClick(object) {\r\n      if (object) {\r\n        this.$emit(\"eMainButtonClick\", object);\r\n      }\r\n    },\r\n\r\n    /**------------------------------------------\r\n    * Xử lý khi double click vào hàng\r\n    * @param {Object} object : hàng chứa thông tin đối tượng\r\n    * @created : quyetkaito (26/06/2022)\r\n    --------------------------------------------*/\r\n    handleDoubleClick(object) {\r\n      if (object) {\r\n        this.$emit(\"eDoubleClick\", object);\r\n      }\r\n    },\r\n\r\n    /**---------------------------------------------\r\n     * Thực hiện bỏ dấu checkAll sau khi xóa nhiều.\r\n     * Author: quyetkaito (18/03/2022)\r\n     ---------------------------------*/\r\n    unCheckAll() {\r\n      if (this.$refs.selectAll.checked == true)\r\n        this.$refs.selectAll.checked = false;\r\n    },\r\n\r\n    /**-----------------------------------\r\n     * Hàm show data tương ứng với các cột của header.\r\n     * @param {String} object - object hàng hiện tại.\r\n     * @param {String} column - cấu hình của cột hiện tại\r\n     * Author: quyetkaito (16/03/2022)\r\n     ------------------------------------*/\r\n    showData(object, column) {\r\n      //chuyển column key sang snake_case (nếu cần)\r\n      if (column.key && object) {\r\n        let objTemp = JSON.parse(JSON.stringify(object));\r\n        let field = base.camelToUnderscore(column.key);\r\n        //nếu dữ liệu dạng số\r\n        if (column.dataType && column.dataType == \"number\") {\r\n          if (objTemp[field]) {\r\n            return base.formatCurrency(objTemp[field].toString());\r\n          }\r\n        }\r\n        //nếu dữ liệu là ngày tháng\r\n        if (column.dataType && column.dataType == \"date\") {\r\n          return !base\r\n            .formatDate(objTemp[field], this.$enum.DateFormat)\r\n            .includes(\"NaN\")\r\n            ? base.formatDate(objTemp[field], this.$enum.DateFormat)\r\n            : \"\";\r\n        }\r\n        //nếu không => trả về data với field tương ứng từ header(dạng text bình thường)\r\n        return objTemp[field] ? objTemp[field] : \"\";\r\n      }\r\n      return \"\";\r\n    },\r\n\r\n    /**----------------------------------------------\r\n     * Hàm emit tới cha danh sách các hàng được chọn.\r\n     * Author: quyetkaito (15/03/2022)\r\n    ------------------------------------*/\r\n    changeSelected() {\r\n      // console.log(this.checkedRows);\r\n      //emit tới cha danh sách đối tượng\r\n      this.$emit(\"eMultiSelect\", this.checkedRows);\r\n    },\r\n\r\n    /**-------------------------------------------------\r\n     * Hàm xử lý khi click vào nút [Sửa] trên bảng.\r\n     * @param {Object} obj - đối tượng thao tác\r\n     * @param {Number} formMode - trạng thái của form\r\n     * Author: quyetkaito (27/02/2022)\r\n     -----------------------------------------------*/\r\n    handleEdit(obj) {\r\n      //emit tới cha nhận sự kiện update\r\n      this.$emit(\"eUpdate\", { data: obj, formMode: 2 });\r\n      //emit tới cha đóng function\r\n      this.$emit(\"handleHideFunc\");\r\n    },\r\n\r\n    /**------------------------------------------\r\n    *Xử lý khi 1 hàng được click\r\n    *Author: quyetkaito (13/04/2022)\r\n    --------------------------------------------*/\r\n    handleClick(object, index) {\r\n      try {\r\n        //emit tới cha đối tượng được click\r\n        this.$emit(\"eClick\", { object, index });\r\n        //xóa background cho tất cả các hàng khác, giữ lại hàng đang được click\r\n        this.$refs.mTable.querySelectorAll(`tbody tr`).forEach((e) => {\r\n          e.classList.remove(\"selected\");\r\n        });\r\n        this.$refs.mTable\r\n          .querySelector(`tbody tr:nth-child(${index + 1})`)\r\n          .classList.add(\"selected\");\r\n      } catch (error) {\r\n        //log ra lỗi\r\n        console.error(error);\r\n      }\r\n    },\r\n\r\n    /**------------------------------------------------\r\n         * Hàm xử lý khi click vào nút [Xóa] trên bảng.\r\n         * @param {Object} obj - đối tượng cần xóa.\r\n         * Author: quyetkaito (27/02/2022)\r\n         ----------------------------------------------*/\r\n    handleDelete(obj) {\r\n      this.$emit(\"onDelete\", obj);\r\n    },\r\n\r\n    /**------------------------------------------------------\r\n     * Hàm thực hiện lấy vị trí click để hiện dropdown content.\r\n     * @param {Object} object - đối tượng ứng với hàng.\r\n     * @param {Event} event\r\n     * @param {Number} index - số thứ tự của hàng được chọn\r\n     * Author: quyetkaito (07/03/2022)\r\n     -----------------------------------------------------------*/\r\n    showOptions(event, object, index) {\r\n      // console.log(index);\r\n      // console.log(this.$refs.dropdownArrow[index]);\r\n      //lấy ra arrow tại hàng đó\r\n      let arrow = this.$refs.dropdownArrow[index];\r\n      //lấy ra vị trí của arrow\r\n      let arrowPosition = arrow.getBoundingClientRect();\r\n\r\n      //emit tới cha show dropdowncontent hiện tại\r\n      this.$emit(\"eShowFunc\", { object, arrowPosition });\r\n    },\r\n\r\n    /**------------------------------------------------\r\n     * Xử lý đóng table Function khi click ra ngoài bảng\r\n     * Author: quyetkaito (13/03/2022)\r\n    -------------------------------------*/\r\n    hideOptions() {\r\n      //emit tới cha ẩn dropdowncontent hiện tại\r\n      this.$emit(\"handleHideFunc\");\r\n    },\r\n\r\n    /**------------------------------------------\r\n    *CSS cho những hàng đang được chọn\r\n    *@param {Object} selectedRow - hàng đang chọn.\r\n    selectedRow, value\r\n    *Author: quyetkaito (15/04/2022)\r\n    --------------------------------------------*/\r\n    addSelectedRow(index) {\r\n      if (this.listData.length > 0) {\r\n        let allRow = this.$el.querySelectorAll(`tbody tr`);\r\n        let thisRow = this.$el.querySelector(\r\n          `tbody tr:nth-child(${index + 1})`\r\n        );\r\n        if (allRow) {\r\n          //xóa background cho tất cả các hàng khác, giữ lại hàng đang được click\r\n          allRow.forEach((e) => {\r\n            e.classList.remove(\"selected\");\r\n          });\r\n          if (thisRow) thisRow.classList.add(\"selected\");\r\n        }\r\n      }\r\n    },\r\n\r\n    /**------------------------------------------\r\n    *Hàm lấy thông tin 1 hàng của table.\r\n    *@param {Number} index số thứ tự hàng, bắt đầu từ 0\r\n    *Author: quyetkaito (01/05/2022)\r\n    --------------------------------------------*/\r\n    getRow(index) {\r\n      return this.listData[index];\r\n    },\r\n  },\r\n\r\n  /**------------------------------------------\r\n  *Tính toán data trong grid.\r\n  *Author: quyetkaito (09/04/2022)\r\n  --------------------------------------------*/\r\n  computed: {\r\n    /**-------------------------------------\r\n     * Thực hiện chọn tất cả/ bỏ chọn tất cả\r\n     * Author: quyetkaito (14/03/2022)\r\n     ---------------------------------*/\r\n    selectAll: {\r\n      get: function () {\r\n        //trả về true nếu listData = số hàng được check, false ngược lại\r\n        return this.listData\r\n          ? this.checkedRows.length == this.listData.length &&\r\n              this.listData.length != 0\r\n          : false;\r\n      },\r\n\r\n      //select All\r\n      set: function (value) {\r\n        var selected = [];\r\n        try {\r\n          if (value) {\r\n            console.log(value);\r\n            //tạo danh sách các đối tượng được chọn\r\n            this.listData.forEach(function (data) {\r\n              selected.push(data);\r\n            });\r\n          }\r\n          this.checkedRows = selected;\r\n        } catch (error) {\r\n          this.checkedRows = selected;\r\n          console.error(error);\r\n        }\r\n      },\r\n    },\r\n\r\n    /**------------------------------\r\n     * Tính toán số lượng các cột skeleton.\r\n     * Author: quyetkaito (27/03/2022)\r\n     --------------------------------*/\r\n    columnSkeleton() {\r\n      if (this.multiSelect) {\r\n        return this.columns.length + 2;\r\n      } else {\r\n        return this.columns.length + 1;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"/src/style/common/table.css\");\r\n.tool-btn {\r\n  white-space: nowrap;\r\n  font-weight: 600 !important;\r\n}\r\n.view-function {\r\n  margin-right: 5px;\r\n  cursor: pointer;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}