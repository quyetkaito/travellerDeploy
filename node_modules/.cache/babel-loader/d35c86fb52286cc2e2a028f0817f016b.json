{"ast":null,"code":"import PostFilterItem from \"@/views/post/PostFilterItem.vue\";\nimport PostAPI from '@/api/PostAPI';\nexport default {\n  components: {\n    \"post-filter-item\": PostFilterItem\n  },\n\n  created() {\n    if (this.$route && this.$route.params) {\n      this.pageTitle += `\"${this.$route.params.title}\"` || '';\n\n      if (this.$route.params.filterKey == 'hotPlace') {\n        this.loadHotPlace();\n      }\n    }\n  },\n\n  data() {\n    return {\n      listPosts: [{\n        post_content: 'xxx'\n      }, {\n        post_content: 'yyy'\n      }],\n      pageTitle: 'Kết quả cho: ',\n      listPostDetail: []\n    };\n  },\n\n  methods: {\n    /**\r\n     * Hàm thu gọn/ mở rộng nội dung của 1 group\r\n     */\n    collapseContent(index) {\n      if (this.listPostDetail) {\n        this.listPostDetail[index].visible = !this.listPostDetail[index].visible;\n      }\n    },\n\n    /**\r\n     * API lấy danh sách các địa điểm đang hot\r\n     */\n    async loadHotPlace() {\n      try {\n        let me = this;\n        let res = await PostAPI.request(PostAPI.urlName + '/hot_place', 'GET');\n\n        if (res && res.data) {\n          if (res.data.ListPostDetail) {\n            me.listPostDetail = res.data.ListPostDetail;\n            me.listPostDetail.forEach(x => {\n              x.visible = true;\n            });\n          }\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkBA,OAAOA,cAAP,MAA2B,iCAA3B;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,eAAe;EACXC,UAAU,EAAC;IACP,oBAAoBF;EADb,CADA;;EAIXG,OAAO,GAAE;IACL,IAAG,KAAKC,MAAL,IAAe,KAAKA,MAAL,CAAYC,MAA9B,EAAqC;MACjC,KAAKC,SAAL,IAAmB,IAAG,KAAKF,MAAL,CAAYC,MAAZ,CAAmBE,KAAM,GAA7B,IAAmC,EAArD;;MACA,IAAG,KAAKH,MAAL,CAAYC,MAAZ,CAAmBG,SAAnB,IAAgC,UAAnC,EAA8C;QAC1C,KAAKC,YAAL;MACJ;IACJ;EACH,CAXU;;EAYXC,IAAI,GAAG;IACH,OAAO;MACHC,SAAS,EAAE,CAAC;QAACC,YAAY,EAAE;MAAf,CAAD,EAAuB;QAACA,YAAY,EAAE;MAAf,CAAvB,CADR;MAEHN,SAAS,EAAE,eAFR;MAGHO,cAAc,EAAE;IAHb,CAAP;EAKH,CAlBU;;EAmBXC,OAAO,EAAC;IACJ;;;IAGAC,eAAe,CAACC,KAAD,EAAO;MAClB,IAAG,KAAKH,cAAR,EAAuB;QACnB,KAAKA,cAAL,CAAoBG,KAApB,EAA2BC,OAA3B,GAAqC,CAAC,KAAKJ,cAAL,CAAoBG,KAApB,EAA2BC,OAAjE;MACJ;IACH,CARG;;IAUJ;;;IAGA,MAAMR,YAAN,GAAoB;MAChB,IAAI;QACA,IAAIS,EAAC,GAAI,IAAT;QACA,IAAIC,GAAE,GAAI,MAAMlB,OAAO,CAACmB,OAAR,CAAgBnB,OAAO,CAACoB,OAAR,GAAgB,YAAhC,EAA8C,KAA9C,CAAhB;;QACA,IAAGF,GAAE,IAAKA,GAAG,CAACT,IAAd,EAAmB;UACf,IAAGS,GAAG,CAACT,IAAJ,CAASY,cAAZ,EAA2B;YACvBJ,EAAE,CAACL,cAAH,GAAoBM,GAAG,CAACT,IAAJ,CAASY,cAA7B;YACAJ,EAAE,CAACL,cAAH,CAAkBU,OAAlB,CAA0BC,CAAC,IAAE;cACzBA,CAAC,CAACP,OAAF,GAAY,IAAZ;YACH,CAFD;UAGJ;QACJ;MACJ,CAXA,CAWE,OAAOQ,KAAP,EAAc;QACfC,OAAO,CAACD,KAAR,CAAcA,KAAd;MACD;IACJ;;EA5BI;AAnBG,CAAf","names":["PostFilterItem","PostAPI","components","created","$route","params","pageTitle","title","filterKey","loadHotPlace","data","listPosts","post_content","listPostDetail","methods","collapseContent","index","visible","me","res","request","urlName","ListPostDetail","forEach","x","error","console"],"sourceRoot":"","sources":["D:\\Traveller\\Traveller-Frontend\\traveller-ui\\src\\views\\post\\PostFilterList.vue"],"sourcesContent":["<template>\r\n  <div class=\"post-filter-list\">\r\n        <div class=\"page-title\">{{pageTitle}}</div>\r\n        <!-- Phần list các bài viết -->\r\n        <div class=\"grid grid-cols-1 gap-4\">\r\n            <div class=\"post-group\" v-for=\"(postDetail,index) in listPostDetail\" :key=\"index\">\r\n                <div class=\"category-group-name\" @click=\"collapseContent(index)\">\"{{postDetail.category.category_name}}\" : {{postDetail.listPost.length}} lượt đề cập</div>\r\n                <div class=\"list-post\" v-if=\"postDetail.visible\">\r\n                    <post-filter-item v-for=\"(post, index) in postDetail.listPost\" v-bind:key=\"index\" \r\n                        :post=\"post\"                                    \r\n                    />   \r\n                </div>\r\n            </div>               \r\n        </div>      \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PostFilterItem from \"@/views/post/PostFilterItem.vue\"\r\nimport PostAPI from '@/api/PostAPI';\r\nexport default {\r\n    components:{\r\n        \"post-filter-item\": PostFilterItem\r\n    },\r\n    created(){\r\n        if(this.$route && this.$route.params){            \r\n            this.pageTitle += `\"${this.$route.params.title}\"` || '';    \r\n            if(this.$route.params.filterKey == 'hotPlace'){\r\n                this.loadHotPlace();\r\n            }        \r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            listPosts: [{post_content: 'xxx'},{post_content: 'yyy'}],\r\n            pageTitle: 'Kết quả cho: ',\r\n            listPostDetail: [],\r\n        }\r\n    },\r\n    methods:{\r\n        /**\r\n         * Hàm thu gọn/ mở rộng nội dung của 1 group\r\n         */\r\n        collapseContent(index){\r\n            if(this.listPostDetail){\r\n                this.listPostDetail[index].visible = !this.listPostDetail[index].visible;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * API lấy danh sách các địa điểm đang hot\r\n         */\r\n        async loadHotPlace(){\r\n            try {\r\n                let me = this;\r\n                let res = await PostAPI.request(PostAPI.urlName+'/hot_place', 'GET');\r\n                if(res && res.data){                    \r\n                    if(res.data.ListPostDetail){\r\n                        me.listPostDetail = res.data.ListPostDetail;    \r\n                        me.listPostDetail.forEach(x=>{\r\n                            x.visible = true;\r\n                        })                    \r\n                    }\r\n                }\r\n            } catch (error) {\r\n             console.error(error)\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.post-filter-list{\r\n    padding: 10px;\r\n    .page-title{\r\n        font-size: 20px;\r\n        font-weight: 700;\r\n    }\r\n    .post-group{\r\n        border-left: 5px solid var(--disabled-color);\r\n        padding-left: 10px;\r\n        .category-group-name{\r\n            font-size: 16px;\r\n            font-weight: bold;\r\n            background: var(--brown-color);\r\n            border-radius: 5px;\r\n            padding: 3px;\r\n            margin-bottom: 3px;\r\n        }\r\n    }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}