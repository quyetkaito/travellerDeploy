{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, withDirectives as _withDirectives, Fragment as _Fragment } from \"vue\";\nimport _imports_0 from '@/assets/img/bg_report_nodata.76e50bd8.svg';\nconst _hoisted_1 = {\n  class: \"content\"\n};\nconst _hoisted_2 = {\n  class: \"employee-top\"\n};\nconst _hoisted_3 = {\n  class: \"content-top\"\n};\nconst _hoisted_4 = {\n  class: \"page-title\"\n};\nconst _hoisted_5 = {\n  class: \"employee-bottom\"\n};\nconst _hoisted_6 = {\n  class: \"content-bottom\"\n};\nconst _hoisted_7 = {\n  class: \"filter-area flex\"\n};\nconst _hoisted_8 = {\n  class: \"flex align-x-y-center\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"m-btn-dropdown\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"m-btn-text text-dropdown\"\n}, \"Thực hiện hàng loạt\"), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"m-icon m-icon-16 m-icon-dropdown\"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_10 = {\n  key: 0,\n  class: \"dropdown-button\"\n};\nconst _hoisted_11 = {\n  class: \"content-filter flex align-y-center justify-end\"\n};\nconst _hoisted_12 = {\n  style: {\n    \"width\": \"240px\"\n  }\n};\nconst _hoisted_13 = {\n  style: {\n    \"position\": \"relative\"\n  }\n};\nconst _hoisted_14 = {\n  style: {\n    \"position\": \"relative\"\n  }\n};\nconst _hoisted_15 = {\n  class: \"content-grid\"\n};\nconst _hoisted_16 = {\n  class: \"table-container\"\n};\nconst _hoisted_17 = {\n  class: \"flex align-center\",\n  style: {\n    \"width\": \"100%\",\n    \"flex-direction\": \"column\"\n  }\n};\n\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"\",\n  width: \"100\",\n  height: \"100\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"p\", {\n  style: {\n    \"margin\": \"0px\",\n    \"padding\": \"0px\"\n  }\n}, \"Không có dữ liệu\", -1\n/* HOISTED */\n);\n\nconst _hoisted_20 = [_hoisted_18, _hoisted_19];\nconst _hoisted_21 = {\n  class: \"m-paging\"\n};\n\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"paging-left\"\n}, [/*#__PURE__*/_createCommentVNode(\" <ms-table-counter :record=\\\"totalEmp\\\" /> \")], -1\n/* HOISTED */\n);\n\nconst _hoisted_23 = {\n  class: \"paging-right\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_m_button = _resolveComponent(\"m-button\");\n\n  const _component_m_input = _resolveComponent(\"m-input\");\n\n  const _component_m_grid = _resolveComponent(\"m-grid\");\n\n  const _component_v_multiselect = _resolveComponent(\"v-multiselect\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" Content riêng của trang Employee \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, _toDisplayString($data.pageTitle), 1\n  /* TEXT */\n  ), _createVNode(_component_m_button, {\n    text: \"Thêm mới\",\n    onClick: $options.showToast\n  }, null, 8\n  /* PROPS */\n  , [\"onClick\"])])]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createCommentVNode(\" Xóa nhiều \"), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, $data.isShowMultiAction && $data.listEmployeeChecked.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createElementVNode(\"div\", {\n    class: \"m-dropdown-item\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.handleMultiDelete && $options.handleMultiDelete(...args))\n  }, _toDisplayString($data.multiDeleteText), 1\n  /* TEXT */\n  )])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Các component filter dữ liệu \"), _createElementVNode(\"div\", _hoisted_11, [_createCommentVNode(\" Input Search \"), _createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_m_input, {\n    ref: \"searchInput\",\n    isHasLabel: false,\n    maxlength: 255,\n    width: 240,\n    isHasIcon: true,\n    modelValue: $data.dataFilter,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.dataFilter = $event),\n    placeholder: \"Tìm kiếm theo tên, mã nhân viên\",\n    onInput: _cache[2] || (_cache[2] = $event => $options.lodashDelay(_ctx.value)),\n    onFindData: $options.filterDataServer\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\", \"onFindData\"])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", {\n    class: \"m-icon m-icon-24 m-refresh btn-refresh\",\n    onClick: _cache[3] || (_cache[3] = $event => $options.loadData())\n  }), _createCommentVNode(\" <ms-tooltip\\r\\n                class=\\\"hide\\\"\\r\\n                text=\\\"Lấy lại dữ liệu\\\"\\r\\n                :isRectangle=\\\"true\\\"\\r\\n              /> \")]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", {\n    class: \"m-icon m-icon-24 m-excel__nav btn-export\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.exportData && $options.exportData(...args))\n  }), _createCommentVNode(\" <ms-tooltip\\r\\n                class=\\\"hide\\\"\\r\\n                text=\\\"Xuất ra excel\\\"\\r\\n                :isRectangle=\\\"true\\\"\\r\\n              /> \")])])]), _createCommentVNode(\" Bảng \"), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createVNode(_component_m_grid, {\n    ref: \"mygrid\",\n    listData: $data.employees,\n    columns: $data.listHeader,\n    pageSize: $data.pageSize,\n    isShowSkeleton: $data.isShowSkeleton,\n    functionText: \"Sửa\",\n    onOnUpdate: $options.handleUpdate,\n    onOnDelete: $options.handleDelete,\n    onEShowFunc: $options.showFunction,\n    onHandleHideFunc: $options.hideFunction,\n    onEMultiSelect: $options.getEmployeeSelected\n  }, null, 8\n  /* PROPS */\n  , [\"listData\", \"columns\", \"pageSize\", \"isShowSkeleton\", \"onOnUpdate\", \"onOnDelete\", \"onEShowFunc\", \"onHandleHideFunc\", \"onEMultiSelect\"])])]), _createCommentVNode(\" Ảnh hiển thị nếu không có dữ liệu \"), _withDirectives(_createElementVNode(\"div\", _hoisted_17, _hoisted_20, 512\n  /* NEED_PATCH */\n  ), [[_vShow, Object.keys($data.employees).length === 0 && $data.dataFilter != '']]), _createCommentVNode(\" Paging \"), _withDirectives(_createElementVNode(\"div\", _hoisted_21, [_hoisted_22, _createElementVNode(\"div\", _hoisted_23, [_createCommentVNode(\" Combobox Paging \"), _createCommentVNode(\" <vue-select\\r\\n              ref=\\\"comboPaging\\\"\\r\\n              style=\\\"width: 200px !important\\\"\\r\\n              :options=\\\"pagingOptions\\\"\\r\\n              v-model=\\\"pageSize\\\"\\r\\n              :label-by=\\\"(pagingOptions) => pagingOptions.label\\\"\\r\\n              :value-by=\\\"(pagingOptions) => pagingOptions.value\\\"\\r\\n              placeholder=\\\"\\\"\\r\\n              close-on-select\\r\\n              :disabled=\\\"disableComboboxPaging\\\"\\r\\n            >\\r\\n            </vue-select> \"), _createVNode(_component_v_multiselect, {\n    ref: \"comboPaging\",\n    style: {\n      \"width\": \"200px !important\"\n    },\n    modelValue: $data.pageSize,\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.pageSize = $event),\n    options: $data.pagingOptions,\n    label: \"label\",\n    \"close-on-select\": true,\n    clearOnSelect: true,\n    searchable: false,\n    noResultsText: \"Không có dữ liệu hiển thị\",\n    disabled: false,\n    canClear: false,\n    canDeselect: false,\n    openDirection: \"top\"\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\", \"options\"]), _createCommentVNode(\" Paging action \"), _createCommentVNode(\" <m-pagination\\r\\n              :totalPage=\\\"totalPage\\\"\\r\\n              :currentPage=\\\"pageNumber\\\"\\r\\n              :pageSize=\\\"pageSize\\\"\\r\\n              @changeCurrentPage=\\\"setCurrentPage\\\"\\r\\n            /> \")])], 512\n  /* NEED_PATCH */\n  ), [[_vShow, Object.keys($data.employees).length !== 0]])])]), _createCommentVNode(\" <ms-employee-dialog\\r\\n      ref=\\\"addDialog\\\"\\r\\n      :isShow=\\\"isShowDialog\\\"\\r\\n      @showDialog=\\\"showEmployeeDialog(value)\\\"\\r\\n      @eCloseDialog=\\\"closeDialog\\\"\\r\\n      @loadData=\\\"loadData()\\\"\\r\\n      :employeeSelected=\\\"employeeSelected\\\"\\r\\n      :formMode=\\\"formMode\\\"\\r\\n    /> \"), _createCommentVNode(\" <ms-popup\\r\\n      ref=\\\"popup\\\"\\r\\n      :popupType=\\\"popupType\\\"\\r\\n      :isShow=\\\"isShowPopup\\\"\\r\\n      :employeeSelected=\\\"employeeSelected\\\"\\r\\n      @showPopup=\\\"showMessagebox(isShow)\\\"\\r\\n      @deleteComfirm=\\\"deleteEmployee(employeeSelected)\\\"\\r\\n      @multiDeleteConfirm=\\\"multiDeleteEmployee\\\"\\r\\n      :text=\\\"popupText\\\"\\r\\n      :isMultiDelete=\\\"isMultiDelete\\\"\\r\\n    />    \"), _createCommentVNode(\" <ms-dropdown-content\\r\\n      ref=\\\"mTableFunction\\\"\\r\\n      directionY=\\\"right\\\"\\r\\n      :optionObjects=\\\"tableFunction\\\"\\r\\n      @eData=\\\"getValueFromDropdown\\\"\\r\\n    /> \")])], 2112\n  /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["_imports_0","class","_createElementVNode","style","src","alt","width","height","_hoisted_18","_hoisted_19","_createCommentVNode","_toDisplayString","$data","_createVNode","_component_m_button","text","onClick","$options","_hoisted_9","length","_createElementBlock","_component_m_input","ref","isHasLabel","maxlength","isHasIcon","$event","placeholder","onInput","_ctx","onFindData","_component_m_grid","listData","columns","pageSize","isShowSkeleton","functionText","onOnUpdate","onOnDelete","onEShowFunc","onHandleHideFunc","onEMultiSelect","_hoisted_20","Object","keys","_hoisted_22","_component_v_multiselect","options","label","clearOnSelect","searchable","noResultsText","disabled","canClear","canDeselect","openDirection"],"sourceRoot":"","sources":["D:\\Traveller\\Traveller-Frontend\\traveller-ui\\src\\views\\voucher\\VoucherList.vue"],"sourcesContent":["<template>\r\n  <!-- Content riêng của trang Employee -->\r\n  <div class=\"content\">\r\n    <div class=\"employee-top\">\r\n      <div class=\"content-top\">\r\n        <div class=\"page-title\">{{ pageTitle }}</div>\r\n        <m-button\r\n          text=\"Thêm mới\"     \r\n          @click=\"showToast\"     \r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"employee-bottom\">\r\n      <div class=\"content-bottom\">\r\n        <div class=\"filter-area flex\">\r\n          <!-- Xóa nhiều -->\r\n          <div class=\"flex align-x-y-center\">\r\n            <button\r\n              class=\"m-btn-dropdown\"\r\n            >\r\n              <div class=\"m-btn-text text-dropdown\">Thực hiện hàng loạt</div>\r\n              <div class=\"m-icon m-icon-16 m-icon-dropdown\"></div>\r\n            </button>\r\n            <div\r\n              class=\"dropdown-button\"\r\n              v-if=\"isShowMultiAction && listEmployeeChecked.length > 0\"\r\n            >\r\n              <div class=\"m-dropdown-item\" @click=\"handleMultiDelete\">\r\n                {{ multiDeleteText }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- Các component filter dữ liệu -->\r\n          <div class=\"content-filter flex align-y-center justify-end\">\r\n            <!-- Input Search -->\r\n            <div style=\"width: 240px\">\r\n              <m-input\r\n                ref=\"searchInput\"\r\n                :isHasLabel=\"false\"\r\n                :maxlength=\"255\"\r\n                :width=\"240\"\r\n                :isHasIcon=\"true\"\r\n                v-model=\"dataFilter\"\r\n                placeholder=\"Tìm kiếm theo tên, mã nhân viên\"\r\n                @input=\"lodashDelay(value)\"\r\n                @findData=\"filterDataServer\"\r\n              />\r\n            </div>\r\n\r\n            <div style=\"position: relative\">\r\n              <div\r\n                class=\"m-icon m-icon-24 m-refresh btn-refresh\"\r\n                @click=\"loadData()\"\r\n              ></div>\r\n              <!-- <ms-tooltip\r\n                class=\"hide\"\r\n                text=\"Lấy lại dữ liệu\"\r\n                :isRectangle=\"true\"\r\n              /> -->\r\n            </div>\r\n            <div style=\"position: relative\">\r\n              <div\r\n                class=\"m-icon m-icon-24 m-excel__nav btn-export\"\r\n                @click=\"exportData\"\r\n              ></div>\r\n              <!-- <ms-tooltip\r\n                class=\"hide\"\r\n                text=\"Xuất ra excel\"\r\n                :isRectangle=\"true\"\r\n              /> -->\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Bảng -->\r\n        <div class=\"content-grid\">\r\n          <div class=\"table-container\">\r\n            <m-grid\r\n              ref=\"mygrid\"              \r\n              :listData=\"employees\"\r\n              :columns=\"listHeader\"\r\n              :pageSize=\"pageSize\"\r\n              :isShowSkeleton=\"isShowSkeleton\"\r\n              functionText=\"Sửa\"\r\n              @onUpdate=\"handleUpdate\"\r\n              @onDelete=\"handleDelete\"\r\n              @eShowFunc=\"showFunction\"\r\n              @handleHideFunc=\"hideFunction\"\r\n              @eMultiSelect=\"getEmployeeSelected\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Ảnh hiển thị nếu không có dữ liệu -->\r\n        <div\r\n          class=\"flex align-center\"\r\n          style=\"width: 100%; flex-direction: column\"\r\n          v-show=\"Object.keys(employees).length === 0 && dataFilter != ''\"\r\n        >\r\n          <img\r\n            src=\"@/assets/img/bg_report_nodata.76e50bd8.svg\"\r\n            alt=\"\"\r\n            width=\"100\"\r\n            height=\"100\"\r\n          />\r\n          <p style=\"margin: 0px; padding: 0px\">Không có dữ liệu</p>\r\n        </div>\r\n\r\n        <!-- Paging -->\r\n        <div class=\"m-paging\" v-show=\"Object.keys(employees).length !== 0\">\r\n          <div class=\"paging-left\">\r\n            <!-- <ms-table-counter :record=\"totalEmp\" /> -->\r\n          </div>\r\n          <div class=\"paging-right\">\r\n            <!-- Combobox Paging -->\r\n            <!-- <vue-select\r\n              ref=\"comboPaging\"\r\n              style=\"width: 200px !important\"\r\n              :options=\"pagingOptions\"\r\n              v-model=\"pageSize\"\r\n              :label-by=\"(pagingOptions) => pagingOptions.label\"\r\n              :value-by=\"(pagingOptions) => pagingOptions.value\"\r\n              placeholder=\"\"\r\n              close-on-select\r\n              :disabled=\"disableComboboxPaging\"\r\n            >\r\n            </vue-select> -->\r\n            <v-multiselect\r\n              ref=\"comboPaging\"\r\n              style=\"width: 200px !important\"\r\n              v-model=\"pageSize\"\r\n              :options=\"pagingOptions\"\r\n              label=\"label\"\r\n              :close-on-select=\"true\"\r\n              :clearOnSelect=\"true\"\r\n              :searchable=\"false\"\r\n              noResultsText=\"Không có dữ liệu hiển thị\"\r\n              :disabled=\"false\"\r\n              :canClear=\"false\"\r\n              :canDeselect=\"false\"\r\n              openDirection=\"top\"\r\n            />\r\n            <!-- Paging action -->\r\n            <!-- <m-pagination\r\n              :totalPage=\"totalPage\"\r\n              :currentPage=\"pageNumber\"\r\n              :pageSize=\"pageSize\"\r\n              @changeCurrentPage=\"setCurrentPage\"\r\n            /> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- <ms-employee-dialog\r\n      ref=\"addDialog\"\r\n      :isShow=\"isShowDialog\"\r\n      @showDialog=\"showEmployeeDialog(value)\"\r\n      @eCloseDialog=\"closeDialog\"\r\n      @loadData=\"loadData()\"\r\n      :employeeSelected=\"employeeSelected\"\r\n      :formMode=\"formMode\"\r\n    /> -->\r\n    <!-- <ms-popup\r\n      ref=\"popup\"\r\n      :popupType=\"popupType\"\r\n      :isShow=\"isShowPopup\"\r\n      :employeeSelected=\"employeeSelected\"\r\n      @showPopup=\"showMessagebox(isShow)\"\r\n      @deleteComfirm=\"deleteEmployee(employeeSelected)\"\r\n      @multiDeleteConfirm=\"multiDeleteEmployee\"\r\n      :text=\"popupText\"\r\n      :isMultiDelete=\"isMultiDelete\"\r\n    />    -->\r\n\r\n    <!-- <ms-dropdown-content\r\n      ref=\"mTableFunction\"\r\n      directionY=\"right\"\r\n      :optionObjects=\"tableFunction\"\r\n      @eData=\"getValueFromDropdown\"\r\n    /> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//import Library\r\nimport axios from \"axios\";\r\n// import vClickOutside from \"click-outside-vue3\";\r\nimport _ from \"lodash\";\r\nconst FileDownload = require(\"js-file-download\");\r\n//multi vue 3\r\nimport vMultiselect from \"@vueform/multiselect\";\r\nimport \"@vueform/multiselect/themes/default.css\";\r\n\r\n//import my js\r\n// import this.$enum from \"@/js/enum\";\r\n// import Resource from \"@/js/resource\";\r\n// import { LOCAL_EMPLOYEE_API_URL } from \"/public/config.js\";\r\n// import EmployeeDetail from \"@/views/employee/EmployeeDetail.vue\";\r\n// import MSPagination from \"@/components/base/MSPagination.vue\";\r\nexport default {\r\n  name: \"EmployeeList\",\r\n  components: {\r\n    // \"ms-employee-dialog\": EmployeeDetail,\r\n    // \"ms-pagination\": MSPagination,\r\n    \"v-multiselect\": vMultiselect,\r\n  },\r\n//   directives: {\r\n//     clickOutside: vClickOutside.directive,\r\n//   },\r\n\r\n  /**---------------------------\r\n   * Giai đoạn 2: có thể truy cập vào data, event, chưa truy cập dc DOM\r\n   -----------------------------*/\r\n  created() {\r\n    //this.loadData();\r\n  },\r\n\r\n  /**--------------\r\n   * Data\r\n  -----------------*/\r\n  data() {\r\n    return {\r\n      pageTitle: \"Mã giảm giá\",\r\n      employees: [], //danh sách nhân viên\r\n      isShowDialog: false, //dialog có hiện không?\r\n      isShowPopup: false, //popup có hiện không?\r\n\r\n      isShowFunc: false, //function của table có hiện không?\r\n      isShowMultiAction: false, //dropdown của thực hiện hàng loạt có hiện không?\r\n      isShowSkeleton: false, //có đang hiện skeleton ko?\r\n      employeeSelected: {}, //đối tượng nhân viên đang được chọn để thao tác.\r\n      formMode: 0, //trạng thái form đang là gì?\r\n      //set text,type cho popup\r\n      popupText: null,\r\n      popupType: null,\r\n      isMultiDelete: false, //có đang xóa nhiều không?\r\n      //thông tin của toast\r\n      toastText: \"toast-text\",\r\n      toastType: 0,\r\n      //các option cho paging\r\n      pagingOptions: [\r\n        {\r\n          label: \"10 bản ghi trên 1 trang\",\r\n          value: 10,\r\n        },\r\n        {\r\n          label: \"20 bản ghi trên 1 trang\",\r\n          value: 20,\r\n        },\r\n        {\r\n          label: \"30 bản ghi trên 1 trang\",\r\n          value: 30,\r\n        },\r\n        {\r\n          label: \"50 bản ghi trên 1 trang\",\r\n          value: 50,\r\n        },\r\n        {\r\n          label: \"100 bản ghi trên 1 trang\",\r\n          value: 100,\r\n        },\r\n      ],\r\n      disableComboboxPaging: false,\r\n      pageNumber: 1, //trang số bao nhiêu\r\n      pageSize: 10, //số bản ghi trên 1 trang\r\n      totalPage: null, //tổng số trang\r\n      totalEmp: null, //tổng số bản ghi dữ liệu\r\n      dataFilter: \"\", //giá trị để tìm kiếm\r\n      multiDeleteText: \"Xóa\",\r\n      //thông tin khởi tạo table\r\n      //danh sách các tiêu đề và fieldName của bảng\r\n      listHeader: [\r\n        {\r\n          text: \"Mã nhân viên\",\r\n          fieldName: \"employee_code\",\r\n          align: \"text-align-left\",\r\n        },\r\n        {\r\n          text: \"Tên nhân viên\",\r\n          fieldName: \"employee_name\",\r\n          align: \"text-align-left\",\r\n          width: \"w-250\",\r\n        },\r\n        {\r\n          text: \"Giới tính\",\r\n          fieldName: \"gender_name\",\r\n          align: \"text-align-left\",\r\n        },\r\n        {\r\n          text: \"Ngày sinh\",\r\n          fieldName: \"date_of_birth\",\r\n          align: \"text-align-center\",\r\n        },\r\n        {\r\n          text: \"Số CMND\",\r\n          textFull: \"Số chứng minh nhân dân\",\r\n          fieldName: \"identity_number\",\r\n          align: \"text-align-left\",\r\n          width: \"w-70\",\r\n        },\r\n        {\r\n          text: \"Chức danh\",\r\n          fieldName: \"position_name\",\r\n          align: \"text-align-left\",\r\n          width: \"w-100\",\r\n        },\r\n        {\r\n          text: \"Tên đơn vị\",\r\n          fieldName: \"department_name\",\r\n          align: \"text-align-left\",\r\n          width: \"w-200\",\r\n        },\r\n        {\r\n          text: \"Số tài khoản\",\r\n          fieldName: \"bank_account_number\",\r\n          align: \"text-align-left\",\r\n        },\r\n        {\r\n          text: \"Tên ngân hàng\",\r\n          fieldName: \"bank_name\",\r\n          align: \"text-align-left\",\r\n        },\r\n        {\r\n          text: \"Chi nhánh TK ngân hàng\",\r\n          textFull: \"Chi nhánh tài khoản ngân hàng\",\r\n          fieldName: \"bank_branch_name\",\r\n          align: \"text-align-left\",\r\n        },\r\n        {\r\n          text: \"Địa chỉ\",\r\n          textFull: \"Chi nhánh tài khoản ngân hàng\",\r\n          fieldName: \"address\",\r\n          align: \"text-align-left\",\r\n          columnWidth: 300,\r\n        },\r\n      ],\r\n      //các function của table\r\n      tableFunction: [\r\n        {\r\n          title: \"Nhân bản\",\r\n          value: this.$enum.TableFunction.Clone,\r\n        },\r\n        {\r\n          title: \"Xóa\",\r\n          value: this.$enum.TableFunction.Delete,\r\n        },\r\n        {\r\n          title: \"Ngừng sử dụng\",\r\n          value: this.$enum.TableFunction.Stop,\r\n        },\r\n      ],\r\n      listEmployeeChecked: [],\r\n    };\r\n  },\r\n\r\n  /**-----------------\r\n   * Các phương thức\r\n   -------------------*/\r\n  methods: {\r\n    showToast(){                    \r\n        // this.$store.commit('showError', {\r\n        //     message: 'Lỗi rồi em ei',\r\n        //     position: 'top-center',\r\n        //     timeout: 10000,\r\n        // });\r\n        debugger\r\n        this.$commonFunc.convertToBase64(\"123123\");\r\n    },\r\n\r\n    openMessage(){\r\n        this.$mgsBox.show();\r\n    },\r\n    /**--------------------------\r\n     * Hàm thực hiện đóng dialog nhân viên.\r\n     * Author: quyetnv(22/03/2022)\r\n     -----------------------------*/\r\n    closeDialog() {\r\n      this.employeeSelected = {};\r\n      this.formMode = 0;\r\n      this.isShowDialog = false;\r\n    },\r\n\r\n    /**----------------------------------\r\n     * Hàm gọi API xuất dữ liệu.\r\n     * Author: quyetkaito (15/03/2022)\r\n     -------------------------------*/\r\n    exportData() {\r\n      // let me = this;\r\n      // me.$refs.mLoading.show();\r\n      // let object = {};\r\n      // object.tableInfos = me.listHeader;\r\n      // object.dataFilter = me.dataFilter;\r\n      // //gửi lên server danh sách các header\r\n      // axios\r\n      //   .post(`${LOCAL_EMPLOYEE_API_URL}/export`, object, {\r\n      //     responseType: \"blob\",\r\n      //   })\r\n      //   .then((response) => {\r\n      //     FileDownload(response.data, \"Danh_sach_nhan_vien.xlsx\");\r\n      //     me.$refs.mLoading.hide();\r\n      //   })\r\n      //   .catch(() => {\r\n      //     me.$refs.mLoading.hide();\r\n      //   });\r\n    },\r\n\r\n    /**--------------------------------------\r\n     * Xử lý khi nút [Xóa hàng loạt] được chọn\r\n     * Author: quyetkaito (14/03/2022)\r\n    ----------------------------------*/\r\n    handleMultiDelete() {\r\n      this.isMultiDelete = true;\r\n      //show cảnh báo xóa nhiều\r\n      this.showPopup(this.$enum.PopupType.DataDelete);\r\n    },\r\n\r\n    /**----------------------------\r\n     * Thực hiện gọi API xóa nhiều.\r\n     * Author: quyetkaito (14/03/2022)\r\n     ------------------------------*/\r\n    multiDeleteEmployee() {\r\n      // let me = this;\r\n      // //hiện loading\r\n      // me.$refs.mLoading.show();\r\n      // //gọi API xóa nhiều\r\n      // axios\r\n      //   .delete(`${LOCAL_EMPLOYEE_API_URL}`, { data: me.listEmployeeChecked })\r\n      //   .then(() => {\r\n      //     //đóng popup\r\n      //     me.showMessagebox(false);\r\n      //     //thông báo thành công\r\n      //     // me.toastText = Resource.SuccessDelete;\r\n      //     me.$refs.msToast.show();\r\n      //     //reset lại danh sách employee được chọn\r\n      //     me.listEmployeeChecked = [];\r\n      //     me.isMultiDelete = false;\r\n      //     //ẩn loading\r\n      //     me.$refs.mLoading.hide();\r\n\r\n      //     //load lại dữ liệu\r\n      //     me.loadData();\r\n      //     //bỏ dấu check all\r\n      //     this.$refs.mygrid.unCheckAll();\r\n      //   })\r\n      //   .catch((error) => {\r\n      //     me.handleException(error);\r\n      //     //reset lại danh sách employee được chọn\r\n      //     me.listEmployeeChecked = [];\r\n      //     me.isMultiDelete = false;\r\n      //     me.$refs.mLoading.hide();\r\n      //   });\r\n    },\r\n\r\n    /**-----------------------------------------------------\r\n     * Lấy danh sách id của các employee được chọn từ bảng.\r\n     * @param {Array} listChecked - mảng các đối tượng nhân viên được chọn.\r\n     * Author: quyetkaito (14/03/2022)\r\n     -------------------------------------------------------*/\r\n    getEmployeeSelected(listChecked) {\r\n      try {\r\n        //lấy ra id của đối tượng\r\n        listChecked.forEach((employee) => {\r\n          //push vào mảng các id của nhân viên\r\n          this.listEmployeeChecked.push(employee.employee_id);\r\n        });\r\n      } catch (error) {\r\n        //log ra lỗi\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    /**-----------------------------------\r\n     * Thực hiện ẩn/ hiện nút \"Xóa nhiều\".\r\n     * Author: quyetkaito (14/03/2022)\r\n     -------------------------------------*/\r\n    toggleMultiAction() {\r\n      this.isShowMultiAction = !this.isShowMultiAction;\r\n    },\r\n\r\n    /**--------------------------------\r\n     * Thực hiện ẩn nút \"Xóa nhiều\".\r\n     * Author: quyetkaito (14/03/2022)\r\n     ---------------------------------*/\r\n    hideMultiAction() {\r\n      this.isShowMultiAction = false;\r\n    },\r\n\r\n    /**-------------------------------------\r\n     * Thực hiện delay call API khi tìm kiếm.\r\n     * Author: quyetkaito (15/03/2022)\r\n    ---------------------------------*/\r\n    lodashDelay: _.debounce(function () {\r\n      this.filterDataServer();\r\n    }, 1200),\r\n\r\n    /**--------------------------------\r\n     * Hàm gọi API tìm kiếm dữ liệu từ server.\r\n     * Author: quyetkaito (03/03/2022)\r\n     ----------------------------------*/\r\n    filterDataServer(pageNumber) {\r\n      // let me = this;\r\n      // //reset mảng employee\r\n      // me.employees = [];\r\n      // //show loading\r\n      // me.isShowSkeleton = true;\r\n      // //xử lý đầu vào API\r\n      // if (!pageNumber) pageNumber = 1;\r\n      // if (!me.pageSize) me.pageSize = 10;\r\n      // let value = this.dataFilter.toString();\r\n      // //gọi api lấy dữ liệu theo filter\r\n      // axios\r\n      //   .get(\r\n      //     `${LOCAL_EMPLOYEE_API_URL}/filter?pageSize=${me.pageSize}&pageNumber=${pageNumber}&textFilter=${value}`\r\n      //   )\r\n      //   .then((response) => {\r\n      //     //nếu có kết quả\r\n      //     if (response.status == this.$enum.StatusCode.OK) {\r\n      //       //gán response vào danh sách nhân viên\r\n      //       me.employees = response.data.Data;\r\n      //       //gán tổng số bản ghi\r\n      //       me.totalEmp = response.data.TotalRecord;\r\n      //       //gán tổng số trang\r\n      //       me.totalPage = response.data.TotalPage;\r\n      //       //ẩn loading\r\n      //       me.isShowSkeleton = false;\r\n      //     }\r\n      //     //nếu không có kết quả\r\n      //     if (response.status == this.$enum.StatusCode.NoContent) {\r\n      //       me.employees = {};\r\n      //       me.totalEmp = 0;\r\n      //       me.isShowSkeleton = false;\r\n      //     }\r\n      //   })\r\n      //   .catch((res) => {\r\n      //     //xử lý lỗi...\r\n      //     me.handleException(res);\r\n      //   });\r\n    },\r\n\r\n    /**----------------------------------------\r\n     * Hàm thực hiện load data (đã phân trang) binding vào bảng.\r\n     * Author: quyetkaito (25/02/2022)\r\n     ------------------------------------------*/\r\n    loadData() {\r\n      try {\r\n        let me = this;\r\n        //không cho phân trang\r\n        me.disableComboboxPaging = true;\r\n        me.dataFilter = \"\";\r\n        me.employees = [];\r\n        // me.employeeSelected = {};\r\n        me.formMode = 0;\r\n        if (!me.pageSize) me.pageSize = 10;\r\n        if (!me.pageNumber || me.pageNumber != 1) me.pageNumber = 1;\r\n        //show loading\r\n        me.isShowSkeleton = true;\r\n        //gọi API lấy dữ liệu nhân viên\r\n        axios\r\n          .get(\r\n            `${LOCAL_EMPLOYEE_API_URL}/filter?pageSize=${me.pageSize}&pageNumber=${me.pageNumber}`\r\n          )\r\n          .then((response) => {\r\n            //gán response vào danh sách nhân viên\r\n            me.employees = response.data.Data;\r\n            //gán tổng số bản ghi\r\n            me.totalEmp = response.data.TotalRecord;\r\n            //gán tổng số trang\r\n            me.totalPage = response.data.TotalPage;\r\n            //cho phép phân trang\r\n            me.disableComboboxPaging = false;\r\n            me.isShowSkeleton = false;\r\n          })\r\n          .catch((error) => {\r\n            //xử lý lỗi\r\n            me.handleException(error);\r\n            //ẩn loading\r\n            me.isShowSkeleton = false;\r\n          });\r\n      } catch (error) {\r\n        this.showDefaultErrorNotify();\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    /**-------------------------------\r\n     * Hàm xử lý mở Dialog nhân viên\r\n     * @param {Object} data - đối tượng nhân viên truyền vào\r\n     * @param {Number} formMode - trạng thái form thêm/sửa/xóa\r\n     * Author: quyetkaito (16/03/2022)\r\n     ---------------------------------*/\r\n    openDialog({ data, formMode }) {\r\n      try {\r\n        //gán formMode\r\n        this.formMode = formMode;\r\n        //nếu là thêm mới hoặc nhân bản\r\n        if (formMode == this.$enum.FormMode.Post || formMode == this.$enum.FormMode.Clone) {\r\n          //gọi lấy mã mới\r\n          this.$refs.addDialog.getNewEmployeeCode();\r\n        }\r\n        this.employeeSelected = data;\r\n        if (this.employeeSelected.DateOfBirth) {\r\n          //format ngày sinh để cho vào datepicker\r\n          this.employeeSelected.DateOfBirth = new Date(\r\n            this.employeeSelected.DateOfBirth\r\n          );\r\n        }\r\n        if (this.employeeSelected.IdentityDate) {\r\n          //format ngày cấp cmnd để cho vào datepicker\r\n          this.employeeSelected.IdentityDate = new Date(\r\n            this.employeeSelected.IdentityDate\r\n          );\r\n        }\r\n        //show dialog\r\n        this.isShowDialog = true;\r\n      } catch (error) {\r\n        this.showDefaultErrorNotify();\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    /**-------------------------------------------------\r\n     * Thực hiện show/hide dialog truyền cho child component.\r\n     * @param {Boolean} value - true là hiện, false là ẩn .\r\n     * Author: quyetkaito (24/02/2022)\r\n     ---------------------------------------------------*/\r\n    showEmployeeDialog(value) {\r\n      this.isShowDialog = value;\r\n    },\r\n\r\n    /**-------------------------------------------\r\n     * Hàm thực hiện xóa employee.\r\n     * @param {Object} employee - 1 đối tượng cần xóa.\r\n     * Author: quyetkaito (22/02/2022)\r\n     ---------------------------------------------*/\r\n    deleteEmployee(employee) {\r\n      const me = this;\r\n      //hiện loading\r\n      me.$refs.mLoading.show();\r\n      //2. thực hiện xóa\r\n      axios\r\n        .delete(`${LOCAL_EMPLOYEE_API_URL}/${employee.EmployeeId}`)\r\n        .then(function () {\r\n          //đóng popup\r\n          me.showMessagebox(false);\r\n          //ẩn loading\r\n          me.$refs.mLoading.hide();\r\n          //thông báo thành công\r\n          // me.toastText = Resource.SuccessDelete;\r\n          me.$refs.msToast.show();\r\n          //load lại dữ liệu\r\n          me.loadData();\r\n        })\r\n        .catch((error) => {\r\n          //hiển thị popup thông báo ko thành công\r\n          // me.showPopup(this.$enum.PopupType.DataError, Resource.FailDelete);\r\n          me.handleException(error);\r\n          //ẩn loading\r\n          me.$refs.mLoading.hide();\r\n        });\r\n    },\r\n\r\n    /**------------------------------------------\r\n     * Hàm xử lý nhận sự kiện sửa từ table.\r\n     * @param {Object} - một đối tượng cần sửa + formMode.\r\n     * Author: quyetkaito (23/02/2022)\r\n     --------------------------------------------*/\r\n    handleUpdate({data,formMode}) {\r\n      let me = this;\r\n      if (data) {\r\n        //show loading\r\n        me.$refs.mLoading.show();\r\n        //lấy thông tin mới từ server bind vào form\r\n        axios\r\n          .get(`${LOCAL_EMPLOYEE_API_URL}/${data.employee_id}`)\r\n          .then((res) => {\r\n            //gán dữ liệu mới để bind vào form\r\n            me.employeeSelected = res.data;\r\n            me.employeeSelected.date_of_birth = new Date(\r\n              me.employeeSelected.date_of_birth\r\n            );\r\n            me.employeeSelected.identity_date = new Date(\r\n              me.employeeSelected.identity_date\r\n            );\r\n            //chuyển trạng thái submit sang sửa\r\n            me.formMode = formMode;\r\n            //show dialog\r\n            me.showEmployeeDialog(true);\r\n            //ẩn loading\r\n            me.$refs.mLoading.hide();\r\n          })\r\n          .catch((error) => {\r\n            me.handleException(error);\r\n            //ẩn loading\r\n            me.$refs.mLoading.hide();\r\n          });\r\n      }\r\n    },\r\n\r\n    /**-----------------------------------------------\r\n     * Hàm xử lý khi nút [Xóa] được click.\r\n     * @param {Object} employee - 1 đối tượng cần xóa.\r\n     * Author: quyetkaito (25/02/2022)\r\n     ------------------------------------------------*/\r\n    handleDelete(value) {\r\n      if (value) {\r\n        //gán employeSelected hiện tại truyền cho child\r\n        this.employeeSelected = value;\r\n        //hiện dialog cảnh báo\r\n        this.showPopup(this.$enum.PopupType.DataDelete);\r\n      }\r\n    },\r\n\r\n    /**----------------------------------------------\r\n     * show thông báo lỗi mặc định cho người dùng.\r\n     * Author: quyetkaito (8/03/2022)\r\n     ------------------------------------------------*/\r\n    showDefaultErrorNotify() {\r\n      // this.showPopup(this.$enum.PopupType.DataError, Resource.DefaultErrorText);\r\n\r\n    },\r\n\r\n    /**-------------------------------\r\n     * Hàm xử lý exception api trả về.\r\n     * @param {Exception} error - exception từ api trả về\r\n     * Author: quyetkaito (08/03/2022)\r\n     ---------------------------------*/\r\n    handleException(error) {\r\n      let me = this;\r\n      let response = error.response;\r\n      if (response.status) {\r\n        switch (error.response.status) {\r\n          case this.$enum.StatusCode.InternalServerError: {\r\n            if (response.data.userMsg) {\r\n              me.showPopup(this.$enum.PopupType.DataError, response.data.userMsg);\r\n            } else {\r\n              me.showDefaultErrorNotify();\r\n            }\r\n            break;\r\n          }\r\n          case this.$enum.StatusCode.BadRequest:\r\n            {\r\n              //400\r\n              //gán message vào popup\r\n              me.showDefaultErrorNotify();\r\n            }\r\n            break;\r\n\r\n          default:\r\n            break;\r\n        }\r\n      } else {\r\n        me.showDefaultErrorNotify();\r\n      }\r\n    },\r\n\r\n    /**----------------------------------\r\n     * Hàm gọi show popup (true).\r\n     * @param {Number} type: loại popup\r\n     * @param {String} text: nội dung popup \r\n     * Author: quyetkaito (24/02/2022)\r\n     ------------------------------------*/\r\n    showPopup(type, text) {\r\n      if (type) {\r\n        this.popupType = type;\r\n      }\r\n      if (text) {\r\n        this.popupText = text;\r\n      }\r\n      this.showMessagebox(true);\r\n      //focus vào button đầu tiên(để đóng popup = phím Enter)\r\n      this.$refs.popup.focus();\r\n    },\r\n\r\n    /**---------------------------------\r\n     * Thực hiện show/hide messsagebox.\r\n     * @param {Boolean} isShow - true là hiện/ false là ẩn.\r\n     * Author: quyetkaito (25/02/2022)\r\n     -----------------------------------*/\r\n    showMessagebox(isShow) {\r\n      this.isShowPopup = isShow;\r\n    },\r\n\r\n    /**---------------------------------------------------------------\r\n     * Hàm thực hiện show table function Xóa/Nhân bản/ Ngừng sử dụng.\r\n     * @param {Object} object - đối tượng nhân viên.\r\n     * Author: quyetkaito (08/03/2022)\r\n     ----------------------------------------------------------------*/\r\n    showFunction(object) {\r\n      if (this.isShowFunc) {\r\n        this.isShowFunc = false;\r\n      } else {\r\n        this.isShowFunc = true;\r\n        this.employeeSelected = object;\r\n        this.formMode = this.$enum.FormMode.Clone;\r\n      }\r\n    },\r\n\r\n    /**------------------------------------\r\n     * Hàm thực hiện hide table function.\r\n     * Author: quyetkaito (08/03/2022)\r\n     -------------------------------*/\r\n    hideFunction() {\r\n      this.isShowFunc = false;\r\n    },\r\n\r\n    /**------------------------------\r\n     * Get lựa chọn table function\r\n     * @param {Number} value - giá trị của table function\r\n     * Author: quyetkaito (08/03/2022)\r\n     -------------------------------*/\r\n    async getValueFromDropdown(value) {\r\n      //nếu là xóa\r\n      if (value == this.$enum.TableFunction.Delete) {\r\n        this.handleDelete(this.employeeSelected);\r\n        this.isShowFunc = false;\r\n      }\r\n      //nếu là nhân bản\r\n      if (value == this.$enum.TableFunction.Clone) {\r\n        //gọi hàm clone\r\n        this.openDialog({\r\n          data: this.employeeSelected,\r\n          formMode: this.$enum.FormMode.Clone,\r\n        });\r\n        await this.$refs.addDialog.getDepartment();\r\n        this.$refs.addDialog.setDepartment();\r\n        this.$refs.addDialog.autoFocus();\r\n        this.isShowFunc = false;\r\n      }\r\n    },\r\n\r\n    /**--------------------------------------\r\n     * Hàm thực hiện cập nhật trang hiện tại.\r\n     * @param {Number} page - số thứ tự của trang (từ 1)\r\n     * Author: quyetkaito (03/03/2022)\r\n    ----------------------------------------*/\r\n    setCurrentPage(page) {\r\n      this.pageNumber = page;\r\n      //thực hiện filter lại\r\n      this.filterDataServer(this.pageNumber);\r\n    },\r\n\r\n    /**-----------------------------------------------\r\n     * Hàm thực hiện reset lại các tùy chọn phân trang.\r\n     * Author: quyetkaito (03/03/2022)\r\n    -------------------------------------------------*/\r\n    reset() {\r\n      this.pageNumber = 1; //mặc định trang 1\r\n      this.pageSize = 10; //mặc định 10 bản ghi 1 trang\r\n    },\r\n  },\r\n  computed: {},\r\n  watch: {\r\n    /**-------------------------------------------\r\n     * Bắt sự thay đổi của pageSize. Thay đổi số bản ghi hiển thị một trang\r\n     * Author: quyetkaito (15/03/2022)\r\n     -------------------------------------------*/\r\n    pageSize: function () {\r\n      this.pageNumber = 1;\r\n      if (this.dataFilter != \"\") {\r\n        this.filterDataServer(this.pageNumber);\r\n      } else {\r\n        this.loadData();\r\n      }\r\n    },\r\n\r\n    /**-------------------------------\r\n     *Bắt sự thay đổi của ô tìm kiếm.\r\n     *Author: quyetkaito (16/03/2022)\r\n     ---------------------------------*/\r\n    dataFilter: function () {\r\n      this.pageNumber = 1;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n@import url(\"/src/style/page/employee.css\");\r\n@import url(\"/src/style/page/base-page.css\");\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}